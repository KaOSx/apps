
pkgbase=thunderbird-i18n
pkgver=115.4.3
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('a204d7d440281c5616c70c8635b71469fe3e37a048ffbef6150a3b368d45ffbe'
            '1fcf32f4d82ecf221bf5fb981a86787c0dcbd4e68b75ef970e447e699ab178b4'
            '95af59097f43e44a8d174c2f0bb61bbc01263de5ff25ceb2ab96e8c0adc3f231'
            '7c5916c0499a22955928732d1816da076082e25cf815908e6cc905668dcbefe8'
            '5935fb3ef2cffbd50c177f9e9fe370052c1305d1147e377fe6ed3046565b2112'
            '407236898ce8bbefe82df4adc09c97b215019ee72a5c92211c16cfb6c85a193d'
            '6619d114175726988a1ce43dffc62a70426a11fb457337a0de3413069b85ef44'
            '6dae2810e5780f71c43aefeeb39769d305b42781823e7b12c42ba43591241c2a'
            '8319ea9883c2437c2e3b4c420c30b792b0e538a17e0d09a821cffb198e74da62'
            '54b4e2d8b5b262c32737d55c084fde6a4df4570abbd8b8e2047725db6eb85e33'
            'dbb9db394ddc9bb8d9490702e4ef2abe6c3f8eaeac2683785b6a7b7b6340a1b5'
            '81470394dd61e0c354cbbb55bffd019044466c054c5f79be53d746b1378659e5'
            '7448adb00bfbd4d8aa7458e83bd73eae97826adb1f6fe832cc0e8d2f59035457'
            '9dc72cab6ec6a1e394829048077c4b1b9929a21f6496da34027de137500ffe0b'
            'de3686e1c78bd90794d57557480d26458bf84902918b8e2d4d4df8b53c20a52f'
            '0672828c8184bd0514f15019d4712ffd11fa11ae815eb1c31dcb05d27b1ad7dd'
            'a4c57728aa9b22800a9f14f9a357d8a53b0bfa7b9a47cf55286663eedd73d223'
            '00ab4e4ad8952c7726f0bb5ec816158bd39fce3dc0a5eb07f5fd8857497e21b6'
            '6ec13b1429abe2920ce47e4386aba126df4ad0acdaeeaf46bce85b9fdd1e817a'
            '04beba189efb075a0f39e59afd06ce44393f00ee084881d7d975d8ed3bc6fcc9'
            'feea96ccd0af8fdb97e2070a3b0b6bd96e8cc53bc71f160b2b80027dbeb1f52d'
            'a9ca4ab1ca9dad94de1ab0c1c67dc08077574d2572d846b9020a02b9e13db447'
            '4d0a8b500d28e8347c6f49277971070512a7e4e2c6724542c7311802631df35d'
            '370081dce9635442865ff6c9398c9b7e83482377b764f8632d6db358a47b0bde'
            '76a7180a6301ce6db23608346f3b8094b2a844a8b8509ceb35e2940860e7be16'
            '7e1a018b9c2c295b56415ac2c3d76b88d55732b83fa6d1d092b5d511f6c2c10f'
            '391bf3f5cfe8ae579e86efba87a23199eb4954aaa7b3c7c7c902f5ee5a212141'
            'fc8ad7c7dc41087ee1ca6732a3cd3ebaf596445f7b43afaf1388e6433e56139e'
            'dbb7433940e3454740bad7caea88e9d2d834952e9b7a75de391584eb57036adc'
            '82f1aecad68463f636c61ccfd64889c8ea5fb4fab1f3428ae1585390ca6f6950'
            '6ccc9ddbceeae4ea0534aff35cd48a75bbdde82cf34db37bc293ecb9d384280b'
            'a3c658bd7cc30b51f65855ae979432418e40c59bddec36d7d89f90cca28fc36a'
            '23ee5cda0ad62b183fd2982677a9a7a67ea4df79fc3d290853dd28a376ca61ec'
            '7c7ca76d31043c063c0a0b17cb797bf87ea907143c31264653cbd3a5dd7f0533'
            '9561d60788574a29fc45e857ea03446a96861a1a2a3c33f52f23752c9dc0e793'
            '4872efa9823e0dfd8eba76d5cdc86b0fa7a1a548010405f35296692f061a0fa8'
            'f30e057f9a931e86410c8548e711df0d1f0d407c4a6661a128513be5d0125f05'
            '2cf3836a6f5da47240837dd26b19ae4ebd6f94fc7896c3de3f91115771213521'
            '7b742c52ab84d1ef22720a25ccd4282cf386dd25d19044a43a043e541d8ec257'
            '266f00182ec47b3449383da6f95f87d8a3b4912f1c4c0c4e21bb47ba900da69b'
            '17a2e90d903b2776bac7f78d9dee0f7d0fa48f6ac6df18fe291dabcc14bfcd60'
            '996438945d92b6318bc1a519bb44c937abfcc1cf67428e9dde244f38138b34e1'
            '3d16c364266a0c95b003e93294a613c42bbf73824a75a3a8446071c6deea2893'
            'bfb3525e91b0f75eb1b111bcff857bca080f1b70525da190d24213702d5a9ebe'
            '1ac8cb50592421c5cab7a5b4b7d7a2386a0d8964204d32fa01a3d753dd9ec7c3'
            'e19459b1eb482c1049a0bb82de4ab2fcfe51d9607487c05f6fc337eda2d43449'
            'cfd2a8eda9c88a8ae982b17ec0b33421ae2b92c64f73ffafdfee98919334b0de'
            '8b4cbb9704479a506749aae5014e12c6fed7109efec115ae0165f727fb72735a'
            'a466cb0723eb88425a93c8efa466f887ced3ead5f8e2ab6ede65cdf3186691b2'
            '6e1c8290f2ac5a451b330669c480f18cb7de95e509f6234c5a995cb85c0d3c61'
            '9bd58da8e855056532ec003e1dc6bcec246fcab45b026678b2f3df17f266de75'
            '6109d7e23e4c2d135cc7c55c64e5b642bd91c8339a2bd341a3d2fec264bed186'
            '546972892bd1e73bb949d7e8fb223329453f8b73b635b83690026bf676787cfb'
            'ba4c9d02e69d92b035634838d5b22a336a10aaf65a3465924744d85038bf17f4'
            '65932b5a60cc0a7f81d1aaed35ec2b38f5d120e8afbbdafe24eb4b36df52c9d5'
            '98151ae720ad2202f2b5b11286fc0ca6fd8a362066f52b59a4f1dc162087decb'
            '90768a4e4c44e8d27a38870df299ec9e0d146528cad8c1d7fcfcdb90f9f40b42'
            'c2f7e5c2658dae7c636f02ae673a103ee18b193c694a232825e0816c6072e22e'
            '74267cbf7bc9858ffc2e200d7f5fda199aeec40a7e5f5c189096cc06582c3134'
            '8fcffc72ccb43866ef5f14dc2569c09650183fcd175c18fbd413fa2b7772d17f'
            'c0d96d9e95409271324133bbac288ee19d442014ab53f309540f91c655f75a3b'
            '61764181a1c913404447395620f17a321f9fc8f559c6c652692d9faa47d0537e'
            '54aa7becc3c97ee404d614d092dc0a61c8088c4695a4ac7f1befd04ef16ecf42')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
