
pkgbase=thunderbird-i18n
pkgver=132.0.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('e264ed7d100bdebd2e85edc878f1ce6b362f1a1049970d36646ea16ccdf9ba7a'
            '97f1c539d54b26486bd8da25f4bb60f5654abebeb626c3079cda022def59a848'
            '0aa9b3351bb44448c788131140d1bc1ff659870174033ac2b4fbefc9aa534651'
            '1dc68261177559dc97df3ef639993bba6e714ffa0082522f4edf407105067f9a'
            'bd00117d0baa6bf5e9fe55966ea515413b799b3a9bbb70449fb7dbb32953e43e'
            'ba8d080efc1be7d645cec920850b9767445d03f24bcf900094f9fdb9dd9b6aae'
            '07322368c0bdf0b7612b9066d1f9bbbd812ffa370b1dcac109fe17473d21a149'
            '7a8d94e506dcdae731bf35cd13d2117356d6a4ff3fd660f8e4a9055f02ade4cc'
            'e63857c49681347b73ed47533023156989a9afab5ed3f085fb3e0b809c448a10'
            '9290cc9e1b45eda99faa9c6e3a6f36e9f5556886f9c63694e86d4dbf321975e7'
            '3628163c1df52ad2951573d7727a033d2d7f869ebde6bce4cf1dd6cb9326ca12'
            '48bf9c9cb0daadd662352b3c5e3353d3a872f642752513b962e9240cdc73621a'
            '3b0633215aae0ae50956889b0afb49c633646e75c73d950dd8c592448d6561bb'
            '775f7a8d41e83bb6841f7fc0c0b707b9d1a539190c253b9c3d05a41eb2fabfbe'
            '99a2e05aa23f3ebc16aed674308e9c1275f142316df0aab02b3f38202fdb51c7'
            '5bf9c32685383d055bbf2871f0cca38cedfcaeade9f5d9f065ad1d524625afa9'
            '7713cf5e2e236aa09266b07d250665bb8ae33a20d1b7075f4781765d581b3fdd'
            '3aeb4a12b626cdc3e59450a73ec68aaa0e067e50b808c35f303b53b0b15fcc6e'
            '66690f9a6d017f818dc7a40daeb58f4d0e10419361cbd5ea77381b5f87f44d3f'
            'f575bb817bee5f69ab3c9a5c5b72903d53a25bd2b4459225e00b2b228044f650'
            'a55aac7e2ac80619ec8d51149026203c451c817ae95328b57f129c309c9e875e'
            'cdb168bff466e73680fd7ed4127d758dea2306b9c015472126861e0e6aca9170'
            '4417a68da9131aae0ed4f115b13fe6827bd945bc0b7f931c16117c1805f7e78e'
            '34f1b7e1c73f69376126c5de557e6a8be9d0ebfbc87c23b2ed6015eff439b4f2'
            'b7fc3edf046b65dcab3b06cc759ccdacfb423d89cd76556decd44a14149fddb5'
            '61f76f451a4ebe1e47ee047855e0a70d9f52a4f1c323ff3aba7b01e2248ccc8e'
            '7a8d0fec4d97f7bf3a197e1163c5ade22fd3b4184055fd065cefcf8af9cac740'
            '0527b2207b73444fcabdc6fa064a0fd5ea5e77530d29786f171de0b4cac8222f'
            'be395c3ea96a5c237e66e59771407ef362f935717a6d9a8023f4be13bafcd41c'
            'e2dfa8737dadcae046d8ca0ba2e217e83f4c7b33f66e3232faef2010f33607f8'
            '331023849d806efa07e79efa90ed97d72ade17736e81c5747e8402de9dbfe88b'
            '4cdc793b28194eea26787f3fa03edaf5f062dd26f1f25b7ddf9b6cc97f64614a'
            'a08d47e9a44e78a926002981f431b963e9828e1c97fac88276996418b2f47bef'
            'ede12baec9fbb0650f4e36d6c74c0f29f404fe2ff9b192dfb934e39bd109cd13'
            '7c2cf2f1010dd3aaf182e12668ab34c2c5a2da7ea179bbe8185d09b034469bc7'
            '5b8a4143130430c43f2a61979003aec84f6c2e48698b35e34b1b5dee5676b705'
            'fdc158ce8b70f54117b56a57a6cb0bf45ea07b398270cee230cae84ec441d578'
            'b0a432e625b8b90af57451aa3bba69ae22905f1ade5e2da734a9af434bae6340'
            '5d4624ecb0088795a4a7c86c3a827b022231432b8683f188d0df1dd103f15690'
            '1aaa433b8f27c6d6f602b752212a18c839223e94b64e17d64f02e8d824aeb15d'
            '91e70ed24376cff5ddcc984efd7613a6919b83b302b6d665dea1dd19df4f61ac'
            '98739e5baff6894d10bf5a835a5409e215fe41bc78515ad642a873a8c5684485'
            '46a2111b7ddc09efecd547ab7de3ef6e8e45eb174d389f48068106268ab22b18'
            '392fb96d4edf49db825f270a128bc905794afa3209d9c1b8d5185fc2683cb2ef'
            '78be645fe69c25bea4ab3c5405de40fd0232a931092c953fad601a4b0a1a01f7'
            '591509c61da81dd2cfc0af60f83a0a6092556758ec3870bd91aaff716cfb37de'
            '83616d00153e978e49c8900dfabea90c28f7df7e9bf15b01b1a074189e0fa97e'
            'ff856ac474158ec21871fa514c8719caf40234e2907cd81b892450c4aaa7854f'
            '29cb22599858b0b894a22550ba460e8e8f0445a4f048bd440f8d02b156a7191e'
            '48991cfe25467912196a60fcc2b62c92e62015dff57708fcc4aa6e7dc03f94f3'
            'a2a557c210ec6cc89e0fd0fdd9f4ec0926370928fc121c60bd4e5b3bfe128412'
            '6a0e923a588cb871204ff4ebdb2d192f8c66a21a6364c2fdca3de7168c183bbb'
            'bb561ea545a311ae9e180f964974da1e1950160f987506c98715820e15f6b656'
            '43b048b0f8c953720a1ef9705419bb8a75207c757f1b3ef4cfbe336d0484e601'
            '82b1dd4038c0e3f4e18e2f4b1f1925c7dddaed3580b2906c0717f615ede10e56'
            'ec79934f52d2bddfc2da05628282b4175ba4581d367cfe53b32269ccbfcdf584'
            'da74e4cae333be93ac447b4d6a4be4c3d8225af0bc0c703e4d1fda3474b69755'
            '898b1d94a141b7373442d9ac08b1646a53787f1ad284dfee9dc70790be8ca03e'
            'b7c516912b31256aae7cb5a00c150c316b0d8ae08cd8baa5c8ac06e67d051475'
            '2e3f831a4ca5480b8c9f0c05b65842fb4c7ba5ec34676ae7bd15daa0eea23e3d'
            'a303886182468e3c034e9af7b873baec2be0481e2eaa84d4f7599cd9d951d23d'
            '0455e0305b2d210b1320dcf7460013264e04c858bed796c40a355379130bcb8a'
            '62ad2e4e816add32ee0e5ff1ab40bffcf8a024d55f47cc312d10556102a2ef6d')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
