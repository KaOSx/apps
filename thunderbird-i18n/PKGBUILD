
pkgbase=thunderbird-i18n
pkgver=102.4.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('9bf35939e90d71521a6815ea3eb808108bd0d74bd23dbf44a312567536f4c038'
            '1a6561b7639b23d25192b3917de616811c0975d3ab7e6539c68cd2b2f2cc4041'
            '25a75b467fcfcd24b0d57b11ce8f29b1caefc9c7a288713dff0c4ceea459beef'
            '332ae13af99456960446091b0a0b10cd6a3ecda505939bb3c9fc1e7fa7a65ac6'
            'f1f4bf7f906dae1053247da5e8dfe3767e83081657d206c4219bb713c14ff01b'
            '0e89d9aa4300d265177206051a8d76a8822adaa95755c61a1265676a89a56fc6'
            'c2a501092e99abd15892233f0812a4204c5671efbbbc40362d69a180988f6d44'
            '0d80c0de61dbaebeafda4d2c67190631188d8e10876911339d6803a11c4fa042'
            'b7b043a41af4be89da7f3617decd559a846e231d90aae4de2975568667ddf904'
            '984f1cfd434887e9ad0f6480c9e1ea523c910c2da78fcbc9b05de7d5a1a004c0'
            '3d0d576a73b39dc2db50a8166edfca4b53227a8ce75a752dea3e79d5aa04b074'
            '06f04c01d7cc24d52d47439a81f9a1443d90a4f020e78af0a09de9bf82b90abe'
            'eb50af2c0aefb3e3af2a003ad743e46b205d2d2dd67aa0397cbb5dcb2a56769d'
            '8846c14769d1a19730d23d4b72f488773a552063b00036422377ca0d55c5c895'
            'ce5a778a5966ef4a2da2b7b82008da18676729705cb86156d0a05777769ad482'
            'bb1c1fac98355700c8abf76d1852cb11af5e11d6457b0196bbdc87993a455483'
            '660feaa4cd37b17c5fe9ccd031e686cd4ff15b2bf7ef69ee81d80f4e49d13cec'
            '8a965ab5886b8b6642e51d48dcc665660a2bbcd424f8096b9d5c57d62d8cf0ce'
            '62d22b4e0dfc688f7f9ab61dca39a42f6daa798c8d722ffbc59906d43c80891b'
            '9a8076644c67f2c2b2807df5362ed4b7038384908515b8a8dbdc3abab3b14721'
            '3abf6aacf9117148374a5004d8ada320cc33347c7f194f788dbb032375bb0e73'
            'c28814a982209e3ce1a05266f809e169453d1c244163927e02272110da45a621'
            '7d3ade71e7bd35ec192ee345499edbb5a8aff4485d07a5a1fd72d6334b2cb5c9'
            '7912649eeccdc5171bbaf43338d225e84332e0ddaac20df652fb041e4ddb8f32'
            '696c61cf0f22fe86c680e2a5c766c6ad999293e264a2f4f01f6d8cb601937d4f'
            '75cd95320246fa5f7a84894f8b3fe725d52151b949fd04db82ffd891b2baca84'
            '886339752d77bd9f7bb423e707c716cd4c76325976fe8d875dc715eb37ee2c8f'
            'c81182708ba99a073f7a1448bf7346b8e1f27f0328657da47ecdfa6a5bd0ddd3'
            '33621c87c4969e4d86ac10cd8608763f2aa4d33e1ada9a9880d4285167a6e203'
            '2ed865b6106cdd380e76f05e7d2671731627f8b2a7914ffceb6486b34c27a5c2'
            'd9d3863570ad3a300db5de48572b99833818695f7bc34291d92a503aea41da5f'
            'c904916c17c7bf097acd7f928b0dbb7e44ecff5df817a7e5f9e8a8aa22edd0ea'
            'cc938c01725d427f7c4ba2ef7ae131154b2b52886de39ac5963de718f4a8f754'
            '3686b97d2b1acc27a8949af37506483b14f0dad67791dd0aa79c3394a0eb7b1f'
            'fa25a46b620fe52105a4c10766924af3931d3b8697afc7a9c797c101458c8a76'
            'a6001d379910fa519913c8fe84f3d9ed2e819755d586ed10ff44ebf70ba6129f'
            '10effe10d2cb3d98453a0a3a52d22f7d67977b2bdfb00234fbfa11b58cb4cdea'
            '431fac685baec7ed407fc8485d9095f3587b0429530b6e0e9d3e9f5bae2dc2ea'
            'a0644d3c3548a159b814a6f177e0646a62b95127d2a0e96bf93866a9e23c931e'
            '94e1f1fcbc853fcae4a8051c72141388a5f3e216b0d16d8ce0a0bbded93d5d0b'
            '8495126a0000fb0d9117a8331c2bb7655ff26ca155f8c7c2fcbb486191db4c08'
            '61dd83c59c87ec81be46a04a05ac2ec880e232e0153007ee037458c5989d8671'
            'cf97408d0259c4b1cab4df53f078789b3e4a6e4174e51ebd0e4a23350de75b22'
            '00d9e60f48b6fb96d2c4c0d29917542674669b8e5b37c023a59a050b929938ad'
            'a8f7307bb8d9edc1f5728442ddeb95ee7d4667f61193b7cf6d74305bd6f84a05'
            '6f45ef4c4bec0ca0fdccaa0424a1533c59131cdb0b3ed71f6672970365ea0b6e'
            '6ad431797000d8dd583727ebd245f2cd9ddc1a66211d7932fa588d9d846d0caf'
            '93ee1afb6943eb52326fc3c9ca9e7fa6bd28fde883dd2ddeeb9543ad9ff4106e'
            '68d0bade931a7b573f767f235f9ca2daa059991862185aae4913a6af678cc3cd'
            '448772205d4061b822e894b58d6906430f8ade14913349ecda7f39f924ffd309'
            'd5b61be8eb530498aa860d5b16faa1fb86978ed7234ed23ec7a9527e1dd36743'
            'c72a1824bc5c9e1bd5583baa8ceafe03bc481f0f1618875b147dd2f9cd4b761e'
            'f061e94aaf1ed9e2f7a61bd8ff8d173f77252d39b6d32916597592e54c36d207'
            'd338ba911d206b0dd0a6f6d6959d9ccf02d58fa8c249a4befdbd6c09cf4dce30'
            '2c7a080df8e30547a205ed6bd6646c68621e2547e172f3f9463e7e6fe44df7e0'
            '90ac8565e2d05bff841c76403222239bb652279124566499f5b028e4e809c62f'
            '3830770fc8285246341c160767b3c31de80caa9f0b63f2857aea55ab7b1de1b7'
            '608b64a24b70898e5ea9b11cb1fe03bfe5dfd1fc6a84b087c59ac755d63d42a4'
            '10ec3be6d830b9429a2cf014570c6d8484e21507045d66bf58532332346d7444'
            '3be8b67ce5925deea1369619aa28aa4e8706d716833529f21bb69c2bd4a7ba26'
            '846b8ec17a29f180e0195897223cc09e880064b7720505c0bc7cfbafc3a9e4f0'
            'ab7d87e6c505349552ca49c4e6ac41ddcb1fd295211c3f395793cd35fc49f08e'
            '6a03ec4bc23a8d805e62f0fb5f9616a4ac89960709b47305a38b50be27f39db1')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
