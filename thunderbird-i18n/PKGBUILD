
pkgbase=thunderbird-i18n
pkgver=131.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('4211b1fb85d3cdd532193c3ee09a6d014637285bb384cd3514f68a17a95cec9e'
            'aaacdb5e347c9f536afb8289bdf390c1c5337748210f7742721c596fd889ef0a'
            '7e54e1364de8cd542d3169d3e33116336671acb510b7cfc66dfca2e918b11f3a'
            'd2f73d4e3c6493991496f1679cb5785d2cf1edee0c18fb15b138006c8c0a34eb'
            'c990b63cb2cee5993b39ce4c1d43342f4017ff026d5bf4830341a620ddc3818d'
            'ebc13045d8a245db882d0f2b13ff9bbcc61be595676d54979bb96c6e4ac6658f'
            'c1c9f5fe38df9620c1d19aea7d630dca55fdef31494b48b9d313c5215982b9c8'
            'b5f4ae539a7214a91136bb3f181b5cc3c7862a239f9e6ab2fdce0d1b18ca07f4'
            'a86f32e58be95e1904a9cb2f5380c51740ab846643f668e1be59294e460d7bba'
            '64af7681c4c569c511f118aa83d4d714fd98b8be2363bb0406ae093840d57986'
            'be7b1d3205aba2f18dcf9804a1821e27895404f053c20f39748513b93c2c7aaf'
            '8c80a6b696f10cd43da4e6b539118efc6993d054f0e60738f5e4bc8874a9dd5a'
            'd56956fd2d114e8cc0f4eca44d2df273015071502986d54e1010b6e1eb5b9868'
            '1c24bb7e75db05276d82e240770d44c77d263fe9c17b0f9b91534a484822d8e3'
            'b08a25fb091f9351614246700ffe958046649d1e599acbed5295f89d3907605e'
            '5150acdb5e62abe3d0dd329205dc8facbaa563af204bd7f05e5df6a335ee0de5'
            'e10869a4bbfa4a619b5b634af5785ce9cfa4b744549faef6f7411fa81d5dfec6'
            '7df28384f8c088e58ef645343e67ba257a4bfd42da13ea0867537000a41698a2'
            '37a355534a2795fd5a6d070d5846c5762bc689e8c52825e9e8465132836c7434'
            '05c1962590c40bab74e61de68f1baee9b919e5cab70cf622d42cbb256cf4b811'
            'b1fa50694a31c0b6de39dbaa494b3f702017213b85b9881e3b71d82c25e98862'
            '372e77470e8a2969edb798539d76d0d2ea501feb8db35ae615bb6d5f24684696'
            'b77f07c9e42b4b4351c630675dc6c955ee41857680c9ddcaf823cebf6123f5e0'
            '93ff7fec7b26de55ad9e235a543d2891b4e96a9b51a2395f71ead6db689a9d45'
            'e7c7c37082a3b7eb96ccf080fc03fb487bae487c76e1dabd64c7174ea639f7d7'
            '231f22e81effdb0673bbb740ea6c6ead6b2dc1edffcba7da763dedbd9d33fe76'
            '1b99502819268367231b0d8df46b2c0cb3f590e4a683b8ca63df1637fc517dde'
            'd8884c9b2feb3b4fa075826351ef8f7b6f3c73d2eaf4804f76af31bb7086bfe4'
            '722fb09fd9cfd790948aeaa2293a182f466ddd1a83dd61dfdecba74bcceb5daf'
            '1e6b61aea780a058fc622215579752b9ee3610c34ec911114f11356e6affcc91'
            '5538cc82a7d0b15341f6daa668e08d38d8bf73f02dce964d06a25c31dddd46cc'
            '2aafe520923c61d50f2923675c57d3555730cf2e33fdf5441e3c7e9d3a52431b'
            'd1de92d8dea4daa1e6cde1e3473cfdef55f183e6edc16fe997ca564149cd1437'
            'bacdbf2a0ce26c594c8fe834cd542d61148de80b528077760df2596b06f77927'
            '84bcdc6ade87c0931bc9248b91b00a39addad7fecabd1977e4d5a6340c9f9dd8'
            '829999b5ac16f6e9355f870f2a306b00cc079be3ed7bfa7e5ac3565831594023'
            'aac7856f9f663174a8775291d77dc9b07160b7b421208aea8637789d5d22244f'
            '4a9771f8834991ef29d52bd553e151e87e93cb984aab346a87e73c14250a02d6'
            'ba870fc685b7cbf78bb5677f5f4bd5736c0f5f5db3ef89230788958a675c71ea'
            'd7d15dd8e6189e28a9a3e1d624e76d8790ce7d266f68290eedecb87353223a63'
            'b11ee25d00a4f062b97b72110e8c09b18f920bc8c4d4d859654c5734744e8b71'
            '751530bf308bd7c169663a90159f5a2a0771830fba2012daee9b2b5aaa75a628'
            '5cf7e29698b39de935c5a5d77e95694b5e5bede35f11e0755c245a67722a0a66'
            '31634ab1c0b277a7dd1e527d5ec2c2acc25afd64cd747cbf46e6bc0c2fbf0f07'
            '06b464db5bd04dba9e81b76c96229408b4a5b144dc8ac145151d8be631e50cde'
            '21895d13f7ae95b45a736627d060509046760c0f488c2bd4c5ca596e360338ee'
            '088070cf64fc2c22d07b7584b4193676a3066497bf0ac3d4f59248c48cbee844'
            'b77c7d8aaaa12afb50286554c662eb8767fc65d477b28c15c6d303d36470f084'
            '7035b7d61d061ff26382d9b503948454dde00c42475fcdbc1d9162250918b403'
            'da6a9d211dfe7a4a252d902229e63cbaf2fc65b56c2cd53d95e3af87c19e3753'
            'b6ff8fe0baca15f1a8c956b36feeafd17412c12bdb91046f04e7a9bc49ca94bc'
            '2816ca278c35a85c17608b0a833601d5101ee004630a1293671ade74fb0256d5'
            '6fab2ae9aac13f63898c74a59e5cf284e7cf3743d2b6649201f4a3a00f5eeecc'
            '5219ccf8c16c2450df1d6bacd66d4cdeae806c2759665ecdcba0df74f49a5852'
            '747c2aba669e560e94865d695d79cfb8aed0002c072e8eb12a50fb8fd7858061'
            'a227c1127de89698ed9d20c898fb34f71a1ea562aca4ceb500bbe7a2fcf42e56'
            '110888f718b2ee5fdc27330a21c636dc4a8e2fb6b14bcc46ac4d1f8d0fb663ca'
            'a375db4cfe2d95625851766f65a5d10712f0d53737791dc6906d57a0340b7c69'
            'ee24c07418d1d73bb24a0bb691c85497f61e339162ccf79c550fc06047e898c5'
            '8c9c0e954f50124203989274821ac9dd9a7f71b69e484ee4b33bbb2b07dbf190'
            '948f0bdaa57fa4d63cd3954f2cf36617c203596392155b6ddb7aef846c15f298'
            '542dd62c56f540ae9068f2b2c5207f831929e08b4fe371b1255bff9eb2bce1d8'
            '2bb47989cab4b6849e44e9ebda806a4ba3846e78d82b3c412b06ef29a9a93386')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
