
pkgbase=thunderbird-i18n
pkgver=102.4.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('bf5100cf3903e7b42e4e2ed82c67959ee97aa58f30334650ab14242ec01aa494'
            'c0ffbc6ed6fbdfee2751ffa831a4de214562352a1131f0d918f681c5c350164c'
            '9eaa1e31cba6fec9dca43d7d30c61f03f8a0f5fc650ac1fcad379baf5d74e530'
            '2262d55c6b1708bdd0f98c87747cf8e3e86f245be5facc5e6c12849063f39ea1'
            '02c56f6027ec5c962f0e5f01703b8e120e1e98eb1c6ab765c418f629f5172ff3'
            '983d54c8566b816ff3bf1e96944cd37cd86d67704cfd07e842a9a932aafa81fb'
            '743495dd815bde90772a367ffb25ecebc4238de5f8d709369a51b729d7fb800a'
            '30348d7bcecaa29a6c392c4e3184b1649882e95b1c9cd7395dbd969ed585523c'
            '8bf818cc6d07f761f3c8bfe1e3278a9f88e37be0b2e01210736f4b23c5f0fdc7'
            'd327de615e1cb3eee7ecbcd515479f12cc7a3c42d658c8c3b11fc4ff40a17824'
            '5f27daa10e2dc2134218e2e320b30ab76c391eaa13233d2ab5d756945225448a'
            '9da6f9039cdcb65d8c1c45914a225079ee6670dd0180a933b8712b7a65510bed'
            'c10c4940b25242ea4f100e05362ef1eb0f023806185745be2cec3f4652b76e0f'
            'ff8702f1170f61f982a2e5147e82138d9fce760d2aa256edfd600113d9176f2b'
            'c0a3ecb5c0ed37a761f0e324cbbc983b924ccfd817f67cc3331c18537a8b24ca'
            '70535fd58da0edb16067a3d4bc7341b3bcbcb8095270eb584b403aee096becbf'
            '0587d65b99c18e57e2af7b7fe2a39335d570ff31b73df22ff9aa01ce8b5eb885'
            '623e7e894d9c03aefe41b40a1444eaabbfa0c1b7e942a62a77d4e52aa6daa2a2'
            'b8ce1b6e58b131aa19984b6cfead8122abf8a00779606c1a209c854e9d34ae19'
            '28d59dca8e86895b82106d9c86192f35f3f97797fa91d50ff2af226e6d7d251d'
            'd4dbbc1b185c518d46c32d6861786c96af93afd66058628ff2a604c70ae5b06c'
            '909d206ef842e755a9333090dc3ccceb90290c17f7cce40d43f80b4cbe225df7'
            '62a188b92ba257336ab50dc8188ff6ffec8e81f19098d485baf2456549d3ee8a'
            'e3b7bc90a976130eec8691012c2bfa4d62dc87a0868587c08a1e6740727ba515'
            'a42a102e3ff0ee384ee255bfb0d814f106a45c72c6ee79db07f455d10ff11d08'
            'd619c6d5de50780a784f780429e356660b0bb3b305bf5716baa77f271581166c'
            'a98b8653bf41b8da24044cea179032963ed8f15e946051e8907f417d25225e81'
            'ff1b7221f3f0df73e26c69cbb1f11676642c814ce3539029b571c1851d4d773e'
            '24e13ce1a4702e168777d76f2c8cdc81f13e58b1ca3f7eded2588faa137fa074'
            '2dbacde828573d728110bbeb0b68094528367c978a61aaa5f20664f569482a63'
            'fbd735df8e1f76838dc151e69507425b1eeaa116a6c2909b5c088e2b5baded93'
            'ad85cf69149808fbd67c18b5a2953b88f3d39f0ec21c971aabcdda01b8e9bebf'
            'b2974864f9be7378bac3d487cbcc4bbbe3a0bb670d8eaeb3a2bc45dff35f6a7b'
            '9dca8f5b50d77b43edb1515ae83e87c174345a7c7202688f4c26372a183a7d8e'
            '3eb91a0835cf9534ab6a7034ae6aa0c4c8c1b09c268e630e9f1588d93d616abc'
            '12588da325420764516026a8f3617794d2bb70c9c259b9c57abab7115fdddc18'
            '4027895b43fc5a2131523899391794d42a1fb693c532f8e1f15ffa5eb55d6c1c'
            '7fbf4fd5b20992774ed44430caac5d21a7bb1e4cc3ebe302e6d4974ab1dbed47'
            '570d351783a6b3908e0e21462c1ccaae82f6ac8c5dd672ffd748b711fbefe776'
            '17a1a8f8bb9cf83b645c2b905dfb26233ab67d894b9fcaade4869b2e8f1155ea'
            '3cd9d987c1a7cc4eb9eef3ab2cab1fa0bd9f71f51a8b1ac476fe5be0608faf8f'
            '929f314c55a45332c59296cd6fe13f07d601790d7eb8a8a53072a183f5d9b804'
            '8dbbb90ee6b4c734171e48dc09c0a0ed99e6596ca1b479a75ca2ba2fd8384597'
            'a25b483ddecc85b047e81897188ae3952ff3e40a20c6a022e4f734166e4045d0'
            'b6c8e69866cf11060118ab7bf8a819b95f5c216da98d1cd38e0ea1347ded1512'
            'a50be65545188c1721897b4b79c46ac8650377bf4c9345fbaa6bfb5568916674'
            'a440b30c25285ebc71a4581ac2ba3dec89399a4d80757ebd99e706f37cf9bd4f'
            'e086c1455c83040d174ef3f5ca74a357b2f6c720adb7f96e84511de335be020f'
            'e467ba93e36aee94c4ea50d735bc2668fdb8da83d05d4d07fe22385ee67a318e'
            '52492dcb785be4073bbca60d65ab780193518f374d3d9d9335edb091d43ec617'
            '5f236a1ddbcbd92026e36018d6a413a36bdc0c3833c4addb2a9fa11e68b2aa93'
            '11e319cf84cebc99ea2f00c492c3d499411da6f18cb1997a99f243ed1fb16f71'
            '2b02bc9f97b12d090d7e12b7a951c0ca17b9a93bd82490ef1b995732e5a52c6d'
            '3daa024aed0f759bf4d4fbeea7bb3f0d33c6b6750f368ea124177cb572a9656c'
            'decdfd560c8c9fb8e9eb0afdd52c9e7610a9b82a3372154b7695727f0ce87e62'
            '36468b91f181780551807505a15efdf8271bb90f21db6571cb2286b6974202aa'
            '3f934d9882e8ad1f36d98775d0c6a9918a867507a10c818f2380bf6731bd78c0'
            '423ea86f00d3352a96fb88e915f1f3d7fbb779d2df4a3f82cc5018562e7848f4'
            'c711df0c11458579b261ee14210258a6d6b5ee9d396f17bc1c1c7e6995529a42'
            '7838cf99d04fe2614aa502184b8a4038b0761920906552bfd8d125fe70db252a'
            '8142d45ea7923ac62ac62e5cb49e53a2b1a210971213526d76bb4fbc2deff2a3'
            '2b9ffce0d8e1534e66aa58ed90340f652f87f617198f29d87ba582c3526bdc4d'
            '43c29303131c6bb319ed026fdd753c954b6d9515485a3ea6ec89eaa385aafe06')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
