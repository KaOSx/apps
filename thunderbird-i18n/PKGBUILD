
pkgbase=thunderbird-i18n
pkgver=91.8.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('834c920c1ca6ed7d1e9f2fb98a7db39df76b60e7c25ce318d074c9def384849a'
            '27de9b36f14ffbf2f8c2b82d43dd483aaee615502a98c6ce700fcff54bc9e14b'
            'b6c4ecf8b267b749a17368cbb40db23444dd7850eb10d39d86f1c14e60467928'
            'ebbda9dc03b4cffafc56713d6e6e2d44f32f541cd249919380f91a9f356fdf7c'
            '249ea27dbb0ecba6d504b746e508e379f8afba0205a08835f31d23a9a266b56a'
            '4d1b24942bf25171450aa40d11e56ae6edf3398b7459d1f4c0c1e183b075354f'
            'b577031dc69111c5a335ac708d0f7a3c535a137305215bb1774b8e31314c726a'
            '0a601c18024f2384f05c35eb657d872a03f7a7f17ed3b7812e98cedcb78cfd30'
            '5c805a2520bc6af661f7ee97f227ddd1420cda0fc15ed7eeaafdcbb0b34e32a6'
            'a3f33971d318e29010ba4a7d1615545aa67f85c8f62dc2ab76d9e731848d6710'
            '404d42d273cdb7e7b04e7707a6ac79da5d27a5439b763295a42dd702e078e898'
            '35d21bea7cf1245cdd8724b15cfa91fd3076cf593f842831ed695797daef8933'
            '655cc6c5809bfc4bd2072383aef5198b40be0ba535d009bec8dee5a7a6c0f1bb'
            '99ff79c231aacf14c64acffb96ea905ee9558d59e658ec1c5e8c322312544acf'
            '3a2af7f669f975c8cfb3936e3b92e89aa87e9897c01e8e48338888656bb8a6f7'
            'a26b76ec01c0ce8ce784ef8beee547cb02cb530b086ea2e7cf1e983f0711adcb'
            '0601dba802a3b8779aa803f57c189ecef3ea18fe344d05a435d1455fe00212bb'
            '61985d652a4462305d1148dfa5685376a0d85df18a42b9db28cd963a172dd5a4'
            'b087de07609feb83dca005f8a3ec9952f1186a312b130a0fc442e399e63b0b7a'
            '0d0fe90af0ee09c47d303c6ac5aabf3826004e7c35467afe38a6ee6c00b8cb30'
            '72262a9669d1cdf42fc2eaaf593469f7e03a512c095045907281c1078b706b68'
            'cf37941092eb1151bdc423697b67535ae9c3af3c6287e9a71f7e27efc5a0d1f2'
            '521a84f18be9ac22698baabbe1ab6627e181191f077bae673f0892418322edb8'
            '338d6e1362c73298d1663fea7ad9dead275e8b854f9a2e1d9fb1751947ddc40f'
            '30fd59b0dc59566a44814add2fa9b2f87a1486291bb783df35f26214f9a5d3e7'
            '4ee42c23375931662644b264b8ece4e887d7112023bed1d639e25872bdbcd358'
            '109276f1ed4fe8e8ee8ce01fcde04c5ea266aa90576e1106a3f806a68f26b9f4'
            '166a632bf2ef6ee57c2814f291c2d41dc22fd17c9e7fd074a6eac15ffd728ea7'
            '50b87feedecd3fe956604944ce2f7612f2d33f8bfd4d78dfe7e9be179835eabe'
            '77c9bc429361e7b2feebd18341ad5d519753476ec7a7257cbb087d1f2b1b5443'
            '4ff4f46291fcbdb8a5765d070aff6c5e2d871f424d50026270bd413f9527b20a'
            'aee63b04cd8f34ee33d96a57874653e9656b827b1c1ec94489ad1e9d0cbb1315'
            'dd61e7c3c56c62a6869dba3280f973835a993e61fae0203c9f58842a7fd1e3a0'
            '2038b32fa296131b6bdaa178446ba2b90a4c6826f179922b20f12a940bce645e'
            'e9ebed28a533faa72e73a4022d44a29f673272c13b5a177915195395bb818f21'
            '1c04fe5f8c52327e1843d75dfe3eb50ddbbfe1ace278ed0372f2c6b63fa45f31'
            'aa43f32337d538b54a23d65b397187b8f601b3677bf21dd7c0f8e768b952aa5e'
            '4fdac41e53cf1b9269c2cb7d8cb5acda336869d3f8d9f1027b9adf170ed953ed'
            '706c14797cf6ac47b72cd24982bc63f7e35322edd44f90b5f28d9f68770a9043'
            '0a2935bb1319d8d1812d180c5a0fc20675ea8d0fcfcf156e24e41c6bc002ea16'
            '689964fdd9423641e77a8882fd274c601587a5cb0306d3dfd40f62814a82d878'
            'b6cdf0ab003b2c545fee32d7e364432bba5f72be787fa7c208593656bd7da48b'
            'c0b56eb6495d81bad7ab9c5ac27b4a1fd7945727ecbdb614e4e97be0b3771819'
            '2371668f5a3d434ade94ee76eab36bebf0f19cf92f4806a907da2e4166df4f9d'
            '1d84b9f4d05cc974e3041854e10f2f8eeb0e4bcef75d34f30e4c38ccf6cf6997'
            '394b0d91055f2197e9034265f1946a57d464cd3d431a8ff84ed73bdd8f99c663'
            'f139fd54f72d6e66f5d72604862a0d9a3b608184c2bff372a531246478444857'
            '09f52e53cd0e6ad7efeb8201345fc50f676cd5c67ba9d20ad97826e019d656f0'
            'cd4c424784761f6f08466837e8d8719502fb7e5a483571c01e0f761c5b22df15'
            '475220edaf825e476edb1a542b77a46b308c13022575165313f37c6413a5339a'
            '23a5563111563f715a3fcaa5a6d21b5ca0d202882e5c6fa491eb70b5be2e3b31'
            '5bda24a826e46a9bf74cf908dca72829d52ee9fe0f42bfff72085c8799cd37c8'
            '195f93bdceedf93f53d8306e987575d37505dd0e921333b6aa485785272460d1'
            'bf91711daca926b44db7d1b0ea804bce48937d73ccd89d9ea81775ecf2cf4708'
            '84b7c1fda56affcf4f2019dec95f7dfe4d1624ddf9f88627e01130d7f0bd8b4a'
            'f91f0f00de5db27f2098e2de3a2ac6d36b20f6c9d96121a376c202135f8a244f'
            '9bd1be23d6c5a39488ffb0fad4c82c66982a8b412c3cd518df2c7424cda51865'
            'e971045ec7f2edcf14e2ea6696ce9c94b575af33c8a1948c2ca999edff032bd9'
            '74cfa5596ce366ee5b7744a849e0f314410a24d507a4574febd3aeb1a01a7695'
            '54e77544664041c7af7ebb40ea134676012e865e45fec40acf64f3400e2e801f'
            '7b8d30adf2fb605c85db0b5b5ac343707eb0f3a475530b34cf810740656201a6'
            '9177181fa02897dd53ef1915043912c532f92f87d1e8aebc454343517bd13306'
            '615de5c31b6f4244591e383b1381b516b99d1ff8809c298cf39ca308e35eb7e6')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
