
pkgbase=thunderbird-i18n
pkgver=102.6.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('7f300b6010d1bb9f9ace6fc1dabe6a0c344a3a26b3c46201bd17fc1d49e8355a'
            '9279540cd5934f6ea0588e8ff74f05ef5921f279da5e34374899fb35fbcfa8d1'
            'a4d15dafe68bde90429d89a4d0ce590984ee4845e7bff1095220759ccc7a94c1'
            '5db0c09cb8d11b52e1a4a6acf461b528e25aa960af438d643fd3b9f8736403b1'
            'dc160149142b6f69d2725a2342207b2701ea7cc7872baa3257135a1f2267762c'
            '1a8f3e4383ba5824e94abd59f106d3a6a8f2ce19cf69e55141a381884e79cfa5'
            'e0e1dec754fb0e4eb8d4f7d698e99eb10fd72ca54f2431a5480ff220ec1f0079'
            '333c7d374e2ea6d067d376a877b44f50c9718f5e118672f0f029c664cb9e1889'
            '768b953eda792d33d471a4dc05bcc96388c4b96079aa9c055c97d8215519d2d4'
            '813713679636bbf9d54c39a2bf8120d51ce2cdeea64ac6879ddcab7f526c053d'
            'b21e6494cf5baf4bb3b32ab5bd61d6df87a6dc8c435b8f04daeaade84f983a43'
            '0d42af63f4ed074aa8ea5fb2f5f2b8ca0c00f1309539aeab0090c07417eef04b'
            '2454260c131ce70a54c85429802f72fb3811874aa9b18e879e9906cf816cf42c'
            '050a1afd859321c86da7f254a28bd98a626d1ce2f6d24cb5b7f561063dc9c604'
            '93ecbc6e3a588e91b30ea3c4b2a521c6004ebb57eabcc5355b4aa5dea23460b2'
            '2e5b94d80d589e684bf400094466c75b362e87a62ea7ffdd2bff1d159a8d4788'
            '6515c64bde88e3b1ba308a2ac9df68b2ff85e39513c99d6f01a1c05e4a7d081c'
            '50c41aa286dfa0abe1c74b14ac618cbbd1d29209a1e5926b39a0c8daef21a5fd'
            'c58d65917805f76e566c416089a639ca1d5a6c667ae76d6111ff3a21d6ee1002'
            '2f9becdc9cf60d1f2c7b4f96e6e0d2be12117cbfe8e677b10c282df64ec30804'
            '029e53fff8fdb983c02c3df2ad45e28778b2d623d0617ad084b5d8f99031800f'
            '41295e995001d4bce8df8a5a5eb275903467c78a4165abb7702234c23b613013'
            '2821e992868df617c31c60a881fb7ca6c3b4cca3d9a480010636f6aa872ee429'
            '5d31cd5f78e4769254d5103fa4b57d689fcce95cdff410ea4af40679070cf1d6'
            'f9d8855c81fd0969873ef7e585e7bcf97939b63176210aa414a17aef4315c8bc'
            'f2361587f56c4a23fc502f3accaacfe6c17b1bed51dcddfb0922a61cfb5ea543'
            '433e305ce80266d3dc1cdf1247946e0a9c11310656e1ca5ddc9d53c5bfef878b'
            '6600920f0955ef126f8a45f57614f4666b20322cb53d01ac32c4bec335264a6a'
            'a3ac438895e4175eee2d651d6655862f30bb1ee653dd6e8486bc1c9766e47724'
            'abb89e99c53a8d8ead8d7ba62592be6d58a01f5bf92a942a52a5e358e6829dba'
            '928ecc3fe6c3d734fcbdf71947509cd40891d5a57ed8a45e221be4f3e90e48d9'
            '57b47d12bb6421f2e0996b1ab57397507f4bf0b69e89b3f04a1dc23a67ec96e5'
            '78656b107e38f84bb8ac39e0831734794624b86b5145b5a289198f6ebfb0682e'
            'b659e395f83ec1d94511fc9c2e3b17972453284356b223cc0fd79df0082ac497'
            'c92768da5482d0c02a7b732bc65c4b1e85cf83253d274ba9af243962247240a5'
            '7e37a854dbcf6a6eed5e7799cde1d5f9a9c7fb939ae0f6b13dc9cd03e193b143'
            'a5d2e816f9d66e5aca02b6fa7e901f5cd7a99faecc890e0a2f4864fcc0be50c7'
            'ebdbbe8fe19aed04803d194813cd80cd6654568d4b9bdd351a1f2d8e56b91f36'
            'b849c80fa94a5d6d0554c705dd7b745645363a9c967cb60bf4b57a9812affc6f'
            '82e6f3d0dd1fd978ebb1d1fd5e9c959d69909df257e6e850e2be7675c9060d65'
            '82b3cf5c9bd9b375b051d234de98085b72e5d29f16478c4db3c40cbec26bb956'
            'd9e840afe8b55b43bb3a6e318cfe13741ffb2ca72ec820d6af17d7dde9138fed'
            '131c43fea0861e9ca855397c56859040abd7dd4b6fd641bf80d5b7d553c1d16e'
            '7b0994335fb1464d47064ca173880b38d77c1d7957973ca58cefbe07bba5033e'
            'a92909aca0b746ed187f03eec74bf1d43e576e1bf4c530ffe466d401d1a996e0'
            '990cc397a43f5c3d4fc6093503cb1dd5dd786bfb84adc16f657167fb6057d54e'
            '5359b33ae73d4b5796e7f52b6d94e1d8d72c31ce668ac4de9cf75b70649d422e'
            'ed0f626c854f0ea4c2484e651b4020ad8e36428c29d4434b920bcd805d24a00a'
            'dec02d8e40c996c276710fb8689e188608835b2cfb8d7b3f3966f1985883e659'
            '9cc7599029b614befd988225ac91238131b45e0cae0de642182a6f1f544feae4'
            'b9da0babfd02c8a52bcdb85a7675d2d5f80ee38185edcca667753f3a492c61f7'
            'c6e251b2ecc257b3e3b4b953bc0ab0dad7dfca114da48350075a4403349c7041'
            'ee83aaf6f97f06429a5f420987fed2eda62106a1f2d091a7f12427edb5ae0b4d'
            '6fd930b034ee5af619d0916429e37cae07f9c1400bfa31f70c8b75d7bc6b872c'
            'f9cd2c4f8f3562a6f8b45fd1a99011710f63faa883cd1f3463ccc677796b166e'
            '738b768841e1a90c714ff4329d3c432f1d4d7149442452f2865664e14c29ebe5'
            'a12b74487de5a76678412e150a56140baaa065e2ae9b47421d21410d458b1c6e'
            '3febd22d9a4831644beed4bd3b2c1bdbfe87f4eb9e99a351496e4564e495c444'
            '3a962517d688dce7616dcbd27fce6d5a39b7bb6a803ac4120deabe5e9122d385'
            '8d44183f9f60347ed842e4905db751607f603b9a43446c6853cc6e6f5f89d274'
            '55010ad9a17bbd7ef05eff8f8dc3e4ad06561e067a23a807b71d8a444da3ecd6'
            'a7064abea50036be7143d2ba844bd6791c7bbf987eb390da7f166825b13ed324'
            'ee1de188fa541f63d941fc65fb6a98bb40b73b1327179d8eb692eae0b9e6537c')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
