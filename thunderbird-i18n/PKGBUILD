
pkgbase=thunderbird-i18n
pkgver=78.7.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('04143b6e7aabec458a0445f916f6c869381b6c5fbed071f25e3e97bab6dd3101'
            'ee270f5076fdcb35583c46728968d8a6a5aa8fc555e58a6ff241089c34f133e2'
            '193e6060e13a9fdadb5e104e4b375736fd8d0b5b2a43cad4518a60f8acca897c'
            'd86a4bd374d27dfdc06410715dd4a3c00d080770471541e441f0fc6ce5270342'
            '0bf0111a0c2c6b218c4d2a205c2d674c6e60e0a3f383d01c84a58f5212ddb3a8'
            'daef9af9d65a8b6690466cb524cdd6480aa7d996f6b33f2536576ed77af74ec8'
            '62afd441c3dc5137cf0a5e2e02014106c52b87f9d1fa54a07b5dc6a6d12a2277'
            '0e802dbb234b78c74f0875a401ee4dfa35d93751e313bc19752d8efd5beabeda'
            'ec268edbd0abd367b116cb76f107b9c60ed0561556cbfab5ae53d05b1070de32'
            '8cbf94bc2001134ea37c7d481c053a8b716fdfe4cace44d325a63093b7bc159f'
            'cb54077d2d74a14a528abb328d34e32c3ffc7187edea79db9781549f59eb8a5a'
            'aa31f2b8745105a868c553108ee2af77dd7eba4a22418a8b4720eea2d5e964db'
            '0ca6c87bffa699bbc5db3f6ce62579802fbe307480e8eade8b165642135cc24b'
            '3ba2bd7c7661d6c886a5a5e06e40a1e7c88905f01a842ddc593235a219235391'
            'cd4939f4de55afffebce1f08cf229084331ab78b7d256b940e9cd1c7ea493159'
            '0c8a76f606181a92e85b2abdf4fd5ae02825fc72fddddbaa6d8554f181754192'
            '831aa733055c8cdbb5e5af49a87f677f1c556cdde07c42bad0224567bbfe2735'
            '8142b9262ea81be9b69dd70de1d14a7f5c12ab59424851e05fcdaa7b2fee3ce8'
            '2a4f5a97a3c7764be33fe4ec6edd50c65434902e99d1023c417b1c98952c6320'
            '916b5b48fb69e114e2a3a3c88071632433b290a918613e350b278ec811faf8f8'
            'f82b2d14d08a9b19ae4752f54ca2ecd3d935482bd6d186baa12e879f750ef5ee'
            '7993eabae7ceb7d6dfaa49a102fa085328f7e83214b52d647eacf37fd2b65303'
            'ada6b0361ab85083d1a9b7815d173539435078b990ced9984fb93a4ed93a4433'
            '250513b97849d17d4b76e76bb25c666215ace6b5627bd4d8ad70e6243287c9a3'
            '5a3e5f7c6c19763f7507205a66a92d95742834636a10d617c833752d788710ab'
            '90b76ceabbe07db0e50f97b548b8956b393741e731dd62a8d6cfe3756f7a63ce'
            '5d2787d666a7a572b297382af6c3650470c5d953b824ffe0c160e9ce9627e46a'
            '1a631e93e656ae26a884c72e157421c54f2e54adc9e8bfde55df752fb48948f6'
            '793ea99f4554496327b817f12ab507b64dc2415adbc904c92e4b6febf41297e5'
            '64435ed0bbdcf2e9be1a54fac34ac554bac7cfb156e20982c4f52926e1c10638'
            'afd74f3e005b5fb4aa7773147f92b4421b6f7d4252baf2ebb3958af1cdca0ee5'
            '520842facadcf1cba1f985200b219e429c173d5353627ad3edfea7f35e3b9707'
            '7ff21142cb01ac7176971fb305d8d8ee6c05599ab346d9b983ae9a29ffa3a366'
            'cb8c6a334ba75ad3af4bb2739ca851f751e07ce66699dd99cbb907bf0fa0a7a7'
            '0024eb0c44a8bb4658bbb03f3a9f43c14a90656b1f21eb315ef8b234886f3b2e'
            '82491932f939ffd115b961d7e3be64b7b30bb3caa2976b92bfe5430b1585dc97'
            'dd5bb9532fdb405ec7a35d24e11cae772ceb8f20834d16880f24eced36487311'
            'd32e1ba53de5c3e934bb788f05c6a951d7a4a1116435f3366dd0ac89db407d62'
            'bd03a68e0c621aa731c0980269e0b3c6334ce4a25d8ea4781a0dc264158facb0'
            'f73cca5f6bf22bbdd7783ad53e622c7ee0d92af0e8c26ef30979e9577f52495e'
            '107477bbd6d9e3078c8ee24f822a2c54eb59d48accca8764644e96790654f8ba'
            '5182c82f019aa373be8737c5feb050f00cb7357bdbac20d258b623a2dec8a705'
            '2aa7a2f40c5f7da8b7e29395880da5ba1fd1de8d1970e95731bb31de4ed8510f'
            '1320066d12f06152a9d124a8f4bd0c9d519a7c747c9e266d1de82f01257906e0'
            'e2433692853051e6600eba44a85db0604ace74c3f29b847d9397bd06a7d5fdfc'
            'e7a8a35dc5aececfc94e0a0f8ba61b9269346e9d7834c7ed67fc866155b752f5'
            '4a98ae85b396417d6f46b804de189a4a9ed42bc3385d851477c0a2a041494a39'
            'b79be8b5dec9d79bdc304e6330a8930479386ebe1e8f8f01ca035f4d56a96af1'
            'f79438440e880a093ba0c8e079c71bc4ca258e51d754d2dc2edf36c3f8301142'
            '05c6f6cd1393ee364aa9cf3b7425808ce3fc8b9dccc9c65a6951a52526c6f9d9'
            '6adc3850e7a1b8ee8c3a32562d0a61195fe70207b577226cca1847a5147aab92'
            '8308d6e40f50c7b2bb3894dd3251104b9a16c22bdc52440a48e99e9265a1d2e9')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
