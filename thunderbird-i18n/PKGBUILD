
pkgbase=thunderbird-i18n
pkgver=91.0.2
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('debb05e5f8c762efa280ede0a911fc125e81bf3b430cc8222d17fd4924a5070b'
            '07a078bed08e5bb5d316edb8317717c97af596f68d68aa366d7e16035ecd2998'
            'd87939ec4ffc042c08958b9c33219dce5f3706c9eca4c8c8f24bac94a1d5169b'
            '55d32500639a4ca9308fd57320194303be57157c038938180b530a698b305220'
            '28be434dedf7db4b156afabef369af2f71cdcf8a9a0f829a6d5aac0f731caed6'
            'dc19b82f2fb59d907fc801909b03b1b2255996206dfb3e3ea7b136857f371f51'
            '3f1424fed56210101063472ddfe1f69c8d6051acd61acfaf4f2eb49d61dcaad6'
            'b084dec02525eed684186321937cdd67de423f13ca7d15a0278422e169e13d29'
            'c055776d9abc0568b27e3597f16b27caed8ddb578d009420ee70133577bfb929'
            '576aba006e9a3196858bffdc5066812e181ba3fd14708a4dd1c7987359d720cb'
            'feb13d99fef231a6588de25923dfdb31587fdeb7bd964752df48bf7f06469a09'
            'fdf228450cfd13b6ecc6944b53618cb69ea5c70178a8418e9ffc71d8d4a6e67c'
            'aa90a0ae46f9bbb17f91627dc704f781fff2b4ada0d6079bdc0d4595e167a12f'
            'a2ba68ab5f9f54a146df0a22b1f41cffec7b6d5ce6f147d5fc90411836ab491e'
            'd20034d4ed69cf49c371ac325cdd842a76f56504c897ea282ece71adab5c324b'
            '95e9a2076596149085ee6631e208f9c311485c604c722a89d6cadb95f5d13bbe'
            '4ab9dd39d159f21b0dc58821f24ed98a89fa1354b0098d0f23248ca1eb1b254a'
            '3da18855e10ba8882102fcff5b826407ac56c5de10e025d05ee3722c277b220a'
            '4532e4b638b65be0c93e0d32d5d29d224f570ae06a62fec6e174cbf47bfb1176'
            '953e26847acb558eec43534de1a3e7faf7d541248e1bb4032e4a343c49fc6d7c'
            '8154f4fa036958da49776a86cbce992545b9bcd5d5d0d8f905aff8c977855f18'
            '51ac9bb403428517303cd9a39388265861cf6f490ff83163f7fd4e57395bf298'
            '66ca48ab242e6dac07b082bd2ecc1666e60827af879e55be4d696ded6d12818a'
            '1e7ed826f7fbd24960c6fe95a2609fc85f4c545981fe7026608921b57eca6b89'
            '0c2351836d81ec21c14746fb48fca5d6a39b9548ef597e8f5b83ff57d4810ed4'
            '4cda1a05e5d79d98239711b07a66cd36ed8d59bb21e89ffa96ceef8b1ad1d5e1'
            '2b7225c3b48199d595ea15e0c1e291f315c4f8c3d6dd09a8b3983840c7e3e504'
            '3462981db11958e49ecc5804f1f7c5b5eb7b96eb1e9c4592ed788d46384de732'
            '9d28e027ebd13fd35ff345f0a7ed2e80b6bf04ffac3ef1c52e23c0516c43f794'
            'cca28004f79838f65fbc4ce8405da3d89605d0d0ebd16db853eacc3dcd0341e9'
            '08fd2275039078aeaebcc1e4a7a2576bec9fdd5c1ebb3da0383508ae1e775cca'
            '195c6904ad13d9afcb41c178392746d8d184b5ea8f7768ef20d74451735bdc38'
            '0b01250359a27098c615949a06d22c00fa95a2d034d87b31da68e010bb448085'
            'ee56f4bcd9c64db77b39e4f37ca74e58687b5744878b6f837e964969cbfaa92e'
            '1f6dde3a876dba6a53d69e78d7c780fc6d8f58e958e2827fe6a81ab10ea1c0c2'
            '527b71e954794e54a0bf35e7405ce24f4d3a226834bc96dcfe1f97ac6c87051d'
            '3d28562d289c86f02a1a1e3e559b0711ab0dba487958b3cefa483b5507342df4'
            'c40fc2ff9bdfe32a8cadc9ce3894ccc84ae4b8a4cfb78a18f0e59ec169e12196'
            'c2f9a6ad32ec8b42bcc9ade839250243512ae67543c3a4f0c6c9a07e2a5c7ecb'
            'ae874d11983fac9ebeeb118b97fbf8c8399be22fb8e5d7965c01e48fd58bd57e'
            'c895f6fd7c49d6aacb3963c8aefa78f53d1ec5af0f352b60298eb73e6f89e623'
            '00592c16ac618b08f5a963196a3f8e29c91ff6ab8bba80fb8c677d774fb63a74'
            '301d6615b1b0ecad6560644190c3bd1e07d75f9e37a79e3c53fee34c8e3adab9'
            '6092a6bae57240a9bd45be77a714a4079a10b7a01d39ad90a16ed54a17c46b25'
            '22e07cce951564e32ba9f91f3291664c3917245f18a7255feed2a841af2a0dcf'
            '8b35807a51e40e2fed4d72ec581302af99f9ff8e61b3cfc20532e05c68cbf7dd'
            '53893a64ec8a0f4e331dfdd0ff339b28399177a43912bf67cf81fce98da37294'
            '27383c70e897e4e1d0ef108c2e9f35f9a8bfa47948241d98f5294ac1b5680edd'
            '1f619976c975b6ea467fabbfcf9884b1357fb3835efbf33440266c3fca2345ff'
            '5c7137c1817e7d7e77eaf30041723e57c1f204f84b9718639ece8a601d464788'
            '192f6f956d7984f27ca9669915d09c87e035dd6267abcebf46a13f283422443f'
            'b928ba8d060828d1071b485a204e507f693bd44954aa0e08b55fa49472f5e016'
            'ecf508fc36c7fbb24c10db1e70ab050e9f4ad39a36247969b4d777664f904bfd'
            '9429a8f67287ab17925219170bf32403b9c411bed522739e5bd4e68b5c67c45e'
            'e0b82df400d4103e6220ff7472b63abe244600567d9a0de0faf2eb9ec5cf47f8'
            '97312fb19d2146a8ba1196326382075c9262df1c4ea46fded341dd79137549d5'
            '8d929aa165c447f741cd771946b38812b33c1a01d9cdd8e30a5d90687f9bcef0'
            'a0aabf6f1f319a1fe5d651356b576bb1acf38a1efbc2fde13286000f1c0187f7'
            'a48e56aa39e32ca941daec077e17972a0b61150f3af9cd325184daa46819ceeb'
            '2e3304a1baa3353f3ab5d15eab5bb4174a6a2570c6a58b3cbc32f4a1b91b78e4'
            'd8c7f9b0aca6aa7fbbcf34e0f9d0ad1228730586441b19cf963ed944b62c6962'
            '2326b1f4cb671924dd8a60b29847413cb25cc9d6e2af34bb3d6996a23855ab6b'
            '003d848417b1a930d2e89c72948a282e3e404a76aff29122200caa16be94fa81')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
