
pkgbase=thunderbird-i18n
pkgver=102.0.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('fbcc500e467651c5129ae6261ef06caf7397fed37387f4a199f771ab18a6970e'
            '129ffb6ec0bf393cd4b556e5a9618cf7ba0c1cad1ec27c1eec775b0057dd9a65'
            'd5db8ad949bf124800e5eed5e95b34619370eab92baf9dd0f24e0e1a535ccfe1'
            '486536ff84810699479bbc65346adab76da42f7e7fa6f3d1f11e025ceaac37e5'
            '2b9f0511fbd10d2929951363945f24040f614eeb9ea6d78273368edcb0559aeb'
            '2e99dc3afe490f9077c0c6a9cfff3e6c9a1e4a8e3fdc17aee49c6955df0ab92c'
            '3e1624b438fc714a656956f0559d5f6aa9307bf68df45e7d709a69154329b4c8'
            'cc333f68efe01a7215dd8c27658e1ba814e9f4a35b2f1a7ea34c0fa716bbbbef'
            'b6a53b6f34ae413d7780f8e86dd49e1b896607f9d1cc2d42720b6509a25a0fec'
            'f3119e78d3c713b2a1b415ad3b0df93b120f785576fdfeb5695b95e5c6f0aa7e'
            '88e064cb5d02ea5d277394c9ed48bb12b392008bf718a0a78c353669b799674d'
            'b5ac5c48f7a6253c3244327647a322a3164c70ac2d158f2c9aeb11b4fbe4662e'
            'd504008b01b39df402d57e6a4a9244b8a203942ec25afe9a5d08363df81f757b'
            '0bb78797b00b0fffb38920b0edc0e7935c79ad11dd6002775d7ac4920d3ad72a'
            'e3f1282b9d76abc4bb49836d8afdbcbeb369f7f8ccc22b8f51031870749a3012'
            'cb2b2345641f7b0b86ec198a9f5b6324c5e1d91e27fe30af3caf9bc12af2f976'
            '73811a0d97af7185c93cd52a28fc2911e944683a70c54ef3449b976c086a8ab7'
            '4fb2eb98b0248faa4a5a83fbfb30fe5b6655203009f164009a2dd48939cb4ae8'
            'ea33eb64f783406eee1302e0bf2e3f6e0cfe098a12f098992977bf93fea5f0a4'
            '024c05627f7733dabd2a9c0f381bc50f2409732c5a793104dd2377ed5b76adc5'
            'a54ce2fb0ecdaceb942a3c6914b9f6644217d1f4c9cbe0b79efb5d19d3a6beb1'
            'd6981250fe660be14734b3947e3e17f757dce003b65d101160450c86d5bf4564'
            '75a1c879fac061cc4ac2ea355e1efd386f3e6d7180e053b3ac7a41ab8cb8d564'
            '04b054992c2897481ae630ffbb996c44842d392404c36b200f665f3002fef9a2'
            'e77a966ef9e226bef9833c96449f2c87d66e09da977aa4c2b7e1e0bc543fd1d0'
            'd78e42b4ab23f1ebb7a0a0281f61f6cbe73f19cdd8e024fe98864b030b6f025e'
            'ce5834d27253f4397d4910024cf4cc1fe2fb72f8db5b10e1f91327c2cbded48e'
            'd1a9182aa0d2fa8dad8e3f41a67aadd91504b260d0d1ed03051befa44b3f98d1'
            '0e773b29be24f40a7b087ef9a11b673877506a3959e28ee5a0900213f8be4fb9'
            '73e253882dbdf1324ef67b3b2039741c7d5d1b3522ef47340b4eb2eb883bde16'
            'ca3a5b01763654b356cf0a73e7a3e22720ddd89fb7572e9fa25a6358d3cc36a2'
            '35aa1c368ada07be44acbaf628368bf8735d1e74043321c3947c822475141c19'
            '2270517c2fadef786cb05517ace6ba89626dc7a75604504d1f9149bc0bbdf0cc'
            '96fc4f6c67b6cb00485057bd53a1c4275e248cc988729008b6a795294cf136b4'
            '4abd8be4443274614929561d58d86099a415e6ba1078e1a4a6591c331ccf1567'
            '299077f8f3dc5d1c362186bf1efa97788f30389acf267cf6c210bcb3f9ef3650'
            'acff75e2258e6e3b4db1cddeea345942cd81d4ad1238774f34af1207fd24776e'
            '63bc784fb0850e1d1959353aed2f158e70109f29e7dcd816c3f459e9a401e974'
            'e7f0a9de209460de8c7ae2a041d9a9ce5046a409187df7f5728ea07c23d621c6'
            '15bfb7b0f3ab68a918d3621941e1e2ae4b9a073ddd63f6816438980feb957e18'
            '272cd06208956eb5ef5fbbb1ff41b7ea3543df4436971bf3675767f7a075ff51'
            '5b97fa10b74ec4f0036314c2ab109c1fc8268a7a12d19b82914caa950b6939dc'
            'c292d6ba75f1a61d62fcb0295a9bcca99ef02277f0acfa132d9afa4822163f3e'
            'cc5469f2b6c4ffacbaa636a10b138454767213c4e6c9c791448296bc2c1cf4a5'
            '5794b8ee58db239c0c01c1713c41fd81d6ff8e47972923849c8839c58a3d8b3d'
            'bcdb6330f1ff5e3158aab2b485ecbb20e81141e2e19a3310f408e8a9754bfe6e'
            '5c612c8a3c1e5f52f97d6553e3c5d4c6c066748efdb61a081b295fc1c261da61'
            '5665907ffc3119da99ec95523bd7d02583dfc39908646700d2637f1240cb766a'
            '250e01af197a6a99b5e3789d0b3078dd9ad318f75b36dec55af5f991e995f44d'
            'bc949073f8b3d8601f885a3810f03e8eefc841f6abb14a9db0b23c172249cbe6'
            'e19536dee6623a79fe1fc6a2a86d5ffe44aff860dd83de99d2c2a89394da79be'
            'a257d99cb1d0f0575a85db073cd9dcf65acca2b3f8f7436b225ccd5a37bd6080'
            '6a631e6479acba450ab679f7d14822ab69498cb61b56cdb95abbabeb90e4f726'
            'f245b677da63ffa68121a3c0ab28e9f168536f09452db01227cd4efebded245c'
            '8556ca7e897c7208db98bdab5f9cf9482e19ad08e2b5ce847ee30c22edd6630d'
            '1fbbbe7c6fa4e9624d4f829628e0375a3f44d05986218fd83fae198a0718dfc0'
            '6f44bea6349e8fd65f500230b9ec6d20c7ecc4d5f376288f96d1dbb0d788403e'
            'aa0afdc06ca388a7630a401521df2626bae51e93210744171ca0df507a3ba621'
            'bfad2eb3b047fb2a2cd474e17bef61754787cb0053a30a49802508a5c46acaf1'
            '50994d7ba4471b6c0c563871c8954b9cabc1c2227223fefcc3dca4f5565398b6'
            '12c2052ccb91f8cb42db2a4cb86c0f2f591949134ad9ea0d9eebabdbb0bfdfea'
            'c80e7ac1c76c9808549a06dfc70ebf6cb9825621a152b17e9f7c1ab56dacc6ae'
            '4cec8e4ab1b329ceddd67f61db43b3b9472197b148e0c1b3105eb93880de175e')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
