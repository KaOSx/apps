
pkgbase=thunderbird-i18n
pkgver=115.8.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('b8c9fcd755edab9a1b2b5e9c3e8b92eebc81e4ed0ca01e94e732b29b94beb532'
            '5921400a577f742d4a5195f20ff6235ccb287e42f690c2440cb4c9cbdcfb531a'
            '5a19e786f8b2ddc80ef8adbdb9b9b04c3a504e2ada047cb1233373ed1a70a613'
            '9e579661c5ef56b971c0b806cc9b21eb3e1d165aa86c3a8fb58e73b8f6655ff7'
            '7d45a9c4025b29d5540355e2797ce26dfba9ce7f7f64ba74df50d13ef465b421'
            'd3322470c3767457bbcf7f7099fddeb3249fa2ac49fadba58e029238487d4bfa'
            'bf012839c43771f6024ae72e2719a4830b1fc71ea6be320aca8ba74e3142f9e3'
            '9c0fc1fd80209c98217bdd2e2c0edea7deff653bd001c7aba90f882db5fc409f'
            '1a53125161f3195c52ffcf6a293d4406126720f200a3f31062c17a08fda0406d'
            '9173609b045eb8da1177a8a4d0a8f0b2496d0e8237fdd496f2e452710fb5d321'
            '142f182646142475df0c4c169a43211e8f74ed47f723c5d61a7d5ffecfaa4034'
            '3f400cc24f7d5d3aefc005c71f131b0a2776cfb081417c620c78a59a8460fba7'
            '113fabe1acec84d027ee4b009a055682fa6d387b0013d21191e60b26db5d4b4b'
            '9928f58c7c5789e79fdaf805bcf54a51c21e3d2781cc0a532cd7f6174e9992af'
            '20a3394be3a270da38152103c8deaaf4c62831bf65b76ab21e3527b027815906'
            '83fa82d2b64a3cef33b8cf05425fef57551e9978f1e61f0fe141357d8f844019'
            'b0314e62b4cad4fd145f799370e83c0cda08068c521559545ae112c71cb74b96'
            'd8205ba430b33094380393a0d7e11aa2d165bab0883d76ba5600695f500a24cb'
            '2e29dd64d47ec33ca2d460006129060acbbf383beb39103d7f64b4f181486b2d'
            '72c2f4d9554dc6c64cdb47da3ce649cd7139e11899879e5db808eb2931dd16f9'
            'd7be8618ed514568a294c632a42a03508e335478fb14f15be09733899c072e42'
            '33bebe790d0d766532e1a18083d501083ade78bbd3afb1ec7becca9a444a9657'
            '2590767c9f33a0398ca2878c2ec15b6e2ff718e64e2aa96cff31041d48afb375'
            '12b73dd0d721703db9759810ba6e8d91ab7808c6c130793910603ce25ad3f3cf'
            'f7f6f78638ae6d7e3f508c6c973f27678ee94626a4b4d9246386ac28a939aba1'
            '7e822369c11cf2b0d4bbc98e08d8186a7283c124374c03c7754ed7d62e89c2ea'
            '579d576088070bcf4a4ea630aa375fc7877ffc67a67cfeb073b1f72e043cd8cf'
            '993df25fb1988b4d4480de83c6a4ce8e155a29bd1d1f1a55e21509b585f0159b'
            'd04055fbf0d00e45102c48fee438f1dbb77a67085873baacd639894829d725a9'
            '9275a0a341986bf55ca5d9276744d5030bcd4af783634268c19db13f499840a7'
            '12c8ae4827224a517bf9909bcc4400f703959c2fe12fe4bd5af939bc3eb4bb17'
            'e3b20fb797f28b84f653e6ea91a65463aed799c8c2bba027edf322614bcebc0f'
            '9207f77ed067d34b300b07cee07f87e4c20e4035b27c820c25ee366266c85330'
            '7cc2ea30a83fad74edfa4fb3c70608dadca3e22f2c915bf803c501721be3feef'
            '4eab3b1259065a81d5afcfa2d921d1fbf5e29b3c0705680feab75cf136bf0c1e'
            '94a5f1f8a7b507f51e839e260b322134f049b0c7e1b915e4441f0b79fea2620a'
            '5fd65989de65c4166448b66882934a823ac16e9f386d7f569c2757a6aff7026d'
            'abf5ceccb00ec187d618572c189314670449945b0d3579d95b8fbba62ee00fa4'
            'a5fbb6c175f51322c628b7d13299dd9627ca7bbe1d3c6e9a981f3fd768178586'
            '3adaa64a4f4cbc4c9fddbc072a2466a59693b947ebb6d90d12236d84a3efb0d6'
            '6f87d6f7a76a37c488b7f71f0d6419c97d74f3293fa505e7e7feed0e9d200149'
            'bd38913589397288f86ee4ae375c83a5e07b5d836de41f019ef1f763a0920b24'
            '1a48a768af9a7cc59d68415a5d2f532f3191cf2c054d23f1615cee7dea78c084'
            'cf763f08287232169a8c547245a4b5fb5eceecac291d192d9881150fe8475a39'
            '701944ebccba860ba1f035670cab77bec1a9b8601885b45dd8920ef4cee4c82f'
            'fadb897a62098bbf87e206a841184dbec8ff693ae90a0d112fe6c2ec18ab3aec'
            '0cf8e5a0ea6ea9ce6410da3c581f10506df0df764e28655aff8654d34a2e1ed2'
            '4e95c3695cb8314bf2a2d1ab656db3a9630025140a20e74d3250b296bb1d6da8'
            '9017d48907514cb4654e00c13e850b9da85506f1db0a2c5eb2b8f332d9ad3508'
            '3ce74eb87b4108ca4ec789d902919e34891b0aa24c4800c4bef5cca8cc1135c2'
            '41dcbfd475cb8372b5f8548a2c57857b54edbcfe9e85ae7f3fd9cdb5f3767aa4'
            '90d0e59cc776459191e17f4685210717127c3544112f45517fd77094e9b6c127'
            'd9a11a92bc5cfae02fc0a3d2423b307342cedf4896a8fbeef90447f967d26217'
            '669b42a75a42bf08b90a72b88a8bb6c35cda8f71334de6c23b4176c489aa3323'
            '4be0a274e9ee3087ba21b4a9ceb7a7c2dd2aac4693b6579d79aa419b6a6ddc59'
            'e1cadd5eb7e5454781cb1405813260ea5a9b2679d67a9966a2d8442a9891c4de'
            '95873af67031f591066614704dbe87885f61680e7c28281e4a6d462eeb845d50'
            '1688e2f313db6170123a85145674b7fb2449acd8006a2e9cce5701fce7e9a3d1'
            '5b4ed7051c2a3cb8d08927537d6d68edb687637aad9f91c74968d37b97078e29'
            '50b30e839e8fd80cbf8207c5adc7d5fd5b55b7f12334eab2780d0ddfb04de76b'
            '3fe71101740ff27d7368a3dc2358a479519c53e3e1d51891a2d42ff415c02370'
            'f26ca7719ff782b8aefad32080574f01364253fdb6c5aa14085748a404189489'
            '9a3b9c5fb53e1d85f79708b25b1d95c7791563bad07aa4751a848f85a59b263d')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
