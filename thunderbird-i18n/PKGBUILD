
pkgbase=thunderbird-i18n
pkgver=102.2.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('1fecc8e876297aa6217267f06475d2a67bc5a48493e0065c2b7069b7be37c5cd'
            '2a737c86d4ec0873614de70f708943b511b94bc70a3bbd362987607973f239a4'
            '0fa35c6331bd7d061581f2431b4a5702104e0400649bb733d6740d8a6524229b'
            'd8656258db9e4dec86b7954c54d90350f64120ad1cd1cdf43c9d41ea52bb62ae'
            '691a463cf8dfdff11dc351d3ae59c4d2c409c1b69d78724f7afe024eba4e8cc4'
            '6a943f9dfd21d851d19d5e13cd2f0b12d8134926275d9fb8bd20396f48726664'
            '5a9155c4957591c2d2285e1f6beca7e51e1b579cc8efc030efcdfafba28e65ae'
            '1ed5734231b68de3fb7a13ba42ceff1d3108c3ad35bd71c40dcadbfdfa2986ac'
            'b2e6f79c39aa33579fed7857c39b6142843ec60bdc37c6a8d42d08b29af861c2'
            '429fa2dedb16a93f3f006b3866330084e463518f284fce90f3fab29d3b3256f8'
            'f57aca1ac30e1c87e7a2fc0290d6013d03cdb5353c65adeec9f6a4d8c4f42dc7'
            '25a406fd58c70388aa5fb6e94e2ea7ddf80242b96c66beb303e07bb597332069'
            '697c5189618650c6940b71399b9b48a2bc21e63d420754108b6fd124c7b62c18'
            '13398582394359965cfb86a2a1feddcff3b9246dbbfdab8ff6ceac0f12185055'
            '82a724bc4fabaddedfa7d89901449244eaa0ea50b0aa1481784d52be44ee77a9'
            'd352d607fd2fab79ac379228dc37b296283b0a4c5f44e89b71234f30dc61b947'
            '38606cb47ab0580967ca6be0ec6c46564c984a44de8273b5f40bd25790adf96e'
            '6c36a262e7430a776a42414fa25406853692ca0ecd3a3119cd466c6e7beba9ad'
            '8aaf2c5e11053f397c46259fc41f621be0d00717ef8ff613214b0ec61f86d273'
            '02c6448a2aa9a1f90c59a78b3f9b44edead9693a11dde6aaa2713267cd8d92a3'
            '0fa18e1cad4b06adae5ea6a80854b8741ff1f2337cc638db296c0e22e169a545'
            'deb14654961fa86ac7300f15e50c704e57621d85b00d095e08d42b3f1fda2b14'
            '0c8cb7992dc5bb691f81ab7b7012fe5f23a63e40fb1091c64385360cd9f67676'
            'abf0dc7eabeafd3ca9ad1617ed9dea127756a602687edbf12cfe84142972074e'
            '237ba22e0fdb2ca11b31551585633d074d17916427a16b916faf55f00c8859ca'
            'e7969506285aaa30bac886c72f9dc6935ecd93c25fd4b323f8cbada23602bd5b'
            'a21a09fe9aaca35af41c64fdebb1448af7632769963e0094f0b1139f6b77e0fe'
            'b79c05bb9c181c8e118c076be46831a1d80276c0d13c533b41f57301be9a4fc0'
            'b02c07a2af3e8671b33cc034d2d666fe52d045569d05c578f0c2eb7d489f7a4e'
            '58813e3557c31e10154ffc22bc30df985eeeffe139ea62ab1067fe36fd56fa83'
            '556ab85f3dea7f06e3e584373e19a439e903d3aa3c9f4cc3c6235844b8a6939c'
            'd5acd02d014c300c0e3f0782de2e5fc8bbd2280e3cc066f9d979053baed114c2'
            '1c74d50e03e1f8fa3b24e4a83b7387d1285ff4882499d8608cf4f85f0ec88a09'
            '4ccb2a50d6520b3c21a8a4ad1a217ecbcfaac67bf9b708b3b0314654919f762a'
            'e0cd5569b3f3a5aae88d9c439b47db93e6eca8e1e449c36531be082b3d74d5af'
            '4a1d8897a38983ed17ee7c97efba4e380ea94a6febc88aab48bd43ce979a3708'
            '1bfaa472c33e78da8cafaa54638943cec7fd2ab2f96acbae37b7457e6cf5b3f1'
            '498360d7d850fdeb1f1ffcfc4162338162af876b861b2224443835cf405b4d28'
            '92b3a9902a52549c05b27a965d9c982c6b62794e240fc5ac68e70f1c02183968'
            '81e960f0bae109b680900e4f95829acd6e29967ab333b44cb5e62be57031fc0d'
            '808192b4399f8addf786990ef16710ee9cfc2a36aaff3c13cd71fc9d66e02353'
            'd21e3e59d0cf0e1c7c9af99455ccc01e5188590053f5409ab96cdbccae132f18'
            'a1f971f278c34318874d5b003894f213fc6640a4f90e5b1b1180ad1e3795b126'
            '623675faed318e7093fd74422bf76d6f3d0c771538cba153221b6edfab0d0480'
            '183005b9ad810ebcad844387b0ead16685d7c0e34468221157eeab0183bcc901'
            '0b1ddcf35eb1602f974bc29452f853ac12e0e5f585674bd4eedaa350fb69185d'
            '913e155409c3b7c5c8ecfe07782aed1723ff8ad6d6ec534dd40cc1a1eeb77a0e'
            '9a0667c8df88371676b001e6b971b81d52444b139b41a4d06619ba9437c1ffa5'
            'ae6cad594708a9f5e4f4468edfef7c4124d99abf2f1dc106a2bd7d511c25456e'
            'c54d5c5abaefe36d8114c4f6d8b7759ad4cc7118c1b867b47873eefc03e36260'
            '99a547ebe6a9583068242fa5cc587765bb412c8c5b8e2bd389595fd1b221dc78'
            'fa30f13ea1b4cc2e73654cb6c37845a2d09713831f9520a98b96520948cd3bdd'
            'b4f9ee60a1dec9c803abb7d4282fcf3cae964dcad0438f9a7b3c8709f794b398'
            '56cfec1a86bdc8918555d6d036053a6ce20620f622a7e4227364b77cdccfe55f'
            '2bc6375e97be304a8530f4c56a5018ff8fc459a701eb7d28f482027d8da9667e'
            'df89690d5744887abc77add1d66d89db58d0930fed765d89fc36d8fae2269780'
            '50cef483d6dc5b3cdce20ac2b6328e9c5f77e88ecc72c380665a705df6300b5f'
            '9deb7372db6e68841b828809f10e841a0f21beed70b7b4183fe0905c3658104c'
            'dd5b9421d4cd63e690f485b906e26571903d617e251cead832aee83e9f7a105e'
            'e9667ae230799c38d9214db4a5b5e76bdd31480a0caed5d96c75b7fc40a25f3e'
            '335fcd0f898c4161ae20b0fcd2e75f6f4d59575e7aecc4795e838a77d5788706'
            '2adc485d0819fe5b28b30bdd9afd637c51fc833b7b79e7a0e406e2c9d699b622'
            '9e65c58b1b12830e847f2d47b2941e7a3a80f07f717dddafbf738d315a8b337a')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
