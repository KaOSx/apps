
pkgbase=thunderbird-i18n
pkgver=133.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('ab5000bf7ddefa75319d7ad16868f1d4b74c21ce23bf305240d4efbe8e7df8fe'
            '81df58db0df7116b5237a8d1bca5f3ff0eb69c944b776debe785f6b938c383d0'
            '82e44c786e9c0812ffbfbcb8ca2f27554af15960584a7342c18336eca6e7c8ff'
            '5b97e67e52811f6a0c1ed7fcabae7722c33a3ab14d2f4d70011e54bcf79182d1'
            'fd65dd16c3edfe7c240e755c9a706f1a5dcc11ef637471f112fe9ac03e318868'
            'b688c37f61247d922a572d85db86803d45befaa14372f6354d1fad17c03edeba'
            'e413e2f982acacfaf9cff9be5aec5ce7882ed579429df76ec2249c058bdff93a'
            '572ef0d12d0f48e35033951b73c24f686e163a99a6457a5407d13aac9bd795e2'
            '88d9c16782a029e1bd06b26c91ffe92893bcc513daf7bc54eafd38df2adff4ce'
            '2f2fbd3e67d2304d023f560b04d196052e479734c400e324925de57087f38df6'
            'd14a3eec5bc30577e76957bbd81ecb15d36c4fc14a8fab7fd95ec583f6754213'
            '7fae1fcb0ba455be5c8e23b1611828ac49d6c430e45edb8bf3729bf46b060d9c'
            'f7ac3ec944d26b9dab809ab57f9b94cf2f650ab946bcfeefd8decfc7854bc1ee'
            'aa84b2098cb6ee992ffef1e2f3cc6e69c863ff09227d826af5c25f3f9200b72d'
            '125f814913b2a02603356117e87ef9ee60ecce0c45fac0f092af403b7a683c7a'
            'c2fbe120aea8d393cbb2ad83e2f689f96df8efd1a5904afafccaaa1ae5488161'
            'c77f0ff4a0309f8defb71d24b5f92fa3f6e510b4789013d3a46cb1c7778d7574'
            '11270ce4d5027aa5205e39efc59ce2a56648d6c85cae61cdabb3a31901dc5a75'
            'b90c037d577b9012ad83ffddfffe50b53f946ee4391c659a558ed3dffac7a454'
            'cf52bc1ff81e3ae5f298aa50ab2cebcde922d461f9a260e36a0ca979265dffb0'
            '37542a35c660069b83b1ca4d94d35c9b02d9133f1abad68c7779e7f14b87e876'
            '191deeb44a19a4c899b658ee87d3362b954e58310ea407f5e585378bc613d0e6'
            'cfc974e2dd5c29bfbd02d3c039dbaf7e3d674e7f64f6e0506a9e2c80048f1d5e'
            'b9c692ddee3cfe5435e722441023111895cc385e4addf9763104502982efbf93'
            'af85d35573eb025793640a441e18d569783a864be31aa85b191a27c83dca8975'
            'e86fae9d054f373e18ed5c8fd5b2cbaed9884c2ccc058ddcbd6ef3d7976bc844'
            '3479bd48ba6b521c05be95f00b9d391188506ce1711a13a64d5e83c9948718d6'
            '06c603ca251284edbe05627fb17def9b70516a9c91a5419bcaf8941d4317dc4a'
            'c27f6c1c177a04db64562edc51264f36e25b40f453016adaf8090ac60355de85'
            '0b18797e872da2568b673cf19317f21309d9598eb2f406d1ba0208953f4972bb'
            'ad59ce0d193eb1a13a71b140f40b10bcab51c51ac8c62eff358c8e5468331065'
            '9591d350f21809825da78c3c06f1c36cbfe668026cccd07b016836487c68f777'
            '14ec502c7cb62de8589d29721afe61c1142dce8e91b3ef94e6cddf74a799c4f7'
            '2c771769b20daee34bc7d5d307dcb888840fb54310a13d52d69f4cb70786bb5b'
            '6d56d5e2ed47b997434041f7e64ec0dfb73cd00bed251967f50759d8f5344a99'
            'becf9e6b3b2d2b860f51a5691c026966d2cad04b5cfb9b0f69fa85e752ed13ab'
            '5bdddfcb8af93f4108ff8213c6375235043c3d5cca75d8fb0f42633798da602a'
            '5ae6bdb9e50007e98fea5efdfacb8feedd84d71ecc9a3010c69ebf1475a59d87'
            '2f4e99df126bd9e87f9cd457fba06d602c77db72ba2690d310ed0bfbfcb33dd7'
            '70e9747774e5d549b9372d9e01fc84daa70cc9691df7e0d20637c4976c7da65c'
            'b889760985eb68ddf5449d6be8b2c73e2c303a93134cd2a734d4455f8434f711'
            'a64d93c301757ba7fc1863125e885dd0af52156cc7741fdeadd5bcf90d12a895'
            'a8fc4d478fb3e2210de512594b04e20bf7ebf3a8fee49b484d8b79367a8c122a'
            'd4f8072db2a133a4d552af8c7eb16d3179afa7dc2f8aee84ef2a80a537403c33'
            'e53feb0264c197297f4768807c8d3503e33a1dfbb17986d4a655950dee9ab2f8'
            '1ae2010137472e60223aa4caa0705d14c8d82c7b7c6f4490db5daa6a20de8a95'
            '72229f3dd9402b1f4ad08e57a1ee12f5f872619c7364f5fb14a6ac06e6a50f1c'
            '878fa59179fc55762044d25ffb2b62bb4c04900738999c56ae13f5fca3641256'
            'a662d7aa9c70bba3789149a20ef50db30ead12c4f1468d65a395f9b65f213e6a'
            '6604c0670e01b622d7b96b111b70932d5b367dd87bc7e0629c12db256ea10882'
            '66bfc56c728713d6dafc14fa1477f607a29dde6c78b29408e9d2ace69d562093'
            'a24f8f5de52dd2a30ace6894776e36c7b9a089e16d0aa0608799f350b7606eee'
            'ed1a59119ea432f3baf2fc90a4844905198fed308e8e76524e09f88b8d26f47b'
            '877287d6eb220205051601f3310d78e2fcf821f7ebf46a5977ed17099da0dbe9'
            '3a0f435d7efc4344daf39bf30a34facc9c7776b8e7fdf877dfdad6103bc6c304'
            'ac23e1b02528ff24787975e4dcbd0095417360783f15a2278388677e400267a3'
            'af0e15424d90b0d84486ad4b08759c722f19dc91290c67aee6fd5bcc96a13e4c'
            '4289fe8a72af1a0367a65fe3a74b2ac050a849b65fc09ddcbe64314fb4531f59'
            '89e75154f07652409e376386f0745c8db7b3b4eba37a31c094ad9d46c683b296'
            'c61adc3955a3c77b0fc332d55343373f3eb5d40772e7da1622d2d0a78882c53e'
            'e880858238a2dfa90bd36ccd2d4890f877ed9977d34eec4e7f739f45dc7c1bb3'
            '2284f21460476d41eb303513aa7b45dbe7a83839168fa2a4eb734f04f3d70fa4'
            '34e82835dc291a604d4eb9d642188a282d3bdeb0a777649d4cc18a17e7f6bef1')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
