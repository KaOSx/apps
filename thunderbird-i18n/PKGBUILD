
pkgbase=thunderbird-i18n
pkgver=115.8.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('aff9b473dd737223ba5d67ecacee123ab4d8f04faf23ce80d7ec706627cf5499'
            'cb3635c0b24053625ce4d44d542956008c6898c273d9c867011f2796645f3218'
            '15412d16a389ddb9749d42853c7424d49e4cd5688e3441993ce74470ca2989e0'
            'b4430f0c6961847527902d69a2c51a6cdbd9d02b8e1f3ee06b14a2517c3d2f0d'
            'ef847379b17ada6a1520639a8bbd0241d93f25b797c5e9d33ac9f6afd9388ccb'
            '6489088dba90de3f34c9833b50149b166a61c1fab09c590c39126cbd4f0a6b4c'
            'c70280513637e41ff76b7428378ffbb917129d639441206cb1d7275943c3b502'
            '7c33833a076e97c964e32ef4e6e3d8d0b942c843b3b0c8cd147f61e4e0badd8c'
            '140e05255134be41b2c57699e61f9430c0e60008ef9db7d4f1f53f8926624565'
            '7fc0012fdfc7062dbfb45f532863567637b41b52260f9c1dd49eca2b4d6f5d4e'
            'f078faff1fee8454bc7ca0b3e1a5d2e1785e2c5fb50e6fb11cea19e13e765185'
            '7008b62bbcc4f5bf8fc4bf4ab962c97f82e07aaa15da437f70b8dd4f0092f386'
            '6eddcade91b5c13e65c51fd9e3521b7477370b698410b814d2afa0f31580dab9'
            '2a171de8f621b4ecfbc55c2b727864d758781112e9d0451181c62db382e3ed0f'
            '480c180a1e3a17fb857dc8a0d9424de8bad40cc9b8dee5748641ce899769fc51'
            'acab1d2c57fd82a389ce1267fbca4a2dad400817faa371ea4e0b794a2b0b62ad'
            'c6a76cd0db41c2d010e40a18d022d57aa1ba43962cf1ac2c65ab5c2e571dca1a'
            '15bd546906d53487596c00b534f33327b3498487616f555506e244c6c473d47e'
            'fe685ff9a4affa332c4ee7a4c7d108fcc295cbf2f99aa1ed689865810bb6c097'
            'e544f4d5b5c2de96914384e9641352e0551e9cd750d3a0d5cdddc18f7d2693f8'
            '575eaaf58568ca2b900570972548231222b2b0f80e4f0b9d16f79ee714d54023'
            'cb15d01610aab2d86785782066f5ccb2cda6ee52dee51219a21a967cf5c6eb8f'
            'f663a2d62cbe51ddbcb32d9733d5cbf87b64812f398d3a5f1c50f4f13e3cf8e3'
            'af5a40bbe24c9e8b6662b5d26ef46087f649a82b63d8b1a596d286282aacd365'
            'd98066f1ce2a3e81983c63aedf4e2c5629fb6f1f71a89b6b508f30577090d9a0'
            '3c35b7d24506613f75bc1f4d9b9ecdb57b62d11a2f3808fc10865c884077fb30'
            '6781ff5d4f9bdb64cc886a94a7562ea6ede123773a0a2ef165546432d3d6740e'
            'd82f89432e8e75167e58e283b85ac138e6e7c25b4fd63c5af709e74448be6372'
            '68c556e0e37a862e2b9c2db52e3f622e0cdd5266f0cbf61a3a1139b9bf956325'
            'aed4542daa84f30bc7de34a0c4ae324084186f03f82df09768fb29d2f14b9ed8'
            '62129d7b75d96f7125631f0883e83e81bc3e0d978ff13fc60ebe6e5564a9c86b'
            'f5606a4ebbb3b40f095f9baee90af4a659b94d2ada0df972933642f5275cc2f0'
            '3aeaaa7bb7ec255c8275dc2618a093867f29a764d08d24fa096685ce4a055be1'
            '14564472f1d435e0d2927de7c33a2a41fa71a693c129b932f468845063478cd9'
            'f8ed70ce3620e5c6341bb60170d1b75e67be3efc1608fd38fa7ec1c428ed9189'
            '2c65ffeef2b360c056c95006995b20ce830898da44b201512bea4ba95202de14'
            '0d67f314983f795c5c758e39dd387ff7a15da68ed979eb51d07e77b2881205ea'
            '583f0686c26d7e7d244641789ec1ea60659b0a7ed8eaa86ce170e1e1d60428ad'
            '1c0de4969f694ffc9b2acde08b067efc7cb95a957e205eac7b9a26a5052a1b26'
            '8a88ca53303bbdd99a9b7bcc7869e04c457c09129f1ce8f0dfa2b054022f7be2'
            '8615b20f88f2e349bca0c60e498d4501684fbb22d3941549695ffc0c50bd3a60'
            '93a39000c72d7cd0e47d093f11b45f19c22dd9b5b38d239213f0641622949dc5'
            '27d33f4bb76475480e41edfb24dbd4bb897a16b7a2f948913ad130dfdb032f8e'
            '2d8fafd1eaa36b583924f4663c1173e4caa1d6a542eca16ea4ecd19172fe243c'
            '71bec992a4e2bd8e426113046a7bec1e4483a6345aabd5c19a4cb1ba1c828f39'
            '7ad3dba0d54d1e59914c8bc4b43d8c9c9ac9385522ca14e916f3137ff2d98508'
            '5cc5563a5b41dbdeedbe8cf662b47434a7e5f879469c27886497dcb8b4c8cd91'
            '76a5e99533fc9a1ca5c414e72523414e051c9ead4e8d5c581bc9ece210004b68'
            'c628e430a1ff050aa5c66b1ca5251920459a5c8542551661dd49ff4587934529'
            '3466d5c9e52b4a6482ee5fd30a2ab40e86a43216e634e24bddbfbd5201262a41'
            '799f87a9f377bd0ac54f209aef6dba38c877111e44890f24d3d12bc792a67280'
            '420d6c356153338594823956ba8136e6e83355c144a5b5537203b4adfa3d85a9'
            'dbccc49cc0aedd4c5c98da1b251bf22b594ead22588fc1308ba7cbbbc4d5383b'
            'e65b100bbb6e8e2a8f98a036568365350db46994de13099aa6283ca8448a1ce0'
            '64bfb470eb6132257f3519eca847f915f14e12f85d6102b1578b662645523829'
            'a1f39a5518956c3caf3d887c3694d9644b57be49c51fcf6e98617aaa426e621f'
            '53aed135875377b13605e9eea6aaa1848244b50358b1f4dd39270f0a704e8f58'
            '2d0919706de0a40b98fa5bb811f436ec7c066158dc3b3e12794f928a5d9a80f8'
            '8d282d5ec77d08b21012c803367fce229129d3a327453ca075df5e9659e807e6'
            '651a3d26119353c0ab655fd90cc866b1b57417e7a1676acd643876fce3df6c4e'
            '7645dbaf64804031670aace649bc28a25ace2ad007365a7a17252ab861303058'
            'f38406644e378be44a96cbdb641d51d752491a245456c068c3e0469a0e5dbe11'
            'c26e34996d2ab674eb471880aa13c57b58d4342d20515437009d887ab05d36aa')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
