
pkgbase=thunderbird-i18n
pkgver=115.10.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('16a746d5ebc31bcec97366e1b60f824d4cd01a90c60c120d2847d3a7bb88617c'
            '5c94b2f1afb75dbbbac9d794b4a0ed7c01288578b52ef42586c93379df83cd16'
            '1b77b3517aff513e385cfe0f86b3d32c63692e4dc865562f6f1db87c9c6ff2fe'
            '8ce5f73c47e913093d64f64a340f61b2d34ef40a166239b08c69a6304687a3e5'
            '99089ecc25ef873959218984bbc68faa0b7da38f7731f16185c28e88a9230e38'
            '89c4e6e441eb8ae13b66daac1325e118c606e77aaf134d8d6989b6abeb646580'
            'e1abbf7ef4edabfa67257f3aaf574aef7f39a20eb1d5040eed2b39169e6de6cf'
            '0529e0ed1ddcb0ba42aef9ffaaf9dd9b3bfd3324bcc1e94b5647510ece113190'
            '47109a4b015e2e960b4a6b196d31f66edc1921276a4a1a5f58d9517603f0ea97'
            'eb92baf8340f6dc2714de97c91cfeb2baca82bdab83f915de41d12ad285bf7ff'
            '02519d07bad58486101af94b4055304bf28612d4309bb6399fd3eb938b3fe9b0'
            'ea0aa40a1adb9beb9244a78b95288366d92044abe0f2f376d435afe265c08653'
            '789670e5b96d4bf5981506e8f90ecc59f5486619665481794bbe9ff63df98890'
            'bb836561ae7785bb67928ef01ae4d84449b29e48e2c72df18d339ea08dc6fcbc'
            '7a76a8f43e033f534102804428f811cf3f6f44104fc5c873248ca7b32b268607'
            '0693ea49e0c9996194bafc2e654e62f5e91cd7b8532774d2ce47c688e6147096'
            '4fb982f11cdca4131c8aebdfd87913147780bf09c8262b3c3ebaa3597a68fc86'
            '1369b40d0e5301fe46760c355333d212935c9f547c702370380ceb5c4669512e'
            '0622df22f8f263655dddf2603d875fba5e35e02bc2a5b278dd8e2e5013117cb0'
            'b0eae73adca9578ddf236c49072522c46ef6fb7977208dfde235b1dc29a34c31'
            '0aacbb78115aa0a3afea4bcdd1c333098cf70c9481bf4b24728637228a72f1b3'
            '13dfc77f75c9537b458b220b11d640c29f42837c4425d9789bcce93ad223287a'
            '12d77897e494f8f6db7cbc42905788219f7fe3c84a81a5107e723584f54a2799'
            '046ce1907af3c54f062e634fd1034101e082cf1076606a0de8815a3da95be502'
            '68f738fb666212a828e64db7750a39a66896f20d2b859d529a11708178ce4090'
            '231ed0357ff21544b6d8aa35c5b4eff90f5369b25041f2551903031a39d03696'
            '54d85f8d294983a24bd7e9a2546ce0fedc3d4ecd90c2539da366b9f8014ee34c'
            '5f1bfd2bf9c20c0e78c49c3fef50cde3bec1fdeef37c4ef94a31a59b37e6a260'
            'b29b43b827839b43b12e052ea4b05c4446c8d4b4fdf168c721203efd473176a1'
            'ddb6f048fd28acc12fd1205f12bce97584ec1a30d7fcaded2461e3b749e366e5'
            '02b5de96fc6127067a4537888bcb8a896687625ce38db75036c613191ecd632e'
            '7729d3b00ad6e20f7af32ef1bde58fc20a1c7946612c57f211d1e9d57d04a5f0'
            '6e2f69af95e2b461be1759babee6678041ee79b50983c28be9cd0cfb181bd301'
            '0618dca3b8bad65b11bcdacc3ee102e342b35de6ca12e1ea1c04945df6045bc9'
            'da4f2c23c288bded47cfd9a21840cb4968ebac33d9295bd4aed9f55337d02849'
            '5298c7c8cd8f22da5cd5ca6a901c99cf64219ac896ff3f117c2a8662652b6b25'
            '9a1da5b4b28d0b72dfffb41f16180d57efde20954253118e182d11671938e916'
            '29d95121b9cc44cb7780e3a33f8dd3bb83c182f96e0e02c3d1904140f82077ba'
            '71e77011d47691b48f29925c7f076bfa3a2a254a2531aba86b24c953c062b137'
            '4fe595c1803717a13292daafb7583f042b43b049dfa70546374df1ed122ccdac'
            'f30b44d03374263a02030616e04cd5b44a40f15bcb61209fd66019fc68f6094b'
            'dfbf56d4bb735de669859b73b90629645e134f8cdbda50e146bfe1d6ed214b5f'
            'd65b9795c5a6ac420e8834c62be9d743af15877a131aec54cbe24ac59a005274'
            '7d647a331d83c94f4990abf430b01b7bb5eb11ce9d964c75811ebd6f43b78bf4'
            '01a37fe7a45a899a95a078b584f49f378cd8c6369aa26c2e071d73dc084bed1c'
            '1abe621ce3ee52ea9d5b1a077f08929324477767d91e503076f02c1d5b9c8191'
            'b019b097f8d16215b604ecbc7f9735cc6b9e4e4e9fd3c2174e3b42ea78d7b210'
            '9a295fffeb5cd90890962390162916e4b04a38dbd98b98dca272ef5b3469cf5c'
            'a453d8f4b05e91f26982d4c39d3651e76d820d4a472f30f9e4ccc6d321506444'
            '2ce467454c05834a7299c398d6cb9d897ef09dd7e4b0c80e9555456d9bb96555'
            '72c4e09a4b4f94e16436b02065336ba4eee585618ca6c974aa5d9b5f5bf389b4'
            '3929b6965eda793fa9c3b43e1273f07a2e9e65c0a668e043e271bc31c5adc415'
            'afc38dc0106db880b82ebd41295f00670093d96f3c6e981bf89630c91cec699e'
            'f7cdce6627c15ea25914c3250f5dd50f1ff433e2a64206330955bcd7fe27365b'
            'b2c70a32cc63159f169d6e15b3cbdd13bf024647b1a96e769bbb71494d2f31ae'
            'f5b4c5f731bf9f28a282797789e50a8dc565dc47ec0eb62dfc9f704dfed7afaa'
            '536dbeaf2f9f0befabbce8cb9683beaef77d4db430b51aa8768bc0c38410df7e'
            '4d9f9b6ecf096c8861d1dd82e24dbb46373c3df5c747666afbb37431f11e4115'
            '41e7afc7d7931cf5e8d1d82a0b1afb03de7bed227983b16b105981b0556904d2'
            '8b6a2749544573e8a9224ff9c3b8c224f3906d6b7cafb1cec745e4e6aade7a34'
            '7f916a54980fa8473fc36f5cfaca9ff5a3f911a41554d7e594bca0cae250bd76'
            '79d3b7f1f7d124d94dfd21f22db2fca430efd46017ba9aa4a9f086e9d44c3b1e'
            '669a703af610733a408e3f48e9db511dffa9fb86936e106014e5f298235ee102')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
