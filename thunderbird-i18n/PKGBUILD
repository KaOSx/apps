
pkgbase=thunderbird-i18n
pkgver=102.4.2
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('936a1503a2223305945d1f95b9f7cf17d6dd43cc024dcdae4b546c7e8d833c5c'
            '138561c0f33be26db2e233c0a98a657dd21ef137b819b2568e89dc28ccccb753'
            '5e16c1365e46dbd8593e902b9e0d234c260a22471193b87f165c5b13550e9c3c'
            'c1680677974fed49108b5d1a37753f53bae970c84375cd20c6f94dc2a0fd47df'
            'c63d00d972961ab0043848a96f443df3181e157f419f18892f007d74d99f038f'
            'e4c8820daa2decc0c8b2c2cc0d0f4fd5f07399cb51c012a7cbe86a5f1801dca9'
            '7ef7adb0ac8337b54098b2c3fda61493d9957639bffd5f3fb5d9ae1af3d629bc'
            'af6309b6bc7cb2fa1f36b893e779376605f08f63f8bab7c533e1c37c2fad52aa'
            '83e3f2f934994c4d73e4ae0460c9a219e44f0b418a86985f7cdba4cc42e1ba5a'
            'b6f2ce256836a36f4366e1bae10d160ae752b3ca25ada9d1388497381e28cf81'
            '467071ace8182176ffc27c293d4a10f3f9f30140d3138be7b0a6398b245b6944'
            'b284fa00c677764b752ca5ede93bac6bb746b2f344d0b60bf7ad59f8830c532f'
            'a6cf52ba050be20d2f9721a9e52821c2e815f794c6b08950fd7dbfff65ca3567'
            '7b3295858b33a72b355616266925263ed076cda1891e14c2a9b3a98b370e9d36'
            '55b01a6a8ccb5501f399d4dbdc2e04e6a215515d8b992b429fee9fafed2de666'
            'fc9dbfdfb857c82b328943cb1098aefb78918bc66003d024dbb83817870dce80'
            'ea2bd90c834cd2b9ed6446017445f4b37b4bcd6d10f86eb34470126eb8044d83'
            '2cd6f626442b55da511cb52039312442f1dbce5c830cdc41c772807986568870'
            '17a02c44e4e5246956a91ef4291c5e44d666d89ef063bf538d8101cfb14b5bb5'
            'df8d6adc0594079cdf2dd41c7b2347be0b193eeff59b462b474e7219217befd1'
            '2e30fa6c14a8d83114203d3f34ff199cc53dc0692618376322e9c00fb19c7e0f'
            '50e9928d60e9d99604d3f5abf3b45ba01dc5887556e86eaf2904db72c1533ac7'
            '662dac9351665caee5074ac83b14c096ae894a4b8dda3ccaf40879a28121ec9c'
            '4b9d012ee329670da2e6c5ed3469912950f8f6063c7335ee116cc546edb228bc'
            '18f7e48e1afe6cfcec12fa91a9f58cef85dcc06a78b57f5a1edc0639cf347db7'
            '09b435d3efa94ae9e7989cf6dff8cbffa4b96f8f21dc394fad1851e53ed497f7'
            '5391c1f8ff099de98a2c9144abe7958a744153263c785b777380cfbed2b9fbaf'
            '71a4dfdc90076307c6a543ceb7f46dc8e534286fb34a69daa55e260a2970ee5e'
            '05687d3ab9de19f592fb54dd4d1a5197ff44676a078f83f4b7c1ed9aef6944a8'
            'dbc85abaa29d4bd9b3ff472113ca8155761a3654cf6078fa585059873c794051'
            'aafeb77fbe48d73201956bf57db02733b0004aa81c7e8db5ff9cc53432992b1f'
            'e0f6681aca0f774f668deb43b4c9562e1c3c8dcd0f5286cbab86269a70cfb2c4'
            '843ff3eee7b1eaa498f3fc0558d7b3760180ca914717f028444ca93103c99a3a'
            'a7228502fe1164c7822a728aeb281d2dde40c0d50ca0852cbe831bf0d05e325e'
            '480a9f17dd38ca7028cdc125286e28d976bc562b39721ddfc67a10958a1d21f5'
            '8bc23c3a86fdbadd606a019ddf3e58fc4348f7f35c7ce46ab47a30fc06ee1c9b'
            '3dc29c09eeedb28b0a87b8018a292236abfb27a4b261cf49bb70929a120fe291'
            '1aca7edbc0ebad9751439a2f3a4b92da58d2b35d1af7dbafda155f58ea8c8f40'
            'b1b9d627a77468b904fb05cf1d0bbc276482fa44f255f1c09aa9e1454fac5dbd'
            '95ff907774a51d975e671f7b042e07050175462b94443428ae09b64c402c1b22'
            '35dd772e73199a570eb8afb2fe06e9675db08d6bb7a3b50e1778498aaccccf65'
            '4e689573ab2c236d7063e71e9f9aad8bb248319bada878f483ccbfe65c51a685'
            '4b0a08f987fc2519a8115cac55541c80d69b40f13a2ddab8a34d37d2d16d1589'
            '0cdde625ffa0fa4b5b8fd082eb4c2be0c1bbfcf24d33fef707ff0574045be17b'
            '571cdb24a9ef50609c315da9df903b52e003d59ff270bf3c114049161526b15f'
            'b9a5039ee6337b037ba2944b363cb22895eb76fb69832343c3389fbaeee865b6'
            '3e52bfc0697f174bac1d71baa38416f879ae791af2e09f2511faf2e033aec7bc'
            'e2373b70393c36a83e251e561de66f8676e5ad1f69e8c866a003a4f67bf2674e'
            '3813d1f31f2635a29a082840e0619e30775821d0a3900aaafbf4e3651792a5e7'
            '3af28da35e85a4c9a793b52098cb6d991958b1175487bc9fc74948fd1d4cb9b5'
            '19a9a23d254729ad31794f8c06c274a3f65104a1f25516e2d942e777bc60eaf4'
            'fd2db3b47d6a801d0b76bd71a2168f897ffe4410ea5f065d6f9a3fe794f2ea5d'
            'a0308cc89ae3b186aaacf05c250f20707d2d8679702887c1b220bf9ce2a316ea'
            '54600d58ec0d9f403b212034ec04d80cf62f27d9db4fe1a5495496824b6aacca'
            'bba78ab02522148eddfe34166ebf0bbc6cd16ded4c7c0a62168578d09ba531bd'
            '2311bc7ab2285b43ce0d54fe3f51bfc718bc89adff3a74d2c6dc5e389f1267e4'
            'cf6d7021dd1c4d3196000b7d7b25541a89dd03d593bc3969f6697668e7d35186'
            'a60b9a23fcf40a3324b3b762e62d4371084dafbdec0fa1c2c789a3157bcb051c'
            '636d9d6926b193b3733d71121858a4fd9acc568d733afde66f4af805353210ad'
            '32200338f511bca018a511ad6b1cf9e58dea31a3c6d49bb3322c7e1f78a9d4d8'
            '4190b901084e5d67da451b6ce5fb0eca9a71addba006daff1fbf1dc080a5bd17'
            '6663dc6fc70ccda6c6d2d868e4d02b1e4ca66f7a73147b1aaebb1d55f5672130'
            '3a33a69b25242430ea488aa9762f0c4f68d623ae91f65991bbff26536c68d929')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
