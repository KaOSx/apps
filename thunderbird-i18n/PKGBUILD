
pkgbase=thunderbird-i18n
pkgver=91.9.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('6acaf69225a6c69b2deebc978b507d278fdb420d8e30575532a7cf816f3e2916'
            'eaf7f6084c3f8f7e3f3a1febd3bbcf5a975059bc8ea725197fdf4e826d5de499'
            '5559c57c4de5992f4b37febaf7fdef6035101a6872ec626586189bb4a9d21479'
            'ab4671642dbb0d8045dbe2eaa5fbe423c183576b94017e3d5df03e8d27b5f452'
            '16865ea771b7882c9bb90cdc379d8755323d38a7021a3ad9af8e3184c38da8fa'
            'eb219f1a1c015bccea950fd7f3e92df7eb86d1ede9ef731a82d86ed808096266'
            'cb965ae70a6a20752d504fb8145913695e5eb8d8df0e35535544612bba22e65f'
            '18ae998daa76a7e1ed7ccb4ee0c2c4b2b03ef3245a8638660245f1c9535cc6db'
            'f548c367c1d3514df8ed10f6adf498a20e8b9896fb9b929261df403c8f6bc2b2'
            'd5b432dc8d8ca682f1b069632568c5c0b1626435ec2ce1f941ac280a72c420aa'
            'f089b9336582799481a0e29dba57c4eace242566285e1e9f8ff9c58f135e8a5a'
            'd7a15e87651f37ec3384a96fa8eec31a13555d51ad03f081e4ed156276099c50'
            '122fa85a6e06c6e3c8c77323e267352df3168296e0c5e582b626f4a9cdc872f7'
            '1541aa694b66ab28c18324330ef3ad603921b2e31dcbcb997c9db92075ff8478'
            '3b942656785ef3a90e25de559a58a6a085c2305fd01b68453c04c89dcbfe0989'
            '8772df0846fa759efa104e25181bd0610f4cc2241db97f82468249e3a2681b2a'
            'c84ab8219f525042493b8961443a45d73a398fe20636019069d6b8c0da0ecee2'
            '5c5246824437305b1009f2347f1d3aa28d5c1f3e414712b7c73d8070d0da9779'
            'acdbea217246913f1a55e8753999d6e07d13d9ed87ee14a7ec65162a285d1278'
            'ee6eaaebf65105269b6801a47c844541c641d405a4d1f4d59845602e3acd9df8'
            '599fa63a989b6ddbf07bc0ba3bc3a9ea1900d854d3e7da76d004a1b5aa8b8dac'
            '4b2cedc7a5d3e352254c36a85080ac12a3e03def5c1264e5b1621f30297b09e0'
            'f3cd257da701dde9cc9673356ab3485e535cca8739a070e49561bb8cc4d484ed'
            '28ccb1a2ca1cd325d5c47f56827e7c754f2655407c7d11351109c12bc6e3c267'
            'e969c88f9f6ca5360400a93158ef7a79e319393e7ae7bb8b5a6960706503edb9'
            '767c25da56e0c003d96ee9a0d3792be2c0d10a7f34a664cf4f0c7bf4bf846da0'
            'd4e67428a92ed4ae12dcb93f748e863864d54a5216727c57a214096f2ecf8407'
            'c7e42a72571ed55ebacb4ce12d0d38ccd7b6ba483794592445bc95d14ba9b872'
            'eb68a91f37436ecf652703cc862fe148d8cf1c724b6342ea9dd62315a60d29f6'
            '68965b148590b1bae30a0cd85e9b0a681672b3dc43898be0cb1fcceffd5aae8e'
            '0aeb53ced54f1a315f96b9157a9a33bcbfd71e656947c137805d031aa20d6fb3'
            '61f1873626c594d8ff08b4c0d15af4f43c79ed3174f52168cc18fc5b52e0cb9b'
            'bbdcebbdf6f7b1735c92eacbe07bcbdc1c4c65f9ebdc0b79b07474b8e080b88e'
            '64601a3b2ce6da7ddb77880837846893f118028944e6f651f61fc65dde3f5c64'
            '4e3ea7927ffa1133e99161d4ed94cfd79a80cd26fc119879842cc69bd066d8c0'
            '914f070e25d33801941a9899413dd6d1f728c581425d1e6d3f985267ddc6f7d8'
            '377997abfdce4a96a346564df627cbf22c6cb2f1b726d61f57777b8f3b315f9a'
            '5c0f14890e6f97773aca6d50ec5a5864546b232d678f0f8ec7f20334a1ed6526'
            '99cda0dff47d0adcfd65952e8df2a39d19095ec20e72628a1f788c96cdbc673f'
            '69fb074acc6f3dd5b669d7f4a2a1b287b0e85ac1de8bc7199c8de6962be65a7a'
            '75f3a6d337f5ae5f039d7fafd2ef3bf955c4d15f81b97033beed2dc70f814e12'
            '25e0d6f34f2d63f8b3932ae121165df7a5b4a6cf84d43f137792813ce99f3584'
            '8341233554775963975f95c393ac53f0fc291e3a5f1228e5684f78d324419228'
            '828ceecaa7ab359decb2038e8173da637ae8de545283ce30a0d9dac2b9f20c12'
            '7e11e25c03ecd9d7cef37818644ba8bbf5f583e4c64e9c022c6a3f807122ba11'
            '3b33b039bd0af16f2e4dfaabc82d94f2adae836738b3818e1b095c4cb204407d'
            '99a89ef0e0e51cc27c3ec249945fc4bc47e7dc01343b7cf5d6292d97e1d62776'
            '6a912d740aee2a48611dd68ff8c3f2f7b7cfa0f85e01191a8c5890ce7b3613cf'
            'e660cc4da3d2a811bb352517abb15f7da674eb9c68231831c817bdf3dbad8b33'
            '6da86f0a1a1e493bb52217671afca3649fbe3754b5ec54e337ddd01927c4dc45'
            '3cf1066d75c478fc38b81ad6fa9db2a52ddd01dc145dd167d465ae91ea539fac'
            'e9adef81c732824dcad7ff691028309d8d71e3ea90226618c5bcc2f76101a6bd'
            'beb2d7c4102e85b63ed11f4d5719511dfa42d865313a3cf315de110a69b8c9ce'
            '74a1c306b5ca0856a09a6af1f714dd01f477bc60bdd3e52ce0bada817aa4983b'
            'cd6b1e676051bbcf5c9517ab6c040e98d31f17f0b0c45b2c79142ae5f2d42f25'
            '651a699630650e1bffaf47a0b4cbdbf69f4157f918e5c1aa025e5b194474d991'
            'c3d5e9c4dfbea647d7d01483e87b718319101d8a2ffe94ddf5367c7ef7604271'
            '999d9d015abd320e16a3628bf3732cfebacf91f5223fb646b431b54a1aa0fc8e'
            '4d33ed4e21a9f3bd8f08b495e667262084cd0c2525e7e927cfb176b99e366adb'
            '0cf7146f0c7adb628eb5ea16208026afbbe4b67af20089ac29972ae0254ff62c'
            '2de32c4a2661645a4828e4aecaa410a6ad27f0915c04ca4497f439aee54999d8'
            'e7ea33687ec187e629d97b5f1feb614486f91ab3172021d3ba779a53588114a5'
            '0c892d386cd2cbaec67c860ae342cfcf0dbb9b2f382cb7ae946c412790885745')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
