
pkgbase=thunderbird-i18n
pkgver=91.2.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('d09cf4ee76fb24c7dcaf95cbb142ee08bbb7eefc2319c74e343b172984adcd86'
            'ffe76bdf54da85e964f6752b8260552cf418b4637118d58fc8cc9821bfbcbb38'
            '5b56d77eb78a67375825de19ad8fc16caef5daeea7826065fb55e0e607cdf5df'
            '382ea492e528f0d0fb0c509e2491d2b5d08be78af1e8bfd8756b77221dadd8cf'
            '4153caefebd000e06f902e7495a157abbffb24f3a6d98112918619fd4e335b05'
            'bf62f1f952a85e53c0e590a22d2b8d961681446579fee34b45180ed3ada8677a'
            'f248015274a69a2a7488edad614b8828c5235ab2ccd706143e3a7502c289e9d9'
            'e901d06d5f285aa8e51cd603001745d4f91f8cd62a562e93f96c9016f03bca55'
            'ea71336fa2b2f07212f4f0049b181fd5434f837836c0ac5d27883cbcfff0dfe2'
            '64df0130ec3147ae65d5d22e136e43cd673e0d2e947f854d6b57d61a708aa9dc'
            '14b72a93eb1def95084795a287a245e4b610a2b4fd6ce52aa08e744102c039f5'
            '90859825261948165b2996d27bac22fdbda882d101a4813cc0c2c343dc5c2ac1'
            '121db79fa55809541d86c5e4611a403406531487f15f5828049b167f03e0cb9c'
            '8e28ff065d582fb5aa4989474d025c984f8adfbbaa9e9487d4b90d3659e0f4db'
            'ab63df10fc6c51e98032a7381f59bfeffc3413b31319a7cc3fbb1c4bbf6a845a'
            '5310108c8c6121db864313080e7ebaa756dd7c3b776bdd7a3583760ab5e7d286'
            '42098cd15dc8f67ce915ecc3584e483658fed8c48cc9ec58efea15b8f8c1714a'
            '9ed96f1843e1cfd0a6e1368100b2ba0381cbc69620bd4a7e2ca31bcef05c656b'
            '3d58ccc45079efd2a7ca198056cfb423212528025981e733f2db19d817e217b7'
            '1a464568ea1e9176d67e4641eb48222aca1bb80041dcce52c6966bed18175170'
            '1a15d5661d7f643cd3bdb05face5cc9f95bbb4dc8b381498c72bbece603ce94a'
            '7453b7eb7013555d2dd18663476696e6574eea7ed2b4c9b436b6a1edf0c0ac03'
            'db5f6bdd6db71724a900252d88c930b4951a91bad2ba0e6ba37e12df270da99a'
            '37f9cd27f35080b0f081d9f5dde8a08e7b273b5925ac73cb6bc5536e99511f47'
            '540ae3dfa68d53279c4dea22647d9bfecbe734f1cb0c257a79ac38add9d3e919'
            '5671a6e44da813a1e2b5338770c3ca0e452ba26987a4c8aa42d4ff101e3c8c52'
            'b7069829e7d165f083b48f86488a149dfc94c823c4a69384659ca0db1e8620ff'
            '255aeaa10ce7b44eec2e517a44bdee6cc60c5f28b064e394219fa5f4f2660b72'
            '6cf5a1478f7393ac7f4be2335ec4d5c2c5067ce33cf1d811f611506e5b402d90'
            '32ad51b21d39bd8cd70c57a652e0023df27b6719093be3f81a9af0c6a1c49768'
            '07557aeebe66d12698e7f46bc41f73256876fd20f0b54e2e8e6fbb054356c1da'
            '43228afd42326663199b84d7eeb2587b0ca790e32ab9accf149eb6d7b6b93290'
            '2875d5afabfbd7c31febfaca4a6a8d3c608cd93580341e8e99922ae397b2a4b9'
            'c3af782391bea6e4c6c47b2c34b2d12e2c893a803b86bb08489b59ece3a020f0'
            'fe5f0ca4f76d84fcb7486328a1a2ffcc6d448b20706f4b9b3ebe7dda58efd0bc'
            '0960b5463782b7ce254bb581364c0472a27e33248547341653c0cd268ba88140'
            '228a9c060b99197bd57fd4499546299f960d2fbcc6676406ee7880dc31c3cfd7'
            '47c3dd3bb237161d3327dd6c8a9c3fdb1c633832b8f77bcf3935b7e34c0e11b3'
            '4becc13f1498aba94f2bd3725b24d27a9fd8797eb9fb71f707bda3a08e7a44b8'
            'bb089d17e2c22c21cb27972f4462014f3abd8bc20eb31456ac4e1988e8acfc33'
            '4f5f010807b4232124236493f0d208da271beae246af4f56cda7460a4c4f72bc'
            '43b035a492d382790b16e2abf4cf22168efd9143a7ff105b4c2a7fdfccfe5a44'
            'e1b2628ca7c335b966afa74e6cbebd58a8f56eb5150b95bd0f9dad4e6eee1338'
            '71dff8560436a508ea1206f69b498dce5d0f43a4ba52f45042a0948b2a22a475'
            'b0c4351c45bb155bab079861e54cbabafc337bc34aebca7dd6683ec850289905'
            'ee8769166ec2c8a92579edd9f74e69f4b9c2ddea32a6a0a1d5650166d356ea53'
            'a44b9a2fcf146bda89b2bf661d7185eb2a96652bcd49ccd285401729310d5230'
            '7db9ad9af1ec8fbbf8a87a14afd1542048a6c983898bda56b59a8039d0c30f7a'
            '92b2134bd3dd9141a891585e3fa5322873ac54a6919868a314d05addb44beae9'
            '22917657f3d9ade85349288fbe8489c02841503c04c2b06ac03a4d39bf19cd7c'
            '77b1e992479d1c0959ac5f1b25fdadc0e8b1e3341f5f0bfbd500fa3a7f78bfb4'
            '4cf3f81d34421564337546858850d80587448c1915f1edb2416dc6223458d766'
            '52d63b0a166edb02e8761f9f8c2156b1c251bb281e9b55d5ff3c9fd17936a487'
            'b0dd0ce1785a57d23da4132b9e3f6a434fa7b385d8084dd9057307ff50148dc1'
            '4a9e5455cff25d924eb05e4d84e4d8d00d6ac5b3325acad07baa749aa8de56ca'
            'c3f71f30aff9fec2ad3a9cb171601b3561818e67e95a5bec7764344a90d180f0'
            'be613a5ddbc58c727c0a2b5f7cb8cacf04f2001b537fb66cf87e9fa06f4f17c1'
            'a5eda9d90404e779dd10fad9310160c6d3975bc37eba03782cab3871d4ce9067'
            '4120c200e831f8cfb08b881657f788c0b3218d1bb197d610fe1aa53ccd72eefd'
            'b575f6ea05a17a46f5180beee503eae501945d9ef1bb7694efb01b7da82b88a5'
            'c22f942d956c5daa4a3afb335a6011efc9f26d7ac25fe8ff8cb62667bcac68a7'
            '515225868da582af98fef68881668a0eaf47bda6135f044e81e44556f9477db1'
            '0e1833e5604867f25f7b29a461fccc4cf48ca7a904e9281650be2636296bf785')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
