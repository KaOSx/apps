
pkgbase=thunderbird-i18n
pkgver=91.5.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('7aaa6d28b9e6f634f43eb8b8cfe937ae8d9db546c1acf7bc5e9c6c00dea53cea'
            'a5a5a9f28c71a3d437ee5062a96416201ccd8a5f3fb5f2b2c7a59c449a47638c'
            '2a9d92c5fadf8c5db8e4aec54aaa00edbc2c02d12ccf9e95868637c3890d69e5'
            'b2baea5f900fba25a0cc4df1445c9b6833dbec5c4808af07b25217a846faa175'
            '0676302679c88e6bcdfefe159c5effc2f4fe3abf71b7c57483bc96ff1fada053'
            '1d611d7836f67a3792f4fae20a0275910ac506fa5fb0707602dfdf204e8eb5f4'
            'a8ed5e598a9cf77655a669848df3c9f1e0cedbb48e66a7136ea3736531c42422'
            '8dfaa8f586e79c38ab5bf6e53f91f46f6e4e3ab7608270ad699f530129ef3dfd'
            '3df58bcc36f1b263892007874c8c07f92114117715335bf5f0d9649dd80b12ab'
            '2758b5bd9a26c5b699e9f496e626282ea3a4b81e531b676e8350b3524f256569'
            '9df2b5964c80fde012d4d43fb63ff6f7d480961921cfe08b77951940631fffe3'
            '0b393b5ba42c3c637ece65104424684384942f97b582fe27b349aebc47ba7ee7'
            '01a3d23a509de1f353eae39273c163d07f332bfc4321aeede38d20a8bda28875'
            'b77f9ded58149618fce21cf51d739f2e584bd7abbe2321bce52d58138f6b46ce'
            'ecd343d1b0327f9ac0764efa68edd564e68e293b1dd9594c21cdd63423aa85e6'
            'b97853ffe6e9043e61f2d9bcc62134971b206127658807a18c0df53c6d09d118'
            '50a343c2158e819f65361c364efc1fe891bf1b6ceac7ab4def1476fa003659e3'
            '1dcb4835da5a98fe16033fcecf56d558367195096a6427445f9b3c55d4a42c40'
            'ee6e38c9b2b7c3b623c0e4b8a93a48e052717d9af1d2a1aa6788f39365d5863a'
            'ade4b530c62aa2efbda71eb30d454302bb84a4a8775d6129f03fad460e012d14'
            '2038e53c0dadea3d1dca2231948d226da269596ddea2fa5805e6cec916e26efc'
            '35d58dcf46af109b3e588ce0175bd1bf12fffc71a882a912d32b9642e06bcf4d'
            '83c0a36b6dca1203caafaafbc4e792a328c3b5a2074acedd6a2035a6bc2445f8'
            '8b1e2ef8b704c396fa0da8117197c3fabde4004446a325f06ea3fa75c0e4f1f1'
            '90a9c5c9b3658c4e5862d679f8ede37bf5bbdda50a93c8c2c056b1a3115e08df'
            '3f50144844d41e6f8e4fe55df999ee48768ed4c65fd64e70923828baaebd0e06'
            'f3e38363869bb62d1fcb35d3a7ab755fc558e69fbf47555b7aa51ae5f58a3ea1'
            '0b507071816be0f2bf590de1f0721b86ec2af44ec68af70b18948cb69f0a827c'
            '4cd1a174cf9257de5349ce68b28da91d34c9184c430adee03bb80477797cb8fa'
            '0f6132e1c94365d68b13e846c89563b213c6362ec606092d9a596046b73e4b0f'
            '544e71a925848890a24c813899bd76003178a45cb850a88f3fb0fa39aef85276'
            '5025adc0d185c463f6910e72c95dec0b65f9408a7ff2611c8c603c397d14bd94'
            '3cadb557ca8f8e9eeebed7e7ad9f4b5f7a65be81238f247b519da4f1e7b73d99'
            '05daa72dcde9c1e470cb6308843177320f5aa4bf9798c84a30e3504934a13624'
            'b350399c9dae5e6a29cbd64377987ea4bc82434901ff0a7aff32bf25f0cf1bf5'
            '209505d7d110e2cf0c2453ac7463a008522f3091024680f1e3437759e9812651'
            'cff5ae5523878d391a5a00742c0b61933740b39ea875c93e74abdd915c668737'
            '2f5bf910766966bdc44e4e18279c1de3c00281fb5387d8f278fd879a22497cfd'
            '1928b7e70d07dea3e99b691a04dfb32f1f7ed17f004a806c122e0eef9543725d'
            '792d9c7acee9389ab98c76f3db984696579347dec15a54ae2d90fafdd6c44e4b'
            '78dc0b175d20f16d4e65d691164f419ac2d39df99f3253cff8ba85972c4b9cc0'
            '365d9773b46dd0f8b501940a44b787e4071ac12b19583e674d2c5301b6cd826a'
            '79c3673e655e65cd506c73d99d3a433aa3c14305ff716592ae073fcc47754e5a'
            '6d2e0725fb374169472e892ff9e76fd1ee8d9a1dcac655c49c3095b9c46b4682'
            '0e20254b3f6a58908cfba494470767bb2476bae80629c9d4c65549df16ad3fb8'
            '835914a8ca2d4119292a24468a2c5f01e3c505fc3273c6c8ae1c03ecbb29eacc'
            'ae534b43763f3e84940db2209f642362f513040a196dccf9abc4c9426ec8c560'
            '1b90efdb6364e045ee20f84787ef806609c2d2e4dec96286646e063859416677'
            'c5e4b715154405302248baa18782125c8807e138d0a1247a368cc8f6be08d167'
            '2a8b3f14c3af8ea68181d9b85b0dd34e55b9e499516d5e703120d265fb4e24fa'
            '836f1c3c85ff2bb51fa18d5023feb625918eb72590f2eb5169774a8887bcf3d3'
            'dc883c54be07db3f7724af1dde5e6c9c183299312fdaf3ddc819bbb9f791d0e5'
            'e632d20ff83723f8d06d134d0cb40a9462de27f6beca79beda822e042b87f2f3'
            '120b48fd1e2324c25217f1a6f55991a5307ed5c66fea9ee12bc881c6446b2434'
            '6f37e4f44cbaa9fa363de5a73f56f7ffa34131910a52cc904de50578c190d77b'
            '59afb95107487b12d23b043d6d33fadfce1fcb4c468410ef95ab88716329d0ad'
            '19e7263bc7b988b5dcfd5036df9269abf1153487432920f9d33ef271e25a1355'
            '7bec9d8a736667e0b30f074445a84bec4fb1eb2744da1bdc630aec94bcc8f368'
            '44748f25eb82c843211ba8589472c7b40586fe8d4f6dc81eb7de4b63001c5d1e'
            'ddc100dd8837eaf76c9a2fa5961e7c6962e9b930036ef6435ded5821ba91a603'
            '51f6ed9a51785f671e5502000cf424e9cdc17a887f1a078adac603bce55eca2d'
            'bb373c452f8620b7933d2e425d5e7d3747e24882830662c9f0485096c7ad75dc'
            '7277f7b51006e1ed161ae6df10bed66fd1b601cec68d902bca45ea888e570edd')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
