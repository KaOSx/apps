
pkgbase=thunderbird-i18n
pkgver=115.5.2
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('2ff5cf23a04adb29b7d38f146969ec1d0c84fac2d330bb1d58657e5d4042cac8'
            'f65a22ab5a0a09f611733103480a9030a98778ac0896486f13a62348d0d45f25'
            '9a5eadbbd6137535f9d83894da632a24f81484d561622e65c5e5feaeaa622b80'
            '469b08733ceb07011560ac9a7f25dd4db528f2bc4d48baed44889f93274f5ef2'
            '6b569a6daf7babf6aeeeee2b97786001a398fa434c08e161e243311852eb7aae'
            'ca0123c8521808705488a9e84526d0382fbb70f5c8796a14083ca09efb9eae73'
            '2930337320175f85fabd8ff099efc01c508fc8cd05d8f9ccdd98c0334de6b07c'
            'aace85cb87e20442994f2afd9ab37bf4e2483aa96dacb90c7ddfa46ecfdb355f'
            '23054cc24f4cf3084e45a95a71959ecb26a1f17663d335c0a3e4b1685e76797f'
            '1d273498570e532112eea3cffd8a37130523acb51d8e362fe4914a0badb0e3af'
            '9d17db25b2877406e8a7a862add579e4fda17783a95566823a9e0944a27c6d65'
            '265df043756cedbef125d4f1b4bd95f374cc7f2ae3fa7797b662000e37a7f25f'
            '016289746493de0926fc473573a796f3843d6f92df3af179ceccfb8ccd5d96e4'
            'abeeef1b2a36dfdaacee2cca78f3fe66fc0a0fc4ce73e4d84520db30f5a2e922'
            'e306577e92fa9a4eab749e49a0965452f20354f1e9c1d3dadf2aeaf1cf4bc403'
            '89df1d96be8eac826b83dfa463cc77e91037122dab42388cb66c01e4bc60a866'
            'd3b5624ac422aee888c18b3a0e1f5074d605df95ef93b71f029c43bf1bf38821'
            '52f23223751ea3880413341d517f5461e1ca0139a98af0337d4e516a26d219bd'
            'c00fc357a6e76424e234857ab81efc62a843a29af02d9dbc848e55e79540e5b5'
            'f120cb2dd1a3a887a69cd5d94d21fef11ae6762ae1a04aaf14fff536c68aee37'
            '62248dec630855c2ead774d342e78e9a060884af60d53578e03e08f330d2deba'
            '255e2bbd58992a2b3872dc7d4d0cebff316503286bf63bab8a801cc2356dd296'
            '2a9f1e894b7f086353972f767876d6106933e808a53bac458a59d0d4d1692bae'
            '611eabd50b1ba7f7d50ab9aa079c2891e37fa9bda22adc26d38485750be05a8d'
            '4815a24987aa39b7ff8c4333802c908cd2deaa85206cc2b40caae7a62ef4f6cf'
            '976e82c5c9a24e93bb5fa29e7446b0970f397879f11f6865a5bf9a4de9b0de43'
            '681da2b14b1a4cf2e79e0dedc234e98a90a8974e6d160520fe8522fa2da424a0'
            'e849dc51f6ca255985c18305434fe483554acd13747a073e9b7333684d657e59'
            '9cff1d0143be179b93a2d052489e6708f1b016fd92203f2d817feb65fe153c91'
            '57fe3bcf9a3fabba7b637493d1c8a6efc8ebf7b8fc2409266f579a7372681a5f'
            '97407114d4ebd375f7af8b40e88df79382146767ac5461824e42bc678dae7414'
            '0d0b010c02b76bc3d9dd67f38feb7647557db1cec09b6caa770faa1d292ac391'
            'fd8434e8c3104e7e34d4daab0d75676d55bde95e7a87bf266b54cd024391b0d2'
            'a93834093a6f3ca1cd30ceaadfcabe68cd1bf8307131cba7049cd6002eb9aeb3'
            '8073d0d171c2b2e6570ddc42f040c7226f53fcf6fe89193f7ad7db5dd693ebfa'
            'f9aba57c8938348bd408bc2553ed3979137b344fbadc92d7fd5e90d055805936'
            'e377838b47c8a59ae0a74437f97465e336c86b561e88b318423ed04e624f6d53'
            '061a330398aa1cb5aa5953d793ece8ffed00304da91de13afb8dc9129b8319a7'
            '2c4607489475d3fc6a9228bb9458019ed1eebb3d7fd22f36d5d2e67ffa1e430b'
            '15d7e69b88865e59f50cd929acc183cf1c00ffad13bcf10c7116bc56d3c0d116'
            'd9d7453a8b3d8786d1b8f04e04d6f4d8e89e0c0822ccbffaa0060eba4a234610'
            'f58754ba2c46c300cd60beebc465ee63b385b604b8d03cbee3faa2ba2fd2774d'
            '355ef4ab50c7fee1149295f27edf49826506b9694bf0baa87e3206abf22bd099'
            '5ffdfa0c92f82dd9d3b79bb7c3cc2c3bbccfd7ae4cd75f4b45631f244255d318'
            'bcbe177c19311a0c2adf115c801c1a6b011f5c4456f57e428124f1bb03883947'
            '241c984fc1bcff981d31671d721e4ed1f89486714147ca7a703f0ba72742314c'
            'cb6bad49c22854c9c4d841b751689c76687c3658d0c1e44fac68c0d2cbb935af'
            '85d784093e633618e83783404a2a6ddab4d808d7fdbf66776e9f9407bdacd77c'
            'db60b1457e3d50d3a29341c484d31f9875848f5805cde5fd71067f2ec31633c9'
            '27182166e0e8e78205ac978b98dc1546782c9bd612a6fbba566326ca5122b439'
            '43f7abdbbf661673541446a7ccf92aae1254006c6eab0909720e24c93dfea66a'
            '92f535444a97bfb146a91c881e04ded89510087706d4e404da338bb3ad5994cc'
            'f360c2e51c65d7dacf5c4544d6bd27b1c29bb5c0bdc3a4cd6cb951db739c505d'
            '310dd64c37d792540bd0cc8d10a2845a67e0c0ed104655664b09cc943e60360d'
            '69e0ac2c5c65abd5b2ec945a278735236f2a4ec73b817382b82131ef84fb17c9'
            '78fa230f2668a5322e8b8c78f427b67bab4dc2467d4813d3e3e7b67a2f2f7b30'
            '1689ab724c64af460e2cb69562c8fb7652d5e89ee3c3aba8c7e8a80aba8e45f8'
            'f4275e34ae2213427fec38ca5043c1eb9b304b587023151b871b4bc55b639a8a'
            'ba601b89a70320850ad4a44165bddd3658965dd165e8c9242d47f87f72254409'
            '043d1403cf91298e88851d95d8037438f72d4c9e1a2faa0b79676c518b7e5b4c'
            'ce740fad47ef3552a0341f5033c0695b603d87730066c0188e5753916c623ff2'
            'e90a4040b368b588bc9c41df2726b398638cc16cb45b794a8abe6277fbcdaaa7'
            'adcc24da20ed36375dcd5c7f30e99bad222e03e23e6833fb0cbbacfa934b36fe')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
