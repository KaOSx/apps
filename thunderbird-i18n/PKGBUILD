
pkgbase=thunderbird-i18n
pkgver=102.5.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('3ab26b666b1373a7119655d47ab99d23601f35d2a3706b70ff6bf4f17016f91b'
            'cf14dbe0b05afbb0c29572803411196e28c26c1f006db0ef15ec5ebb77ae172c'
            '56c90cee19c044f5b84d0beb57faa8f8ecb698778aaae00ca2ea0a87b1e37784'
            '5ebbe55632ae8a6c8d597d83b78970ca21546ca2e4fb647998ea62e388a0c82e'
            '5c5a3a71db2bcd9e6f29440d172a9912834fdd5e82e59702894108e2dc3b1c29'
            'd0d3dddd4c8c9e49146aa50e4beb85fc57b76bd622c214b8b53eea311c0cf316'
            'b0a28eff22f46a86bd25d4bc62955d030096d893978910d3e8906f052c7fcb6b'
            'a33a9bbae679170e3d1e9feb696a5a8ba9cde67bddc7ef64425a2ea65bd11477'
            '4778fe21915849ed1d0a1f8819cdfc49173b5b622dc9b53479cabfef921e25a4'
            '45fb3ca37c9d126f5c69e52074ed8d813fa5a3c7c8d7d50df49382f0c8ab1c93'
            'ceeb717702c49241670e280f9cc761bb0b15e81b2e17a4d326116e894972543e'
            'fc0461aa2b1898ce2e35e8d3a36dd9afb7b46412627f314c23ce6b30f0eea6c5'
            '3d4f35bc8883ab6794f23ea9d6e53258fe94fdcfafb9902cf54a1f4b2894333a'
            '03e98249ba6db0333fa767f7201ffd04f349f5a191e9e1eebefe72ab6e1d837f'
            '2b082b2af3903fc4cf5410d5f97f7a496beed576eec4d6d8f8aed8d0922c7c0a'
            '98c5049b4108f7d1e3cf871f3783357a841b014a6a61a11fa51fd41d34b6c2ce'
            '541d89bb3ef167cb948287c892d30a7824e6a9ce58f2214be41b8f5fc554de3a'
            '3110d3636cb147843859eace79580373185561fb9351d45c23ab4ffd84e70afb'
            'f0d49423365eb08401a866c564aa50783967d79b1325b38ae7c289dfa8d3fdf7'
            'c73e7185c9abb883231e5a51ce14588196ebde48323bbb7b00c4f2c21218f8b0'
            'ceddf17ccdecb1e850b51263fd5de312bdf047d6bf5a33a7987e35319c586c92'
            '62829eb30171e6d0931bc3585513a824969d61d7ec93fa3bab2f69bee666248f'
            '4ce51caaeac756d7c108efe264ed12c001d101f906e75ffa26157ac6581e00e1'
            '21f74241bbe36021d8c209a0f32f8fe4ecd031b24ca9b1ca1abd78e5a4b739f4'
            'ed400c42bffb44401e3d9adc024cd3806f4aab246fc1420fe0bcd737c595d3ae'
            '7f0090cac61305f21748f6f7adfa4deda0e6a0532b5acf3662b66c55989d6b21'
            'a868163aaf960e8d18a45719db12cc13b3c259cc77b9f866bf7a847d8d7a3438'
            'b38742333b012f1025d886e7131e0586ccddb178019cb7daf0b48bc50266a662'
            '49d61f0c982a5d48dbf52056c451e61f90f6c77b1ecd36e9631006aab4f032c5'
            '76c6fc992ea608e9105e35ea5352b7e78121791f743ae285f2e9bc58b43ec11c'
            '26bd1870b741d36eda48200c3fb11d33a0712652350d66ff0400f258850b7a61'
            '6b0030749dc75d64dc40a4b188d1180f2a10cb6d576e4cbbb0a2bae77503936d'
            '8e2552d8972ab107f172d8781e472f8aaae8d222c94ccb599ec17a6b7c6001d7'
            '469132104dc382ae97184281ea267f91ff6d406859f8bc4bbe423dd0ab37779f'
            'f7cef0786fadc4ac037fc685c5d1011ef9f9e4a268cace829d16e3d7db39e49d'
            'f5299c8815682754502da8baefcda86c1b40c49511c29a16024e5a75c87accd0'
            'ff51c986d33cfc553cef7f125869b424f57bac9d00aa8a4b52bff1f4249b3498'
            '65dc7a993ed0d779486efe31b50e2f69a3421ec057376dd0d704fe23b3639624'
            'bad88f86ddd094626a2cba818b394c48164b648e4b61d8720f13bc00946f88cc'
            'e4f060eb2865baa02098189a093ae5dcc6073f877ac29ddfe3646b1b794f4f99'
            'b0547ffdd50404d805c8dcdd6a20b4ef6d3e719bbb517899fd357f76cb53b6bf'
            '015a84e762693a76931b65b76124669322870a95675a8066769e58cf3ef22a75'
            '861f8f818a77c2ead262854447548ccd16896c571342febec1f228c33d50b183'
            '685d6194797dbd0963b053cf9dd8f1d6e9674e68cec2bddf864358ab66f3913c'
            '924c8f27a213fe53c1e5f5304a11b0c7123d1103c3fc3f4f51ed63bea50d6538'
            'f5dac6e8f3173e174842cee5ae4773b9614a942b1ed75111a9bb8abf044808fc'
            '7ba3daa1667b40135d05433ea001250adf63299d2172fda348f2755c5caca210'
            '90e384f920dfa3320f5878296cbae87b3638dab4ebf35e3d3fb7dab6e1611ddf'
            'bec48d2be840bcdbd11325ded94bdfe2b4eac2f374508773abd4e78c91855346'
            '88d3a6856240948e962b43cb4e4b138f044735021d8d7bbe44988a8aa8754ae8'
            '3679878830f2735bfb8660eae2d909d70132ea559afa42cad6bd2768936d7439'
            '4861777a8a5a9f137becf62ed219b32b366b9ae965363dfe71bcda611f956553'
            '5ef576a61b973b9eb165c19abeb1b415089c53c86518fd1e2ee35f8e95ec7248'
            '846a0059a5b09bac3a9a7133ae5e25e2e9efd58608238b50d61e0658ce1599cf'
            'b30a1467731ebd348e7e33daf6510eec5036cce3ab2c7fd1f9ac14292a74ab47'
            '0daa07f633075a6318a1065c52407ed6102709a8ba88114838ad57b310e954e2'
            '2781355f447806d51e688de625015dc2557928de1bb0eff7e863d1540bf7a5eb'
            '8e6cf5936db0af2f1c5f1b37faf150475feb21de3e4a5ac05a491aec98b7fa1e'
            '9498de786282cd3f395d593bbe6865a4526cca7da55132b638ed6cdf8d8e9a44'
            '37182b351c1d1541bd8950c83886ca5541fb2a008eb7c1022b7ffc7990218ce5'
            '07160e08b93ca45335b30ade0d22f6c9f9356417dd69c6673853f7b901c8e866'
            '8c324e4aff499c9f91afb5620f5b0fb2b1c031b66bba6fac1473f27522cf7a4c'
            '7d490712c597403dd3eb4a7269f6169adbba1173eb07f4aed78f2b865dd1e333')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
