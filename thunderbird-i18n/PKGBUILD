
pkgbase=thunderbird-i18n
pkgver=78.3.3
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('58024a8b0f46ee251d5f2f5525efb628b368dda9a7e7bd7e98d3a703f09cd746'
            '3501fb214fbe3891249465c67428d592020d667e48143e29097909b2cb520a11'
            '76a3213f5d578118f30b2206985c15aa3cdbe901bae995743e480fdf27839c9e'
            '2b297583afa9bd5d123e578783826670df71d6b63f3119555ff3e02e1f2555b0'
            'c02cb8c80c0529550db3dbc0dbb3c580c629694c8adc9cefef99f200da494e16'
            'f1325ea831a373b7a860632b375d3c01dfbba5c0e7d42ba44e753b71ce98d880'
            '63e85504b038fa22e02feff55a82d53283056947262ae2bb1aec1553c22c58ac'
            '3cff909aa271e0c084737310d40b5f065f9d057d36af798166c9807c97412f73'
            '9fece5fd4665710b0520d0af794a2e7627781a12ee52dfa70abcd31a313d8067'
            '1a637fd1e06c2c3b17696fcd85e64a7a63729a972545c31f4fcc46877fb36a6c'
            '7725e001b4fd8a81375bef51963bda12e41620d214a52d4bf0f50e11a10c9380'
            '8836ecc9afa1945c0ba23d30532eed85b10f0e57e26aa7370b866d4714820c16'
            '3be0437a181c33bc20973915ad34a0f22d99bbb5d3b961d52d15403dae1610f0'
            'fe723140fdd25563d76eee23c83f19b1af66d4da5627a8713473c8e914467f52'
            'ce254742a27435a6d4874a85c9da0058474c78aa294a62e46290745158b79548'
            'fa01629e4bb45482751ec721f87bcdfe4a2a39f7cde937c2a0f0c41b5da1ed08'
            '779dfa9c1be83cc47127c1166791e10d47dd28305b47a2f35a872b7ad6e4b2ba'
            'a0440f6398ff25bcbca48d7813ace66b7c5e057c14d656f5610270bef820c78d'
            '98fe18d3e7ce37604b726737cf615c23a0d24cfd48c6b7e0b1e73e54da509cae'
            '89e17b4f10dba1ea80c2864b5c420ccf5252a2a7d532f69465d387be2cfc1925'
            '9eb7a3fc37ab482d72385e76b81ff26c9dbb200aaf3e531c6097b03a3c0f3cdc'
            '19bc52a2e75bdca16ce3053437296dc873650f3d21df8fc87d42f60c8015072f'
            '883382a11983f49c7e9775abb95f696f162aa3ab95d8dffda8324be878648e55'
            '49840dfc2f7d41182e116d384dc72489fbaa020a3a226abf33f74995182a2453'
            '1a3106b555116bf410398a4f9cce1c31366f49750b6e7b7e5d091abfa1053c59'
            '979ec797fc344e9e43b4d5a95b822a493097e171ce02964d7b230172317a08b2'
            'f2b7adf777bd5eedc99f41c488318a5401e6582b7d4d7840229cca9467bc880a'
            '6e8bde40131de0fd6318ae0a79bdf3ca020cab46f58b9b4bf404170dbe852322'
            '489974e3f87aaeade1237dc74b6b0f954e952206e23c64d8cd3b08a21b16de10'
            '8d4d6fce178a1705e02de913540f11668e1015204fefb79166ecbb8c75aa516e'
            '5bb621e3781840552c6a4cb2b3c63cc5b4b727816bdcf946370c25cc5c8e395c'
            'c17ef85734d930a786ff018ac3c1f938a1de81ecc9e9e00085da702396ef8ec7'
            'd6dfaf64a4eca522fe64bad6b6f789d054d8381995dfe81d9801507455d77cbc'
            '0d831a8ac7d4604bc3dcf8eb99aaf5e707bc7efc0cc655f507a61d5dc85705d3'
            '4d6a444c7c67927eae40fbc48309d8d122fa776e2e0d8926b3808af43eac9eab'
            'd3e026ff4260d305b587a9d3504cdf64f7eed73bf4a50e8eaab9f363b0149f17'
            '045ed70a79559db282adf67e2e440328ce453abdd70df0e532e3b2edfcb36141'
            '90f983067245ed751010eef5205550dafb56785363192829f5619362de79af52'
            '5e9358f9bd062ad1270cc1ee139f027aa58d72af7309e90c90fbbbeacb6a73a6'
            'dfabe4a0b133025404adce9edb0b9d6d405b1e1d830c8d90ca1fbdb15b24b139'
            '4eb9aadeeae28e56d5431daad5c83cf5ff8d3e351e0f5ec83d8edbb64f3113b4'
            '980abf59d2ca53809449f52fcc6786087ceb9e2bff2e0eca1670f95a40913a39'
            '61d8830e94917c4fa939d014c685441ec3ce4d65d458f4ec95d0e369961aa206'
            'd5bd5d8a06411a0c6e39f965ab16aa52239f7b5be596d0cb4982d0ca3fe9ddc7'
            'ee599f0169319a1403be10433b9a02415ee211e6be774fdb9e739ce4f35ca484'
            'c00382fdd700a8cdcb967bc7e2ccd4843dd6fa9a8fe774aa0008374158cd1f53'
            '890d07af2f122a7579a189019182cd3d602482b2a888e01c68557d5d88810623'
            '5bee7ef728d76e756f5cf9292abba3bc1de556d4fcf0192f92f7ab500461d1cc'
            'c456568e345785402ba94c661cbeabc83ea6a8f77418b13893e7b272a351dbc1'
            'ae2c232ae1ab433b48b719c0e76dcebf276c964e4799feb4b35092536e834ec4'
            '9393d6f5dd530a517cc48846eaa32a5723421657a12f87381b7ae0e8c5e03b99'
            'b86f103d909179d7e919e3d7eb01e43baf5d9ef3a0f77e8832047d8a54bb4553')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
