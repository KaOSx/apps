
pkgbase=thunderbird-i18n
pkgver=91.6.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('b778375e0ffcc90ef175ea04df4bb76a6ac9d8345d64c908cf9ef03baaf08105'
            '7506d69db3d4c8b494f2bbfc4d7b7592ecf4bcce29b92378932a1f20149ff729'
            'a623b4461124668af9c9542bde8147d49aa06b30b5f2437381f1666f1f4bfc2f'
            'b32b813bd36fb581bae1273f5be455b9837bb17626d2e11e81a860ab75aa7038'
            '48617d7852294850279e9fe4bd33971aaac89c1184760d09752e66936338252f'
            '0dcfe3d3fa35ceb82eea42cccb53a094beb6fcc473261e198f59c0b896320325'
            'a7e37979af725117b47531ef573cf3dcaa08be4e2fe333aa16700f42aff57dfc'
            'fe42f9297f6f41f216a0ad5285cf4b1e16dbdda28973e220c0893f67143f1db9'
            '8983b127df3e1a9b30230af22b6f58680e0fab0c2540ae5be70e0394a311cd7c'
            'd6834d758948fa13533b16bef3448a3d32d83bc94091e175eaab2c999095fcf5'
            'e271b0b69caee286b2490918b154506aa8a56e36e6fbf5b44ec381a6b371caa3'
            '971a7489b2c986530cfe58ab52ab3a622d849ceb1b936ec7eba3df767d5e0924'
            '9a5274208b053a849e0ffc326ea40da292a71dd2ebedd396692b1082b5515b2c'
            '9274c524d23841049b2442cadba231d800fb4ff4e8c2877da89083ceae77b2d6'
            '6db5cb3b502b2c7677d8a2ed3bafb37d93fe70ef660ee9ae1ab217111f98f3a4'
            '77d3aac4011093866bb860c0b96db37e1a1de591f0c9f1fb57201586f44bc146'
            '8034e5a2be29c1390e9fbf8da7e3953cc637bf4155e1f8376b48c4ce50a6aa3d'
            '69433e39466be249a1eaabf42d50a35bb9e3756bceae50884217d2b6d81e5e90'
            '5ca4df765ff57063ba2bfc0bf8026d6cf55aeceb6af3d74d14391badc20f4f92'
            'e39ac22f3b226a78437595a92ef16d13713afa8ec408c87b051b981b3a99f0d6'
            '5d54966c10badf560ba74f27eb935a3c5b77dfe78cee1a99b2cfb53fe1c76aca'
            'bd3058321374f59ccc7f22c0b449f80cb9348c0cdd95f4e2222fa4c80c31d006'
            '8fa998b95096c1849bcbeaa62f4e27e812e30dbb5664ed2b756a53f9c0bd3d14'
            '332c0482ec46eb42e1b3de3b0a39ffef90409902b7c8eea49c404d29924f8ece'
            'fedb151b944b5a47a83129554686c3b4780dcdb18d98cbc9d7db64f5c1640902'
            'c23539328d41f06f08e96384eb8cf4b44811af34fd11941357149fedfb70a82a'
            '75024414a562a84f53655ebbd2e2cb44753310d33f90554a809176e3eb7b39ad'
            '2427488eb896af3451d435778b737a28621c824980724ac4584e497f0350ba48'
            '95d7a1f606595058adefc72a26d00e04656ede40471af73b418706511086a13d'
            '551b2d2a19306ce72cc78cb0906831368bdba67a8dc4caadcb3598cff247c24b'
            '2bd85681ffb1236fbb44ad3c2cddc07df32d203df72e8686e303a091e057abb4'
            'c63ef1b7c98f50dd746ec10bba7099c2bd947eb5efb3f5135d56508fe3b28533'
            '167f924d63151d803c7dc982e0bf2eea46d10bab13af55af7291777039880c90'
            '6feccb4297c572d9ad74a2d46e86536ae9b8bbf2a407733eb57cc0f0f387b454'
            '20541a358259f68408709312afc68d130b158eafe144eadc380b71375c7b52c7'
            '8bccb2c46c527aae8e928d5bbf6dd6aaf92322ee2850c7c2d52be45f708ca42c'
            '946001e5cd167a1cf2119b7157ba42a0a86ff7161b9d8168c6bd0e318b529526'
            '7adda3c9eb33f052f0e3eea5ac89195ea90c64c47fd21e6175cb633e7d11772c'
            'ea699ad1dc3dfae112f8532797436a61c64c6d62c1c94e5c52098b9119b10b0d'
            '337a9d685e80b9143f183097a3a15d6a3d404e09cb6280cebcdd60b9eb90da13'
            'bbc21a6706d9498ddb5afcfea741b73cfe6401656d985dbc6c708d72a9f9dc29'
            'ba0cea891f9c858231f79441225bf83af8dd7a1490d64a18b6de2aba32f56e1b'
            '2b5f091120ed404f46f35a5348cd834b5b9e702c89a7fad87fa42b7fb2f4479d'
            'dd58d307901ebcd51926751652300b9357e26759db67f10f472d3f27e08de108'
            'd60c99a051b1ef24ce7ed7e42582d0a0eb8454e6a96828d28964e1cbccc9bb05'
            'dc55a6426f66e3f83564be2e7a84c774d2e5c2ed8bfc3811df6ec63bf008c6bd'
            '53c1d3acb2ce24055a8f70aae09cab5ac738d78e54c17c287ca8993de4320f25'
            '65e3ed1973daefd3e0dba3059c646aa4208d6b83dfa76cf4998bbb3250d5d07c'
            '43e3278541ceac2027d3def86e9d658d4d0fde1c1a1f53b19cf3854670bab0f1'
            '0882438058578548b8e457fd8951b1c77251c5ac02d9a5387f520ca35aa420d4'
            '49f88e10da930c44b6025cc0a96dceeda8fdbb53f1026a3cf4f1f78b4fc26456'
            '98eafc58fbd02ecdbd7676bf2df7dcda15ec7ede357e24890eeed9e421be9238'
            '4be493c219d4df2abde65e050c162f1442d2d03d46b3d39d01af0b8c6e9aaa39'
            'ea3deabff95cf6c9ffe36ff747ec5274cc7ac4dce81f643bf2b64b4795e16e79'
            '3620bca5b969c19cbb21e195e3c4766db27e95d1dcdf322ee53984ebbae1746e'
            '62e1e4394657c317a6d7f73d0785c965735d4e0230eb6cc82872b9b5256f0f85'
            'a6dd29b54dbd6450ace260a9ceda659e4f0afd2e6b8885fc04036d1b691cf9aa'
            '5a2967a87ee0306de0bc1174a49dec2b105e0e134233c6cc26e21d53666c780e'
            '6310e9f77224a48a8e13fa8ce431f017984762bda51a9026c38064040c53d8c9'
            '5dc3157bdf19e5f5bc9002daf6c249f15342629de47f6b4d03d5f980c040f606'
            '8a3b9bbe8942f4b66137fe855830ee413a2e29bcf3d1c0caa60359a9b010c16a'
            '8c6fd252865b9a1ed7f6794daa93b47b64f2200c1243f532e9137227fd190b20'
            'eeaabf2c2b9cc1f5fae341410fde2ca76bbe21c7cefcf90d8442773782ddfcad')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
