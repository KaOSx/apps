
pkgbase=thunderbird-i18n
pkgver=115.2.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('fda1ff40cb15f601fcc296c03bd962b04b5a1dfcdf0eb90cc4d142f73cc880ef'
            '76ae3a01eb3c994de01e7e04d59f53cf900126539ede1486c61d26052ca8c7c2'
            '5742dd35fb31822c3732eafa9bdb67d4c6fa4656440d776623d2a6c3ef858ea5'
            '26d70e8437cb3b454e1c747b3a044ad7b7c9dcf0042083ef25be0db1e6520102'
            'f0e9d16ac2d63aa22efc1baaeee3c56af8e0554a57ce13f5e2fb032d1ea8f9b4'
            '3573fb20129f65bdd4b728f61e1048f3f0bc57604d76dd1de8b9439d4141e1d8'
            '933515f4d364177b26e318cadea79bb645235049ed09921a69c64bc14081475a'
            '73c0961919a2ec157975ad0d7484459c9d0d627a5ac58c69a36a75a431c7db51'
            '114b2bac835344b77cfbf96e6feda21962a14cd73afb423fd2f893601c3728b9'
            '782d174b386d4836fc8495471acc88a314228a64972bbf73a809de97e32fcb54'
            '89e06172d00402a411f959c9c090e38dc9abe0ac16f287aa8eda1d27685d8b32'
            '0f3aa00330fdcf64ecf0b8b22ed50d2d8cec29ad4d8ef83a82dc701d000dacb3'
            'e1606cadd66376b90004fdfd7ce9514acf33a3a0749a8614c606abf12876e32a'
            '2850a36dc4bc116d5d89bb450a22b0fbe92286fa3d9241c7454d374f4ea3ac5f'
            'd9858d51611949345dceb269ada01b00cc32c333f5c09de2685b1995c9535721'
            '902171e3e52d491ca7bb962e7ff8020a4397b1e3ab16506d319f789d7d927cb3'
            '180e071e9d7cd54430f1159a70c4bf6477649a5060560a0831248212ab729997'
            'afa2cd53a99d23794f659d730bff388b20e1904061caf16c717c6600aa5ac582'
            '28ca6b1bc78fbbfaa9a041cb87592ce7b34487e28ca3750a0d0dfbf550c87913'
            'e0c450877cdf5676d52a82967e4d4ebed56d3bb968fd20d159a06aedf8c22fa0'
            '351e75d419a4475c6004e7f92c3b303941395a50bb413dec167f9587bc544600'
            '51d27b9ce6796744dc02115fd46808bff58aa127980ec648b29eaad525aa43e7'
            'fbe66c1e5bfc07993087abc483656797863483395c5f48855daffdd5e78113d8'
            '131d0e68352824ee93d86d54e79a68cf93e4f0450eca2eed58e87e9f1b110d80'
            '0975327fe042689ed89fc168a639b28fec508cefb0d54a260e031bf5e89739b3'
            'd8babb4056ee3fa23112337323bfa6cb92c70434bce23afa14638e1618b3c629'
            'a0d62014b7749e41e71cada647a929ca09c76e559114a8e7138a665268ce1c11'
            '98231c0e845e493488ef56ded2c40d796c95aeaaa95fa89f0e9c732a6a89574c'
            'c3aca0fc14d77149dc568fd6aa7c3b59b83235a7ae44b81bba883c1a1d37339d'
            '05ee3949c9db82a9efa5288ff181f98c01ade792ff4c2b267ec910fc4b1aed4d'
            '6734a7320c1bfd52f0abc0ef441691bcadd554a5b048ea3b9558afb8815e2eef'
            '2910c04750e7bbbcff5ff13e4d94009502302fd0cfcc3cab8e1900695cefe2d7'
            '9ffebbd90acb8937e1cf1f6253549eb02c6f512c868b992b625319b27e9ad0c3'
            '756d47304b0cfb94e0c57c844bbabfaea3c6719c556be5dce1909e9568b5f18b'
            'b91ed29d76933a7f9aff90c03b83a7824925fa40ff4cf2c853ac6de4ab18e0be'
            '2d5428f367b1a33eee3ffd0ea798dff0e3202377f3267902fe9f2da3be31d990'
            'ec52ae8592daa8854c269ad7540b0eb02feccc235341aa7519534b933973d402'
            'fc525097b789252badd9dd679226067ed043c763ce7dc9cfa670845049f1c21a'
            '467ec73306aa5d6109c91d11f13ba7cede06b575caae62508b309c6979910395'
            '6a6c895f2d0629e5c0958ce3843c48f81990cd57f81e601bfcd1052e5de5b2f0'
            '74e044304dde99b719e32394c9822e11850e9ba20eba305e530831e3bc2b2cc0'
            'ed009ef447adff7042ab3d25db271bc714fc6cdaf488e47a443c4261b5e9e700'
            '35c58229ad92e9bc69fac4ed83e2356fd4c749612433c5508626e84482068b1c'
            '79a169f46aa00c3a1471392aa5303f3b2a5d63b43b552fd7b95752193a8aa374'
            '393873afb8b0aaccc8924554e32dfdf5c77d6bd72c17038c1a56ac48add5e6dc'
            'fa6e88ea209f1c36ed52584d01e3575bf686c4a807dc4c284cac1d789238b721'
            '5f17c74fee469d1c4c5ca8fe547827f2310804a2acaf8b69e540ba17b082b317'
            '1a12ce775914b99a82ca72554a99748df4ff6ae0c368f02d3182e2a06be9c746'
            '91e439358e6615268bc2fe0ca486c44e0f4663834293241e5848fb79b7050fa0'
            '304f47b5c83b9b3e07d136d4aa68064e65053e70dc5998b168d25159167229e9'
            '02bf6c712a892c157f482836801cb9ae07115e341d8355706f153d5e95e49dfb'
            '5cb9e8978830c4fba1a9dc6c4c80c370857e338ce9ff7cad94014410ea927103'
            '2057184d3c436bfdf7b6049c107a754e86ad644a61cce5c1dab5f915b0817a6b'
            'f29b0f21f09726d967677ee231050d76e8869474c4271c9195c47601aad62f00'
            '0b5b63b752d5f75078f1bcd8a5da875efaf4114f50d7f174c70e1fc6114b0982'
            '8761baabfdebc619d86bd1d3c559971e41c9df31264f39c7dad949e3e1c07b5a'
            'f56761a347a112f50572ac7380bcfdf6d3dc668f61db8f303e3150ac2ec27805'
            'ed0211baa52813dbd195bb209fc20250a0fc9645e5f8e4c02a33b9cc7a3a0a38'
            '915b9bd9ba89719f492139f0bbf63798e964e2881f13b79c4a9636ab2244dca1'
            'e250fbe52280a96bccf67987bf3be0276f68fe1f7500677864f8c209cf44e34a'
            '74d9ba6afedd50b7eea0021aa6964c0d543211e13febd726a3df0e39cf3bd760'
            'c11ebc63499b1fc5694728bdb62ee0bb94cc0a1c841742b7c1a95a03914978ab'
            '1dd1be80a551be8e9c3a4f67d130f5433608813ac9aaa747529a3f64c39f7a02')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
