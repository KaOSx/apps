
pkgbase=thunderbird-i18n
pkgver=115.3.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('13f7c6e856f26d5f7d4a63df7248639ffec86ec40fd59b575de2c95730ae0977'
            '84eaba893759c87ff7f802dd1df93653e3907f777866c9c094b873c452f576ff'
            '6695e35e29320eb8e3f904c8842096b743a800f493f3c4f0072746bd6ff3de0d'
            'e313abd1242567780a7a246f0f84de1f7c84c3e8c109056282ccbae6401bc84b'
            '6f041b11e8fccf7ef691f7490a203373ffb4a5939f21a3a0188dcf9e632c5c14'
            'cba39b5c40da92c945d7ad806a080e4878dcaaf36fb8efd62ce4ed2324125e8d'
            '6b831251ce6182d6bbe69f1302ec595c95b72b6a32b1ad78389a669389272d64'
            'eb2ae5788eb65e340e996b2768c80706e30b438248e19038d7b4763f8175b420'
            '206191d02c1a0eb8880ea6741caa000e8e1c067921e5eda1421a8a8902deddef'
            'f8268eb1a76be27442197b1176bf7b1babea1dee7771c0619ef9cf7e1448e5e0'
            '55eb5bc58fbfb3e4dc18f0dd11db5392e9b65cdb3b627eb284b6ac1afceaf494'
            'dbf2f2aa85b64121756e5da67303d3a9aea7733c5f4c38c39b6d700ad4364ce4'
            'a4f9e3f5136dcaf03bf6774e500174ac7b7d6a85d0be35c9aaf83a81f00b5d13'
            '62b74df7e95f6f09e3e5cd0a89a38349dd55fa002fc89d6b89bfa8e919db45fe'
            '35df538b413c165a754d678b1a9061c453efacefbbe6ff818ae9a0a71142699d'
            'cbbcea3bbfeca1d0849f099221a8a3a0ac6c00de0876aeb6ae2590ce3ef19925'
            'af6524f72a5a26d3966c8c405d28e5186bbe1a772a7ca7e481f44a61ae633ab1'
            '01dff35ee9fb0c1375bf547f8ffad33ab459dfa799d8357c9359ad1e91e40235'
            '21c17fd63cc64e79aa41fd31efc0be0ce7548d3aa92d5aceea2a1b17b10af8b4'
            'c3bbc370b9d0e793e9a71d6d2ff366c624b1bb61f8c5b76db58ae1db6b0f7b7e'
            '82aa35eb69ec8f163a2e86d72f7d22eceebd9fac1794ecce0c802b894ac3cdc5'
            'e29d6c907a68cb314265351f11fe253a3be483becb06d5a0ad62cfa825a4e882'
            '29ff545e2f4203dd1229edff93543189d42dd899b06358b071754e4226b751c9'
            '10bf5b79bd9aaf7cdb465e9020eaab633ee4fa9a5c60824111add6b0054e7e86'
            '49c183686d6f1fbc8e4351a6b6fdc6bdffa8780d503cb550f2b8c82eaea87899'
            '6ab65d6e15084c4ee05a2a03e467337bec3b6bd617a54510870fc47949331329'
            'd87eda8ffae78f15b9e5a026306bed30ba86eb61af1a9ecd58d5a4a5bbcd75ca'
            '75b7207505008e975a50628ebd081d2aa3909aad0579d0c4b7396b060d19befc'
            '759231297b06564bde249f70f19362fe4971f79038b583ac5fe4c66debaa86d0'
            '0ed60f0ca256e8b54ab24cdfad32cdb20685191e734c8b2df8683813d91ef428'
            'b6e4bdeb462519f864fd7075bc503030b848fadc353a255ad9e700cff8bbf5ff'
            'aff5622ed457893d17d6ff6d36211456e4e08777987067a73ef725bb2c44f07f'
            'd117c1f0e3cbbc516693f2a283752a7f284cf9da674b5315fb7e904379e3d8c1'
            '6e909b77ff9bd90971c5b53928367b5b5e07d6c51968a19fffa1318423629e72'
            '39eaa89d064e5b03e2390f37c64416581bb74cc43bd2b5efbc6786e1c5124a28'
            'a40a848c2a209716785faeb48daa644c00df87bd6addfca32a7dd9179e160111'
            '2787ba97de3d9d1926addf80ecedce80da1474b852b23c727dc6893c22da5213'
            'f7f7923f2ba2bbdd0125cf00e7e9381e69cbc08fc553dbd7176e1bb2102ded36'
            '3d5059d8929f19d6b91bcaafa842e707bfb323c1b0e1fb9427b371a75f2e0332'
            '113e5fcc03d8ae78b81af54d9dc1175156c2fcef3220aac41d7dceab933dffb2'
            '6f793dc0c4fbda8b04e3024984b92754edeb5dde0a9dba45a00d201c25f5ff73'
            'af9e6159bdb9f80118823af93248b20db451782a5460320220e590687e910159'
            'ca3aaf0bfa293eb62a59b251539c902be20fac532f13039aa0058594c6a019e2'
            '43a6f7ffc2c9f8d1d416e89b90a0850864faba3ae99a0099f76bf1f27fb9af39'
            '4c94e78954342f671c726f35d060202ddaf51f5cf5953626449b47d39246caea'
            'abe0389fa0ec8f46b667c244a2a311b3c46c54fc10280f547247ad294549ecbd'
            'ed5716300244cde17dce02d4f2167e1be3391a8cd1f806580fc6cb912134b838'
            'bd3eb8bdfdf245e06188f060ad7637b573b30e615c4b6947195b371b55d6cf92'
            'fb249ab6c31b6c02f0b5e38a7c3ac9bfb08a43202cda1e1d1cc4e4d3a825f341'
            '0c7cf0c3a740843d33b957c3bf9f42bd4d6026bf2515670fad2240e4490d0e10'
            '21120f35f9cd3d81365e5823a521151d769c889b8f8c77423fa59aeb10704a4b'
            'b2c304650106da5788daff34eee6ebee3b3e408fdde6c6d75b70d536ac2c5b46'
            'd5f8b7a414c1f2a209540c0b4bc22be5bc7542d7f2d7b44d739ee15eb11485af'
            '9a362aa287e60cf0c4860ca07199d7564a5db9f65e1c4aeb93b9a6a890c9afec'
            'ed20cae733e6f1fcc574ad1fd059f4e82d5b25d4b76d488da461970c77a5b11d'
            '97059b8f0fc97f0b5e3d3004403646f368a0feb5e829dbd63d9f9c4cc1f9e97c'
            'aeb2b9ef8b01cc6696193336364242b8525737d8b9a990038fd4ca254acba927'
            'a039c8c247f2f4b7f03991c8142c64a23e80ea48bf60bbf782cb1cd6287e6848'
            '2306649ebbb84cc9618091cf06d5e2445ad481c63017e002db56701f66c6b296'
            'b6c9558b3cef1209a20887a457c3beb114080d48de11a659a6f438b9159ce85f'
            'f580086fe2c47c9db88d38d181d53aa6c4507601c04a94c8b1d5dacb6e0b7c5d'
            'e4d040a1c6da47806509bce1b3c21e5905089f64a575fda81ab38732e03d21f8'
            '60c6ade82d19e3c30e8066b143be1b8522c1b6b54e94d805f23b885f43278303')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
