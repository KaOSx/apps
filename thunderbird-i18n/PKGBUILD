
pkgbase=thunderbird-i18n
pkgver=78.1.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('dbe1f10ac4b029aa557c1d17d6e18d443b69819d10b4904a292219aae777987b'
            '46c253517c200fce82a39aebec8332f762152e196d2917221799453b47ced4c5'
            'f82f02ed7ccc1b31eff2b6a169adb9260ba44143e8d9d5530ee143295f66d728'
            '441261788720f6662c1912de4c05a23c0c6925e6da5f367bcda9e637574c8c82'
            'dc9c9e6dd0fa6748cbb9a39f28bbb52e4f18331b25df7c6f2bf5d25fa0fb911c'
            '6631a4b385e66b3eaf4620a7e124e6d18a2085a2f7ed4030d6fa14908ef908ac'
            'e4b382b4a88030a46519dca8907888e5bde518575ad95c751090c6c1974ed0a0'
            'c51ca738c145ee123e150228dbd43881ac1db0d41e07993621798b8e1466887d'
            '041fbecedf2e23fc225b517249915af0d0d59cae0ef1596a5224af85723aafd4'
            '30cb15044956f9705e88ad77a09b4c8048fe21b0cfbb3a7df453f1fb63bfbe45'
            'a768d5553d9990a71cc9d70aba804ad76008271276a22c1b33e0cb544598018d'
            'f0bcb8bd89ac26dd22550c98e69776a439877827f30bfec23fd331fe61d97225'
            '9c205b07a42d7382e420dc7745fe493c8a31a0400a84de4805170b0ac5fd03c0'
            '1636f07252466cef5dfffeb0345d4110b2eebb613a79d78ea8edf279dda40799'
            'f63cbb03ae5ae7c80c302f06f0f77de8e4813c19d3f183c1bc7f9ee117c4faab'
            'c0f80fe18470ce67d82164b8d003ad59aeeba6e8ff763e4995ab50735ad87747'
            '0b40c90b8e8bf03f776fb5b9a5a709404af985157a95db3449e0807b47a89aee'
            'fb352c3de9c83a7c6732fbf2bdd19af34ddcc48c37974a3f53a132dfafc422c7'
            'f5110e6de43e4c53f182892de5f58bf0d7552e4d4876b54acf8a99097a193e5d'
            '106a346cfd1294d0296433cbee792022fd4fdd83244b52919e4005c84a3cf1e5'
            '54b665c6653fafe54c048697fdaf1f0e7baa3054f002d60e6b6f2652c63629f4'
            'dc1ef5378031afef72fc81df1761a987f7764d2ea4d30ba6996aa4731243ba38'
            '8ede94e610bbab407b58c7061bb31f938b01335fde171c1330dc1e16b830156b'
            'f40d95ab1f4ec3a23d274c279cc73833efa19fa61b3251d6b4cf45870f63ac0e'
            '90c5eded53cdd18d37bbae67371f470dc33a09cc5a111fd3099259152f515083'
            '5b3ed76ecb5bc543b6f22338fcafb2c539006e1f6c6f3c3a070e5bc43c1badf1'
            '23172a1043929086b6e0fb2a479998d29ad9280ed03b746a6838e867cb92bbf9'
            '3fcc619d48bd0e779e7289c73061727bf0fc8040d3c152678701e6a770f54933'
            'fd48588d35afd61bd3de3b36a141afe80cf0f9878ce4afbae1ab79c0e3b9be31'
            '5df764346aad1f234e0b209a6399e035ccb40e771304e1a0d683a2c9b3dcf482'
            '54694835f1693fa7c4bedc4c3df635378d1df55455e97c986312e6f891e4dba3'
            '5634ecf29b65ef2a2461829fa707fc7af2ca963b7443455a6998597d86c74641'
            '6d6d9f3d1b1232a3126da658021812b3ad75a83d95a2c38231586369bb34fda4'
            '12b39fb2174baaba30228e01ae6cd7905a86d7df95f8db172c2e87dfaa0386e9'
            'd6dd5c123f96590329fbd363f26b03c5d66ebf271f39a22149890375dbc577fb'
            '9b881b382f92de559d801123dd9b467581f8640af825f700d58167b247e4fffb'
            'b6b69e6c1f313beb8e9e1a2a8114549c0687e01fc7f5978755fe5e563844966a'
            '567f9eab5336cb571bd0295c014ba6f9e873420495c6aa429927b7c7e3876746'
            '3179a468e7d07b44db520785ab940c28240a7d0b6a66904f532a54cb4a131406'
            'fd37b6c1e84aab043429ad9d9bef92c40884959bffe1d9ffab35b34328a4b6d0'
            '90658795f01ba19a413c4239a9b80fc7c36e309b4fa942da7971704a99b8067c'
            '57ffb09e64e8ec897b011b20233b1c3b7d5ce5d57ed884c9a9c1a6d76a0ea4ac'
            '4a4a6e40509ac2141719a2be43c06801f0bb96b6ea5d074aa19ead01f594b2ad'
            'f913a8a80011f2685767c9005afaa061312a982ba50727604167290d108183ba'
            '0b3a98b644ce8a9cf8eca2d9302b7bae450e4e6055811365db6a23d1cbb38997'
            '37bde274d8ca24c3133f1953e585f837034e7102d2206a14bb27a20a2fa2bcab'
            '96b33f9c20b80c75768ccd5d694a9b9f55b6ca1c926c679541d2eec1ab42f1eb'
            '001edbd66cbc99ec483ec997f4ae0f24c2e57c3d6debc4bd0b4d6cf225ff5e08'
            '6913308ed05955a3de2e4d62a37b7c8311620510449e4d5608a360b93fb5fa5c'
            'c81219830c2689db23d629d6cb5326c304e896bc9139d98f18a31ed5837fa508'
            'c67275204c966a3ca7d9c104b3b0d95dd66623825331323e4c66200d88662a07'
            '07ad29a7ecb2e75fb5b1fa4bbe929aba4e4a331dd4a3dac24e7245ec46d9109a')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
