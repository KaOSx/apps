
pkgbase=thunderbird-i18n
pkgver=91.6.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('8e37175084dbeecb257dd3c4644408972318484c38620f9750c0b1249e8f23f5'
            '5515dc13b0633ef6b107d601f3680d55b4aa4db34a4d220107894d66032cc25c'
            '642acd28ca71362c172391385fc5570f89dd6c065b9780a1c363e1bc36212b14'
            '7444120f6f3490549af409b32f84fecefccd8297d318ff77a983459cde098557'
            'eea0d4d0a657d2a067ca6698f05a1baabe2940f069188693f7e842ff557cbfb4'
            'e3ab37806b53f4a23a04411490c14355e5b44e8682c711edf3cfff548f3e520b'
            'c94ab87d0f8a3babc037e97f755eefdd022f19f7412fa582636d4bc1c97b01ca'
            '1df2c637b6cc0609d69329a37c7578980a367bf491fe1cfb0b25d91e64e5152f'
            '0a055cb25341523bda7707ebc1e511039ccfb787cddc17fe13b3866c534ff33e'
            '0c9b48fea622889021a94d9aa9491cc741277bd348b8daf2d072b3bbb6d51793'
            '05bf67f6dc7afa45d839a66ad8e396c1accefee569baa988ee6541d604e41de3'
            'a9c73d26b2bdfec93b371b43b282c62d0e0daa13fcb00d1e41633719378b818d'
            'f6640d5b15ad12ef632ee5cc91c9f0e77276eceb0055446430920c3a0432357b'
            'fae65958e64c2b64055d437ca6695bdef913dbcfb8fee76f6abced66db45e722'
            '3de196408b81137e00872090d8eb46536981b0d790219e5a8e63970c96794513'
            '4cad4d9b314b75218ca9fe0082a0e5eb0b0dd1919f0f54a1174ebcf08c51a23c'
            'ae6de83d7265b0c1c9117ea0082bb5ccbc853dbc753f6a51372c8bc00d07cf50'
            '16599b2dc3c3a7a7555b5626f7e78d371189a4c57d6ef75b7cec10c51729a656'
            'ecb5d4252b35547ebb32f49306b87aa9ee037ddde7f2618a143b2fdfc75957f7'
            '5f2847c571d84664416eaf551c78540df323ad39f25425291676e943d5e42dda'
            '06756eeedcf50525ac54fefc87b63cdc17d50c44f1407c413362d9fc58210913'
            '56f34f15cdc23f53efd9599cf7734d2679d8dba1c9a6e69a63a928613d63e249'
            'a24f956dbffa12d1a872c24dad6ac840f1e95cd023da628b4d8022530a6aa451'
            '9f1836cf599bf836ece91edd0874cf147fce03fd4b98fda58605b6937ebba942'
            'ae3466526f2f901a464af26da03d1fe6976946014fc344d0bb8e930a984d3314'
            '02a3566ceaec92b8e6e90d05394b4ef7620064b0b2239523a4ad1c33ff2ed9e4'
            'daeb7c55cb12555b147317fdd5113a06fbd96352b889b1504b9a0fc297b3d990'
            '339b4a9c56ccf3fa721ab98433da8f5eb3aa9ddaed3d665a4ef1131353aa9c04'
            '999315fa243d9f4def3a3119d5b71e460833ad142d9f1d8f5eb9db29e8417836'
            'ce4a3bddd736d52ec312e6fe9d2d504e32eb1a2e424f0c69f1323b5e5156f6c2'
            '99d0e3970df552f675d7e7cc7a12a098498c1d1d3c83756eddac69262ac6ae90'
            '8279d564d16df81593ffe1484005d04fc2f08d2198dc8a3c8cf89c5e7c9cd3dc'
            '6cb6add31141c9abba0ab57b82cbdd4857b8b0275c8ff9c5e4e91c534727424b'
            '72edeb156e5d3ef47988b4b2ade9283b081eb9a4d6210f6afdbec8937dda93c7'
            '052e9f49b46ef1feb78f6a590dac585447b8bdf42122a1245d58f4a1911ea67b'
            'c64273a47c7bc77379badc9f2534b25a273cd6fe5e2ae4bc68af206d259e7894'
            '0306aa096ba1dff4610eec45c11e8022c7002e45ce2d385b627095095f0a0e81'
            '8badab30631c53a3c995593b49331d45d1b5944c0cc23d5344114a2b81d9cd3c'
            '49551cef9b406a265e7ff19ebbbba79e57953102ec246026a68cedc7b9eac164'
            '9f975ec6ec679cea50913722613a6988bd44915dcd40ba67193754c7084cf32a'
            'c5d08e5c120bb24faf46f9a073e227cba5a2c2ba8563b5b50e194a3aaca38b9f'
            '527f12023c6323ab93f76b75de105406287ba5bb8c4d68c7fe5d98eabcb2dbf2'
            '8c1087b76740c6ce161cdd1edc862f1dfee9c1904ea5d9a8470f92e9a633f0c5'
            '5a645ad4a2eb68ec26a58e44c6b082ab766e40f143529218f424585d05ee09dc'
            'ad013ca35b001a231beef63b988c3884728d34588cb082dabf267040960f7a2b'
            'da82be8529649792178837235fafb158d4edad5ef1956bfb7b221bc170087f40'
            'c683aee01145edf9b3ce48f8c3e381a8b9d436c5a1d7fdfcb949bfc8b901f2ac'
            'a77684e39138b46d848f23d912650eeab42ed2780a3fa5432249bc6150bfef76'
            '38090cf533190c325d5eca00f7c90e7c92696aa9767093ba0d3ac17841870d6c'
            'f43aa9976994c8f1c551fb9afea9e12a21595a1bea58083c2285ec85fac6a807'
            'f1bdfe7fbaab473f13ddd6eb4895b907f5f8e8b00bf31f19f51eccec8d46953a'
            '63570317313ef8c34af1316686ef1ed8320e2d3943e1de4e29c3c7fa2453d758'
            '58d48826df55570ab53f5c4631da8febc9c927eb6c7e74a1f56f40e2db0b96c4'
            '1f28ed5b76e2cb01f60eca2981f3961eb806fa452f417dcc9ee9f73f41c9efbd'
            '1bf1dc8719a26d7ffbcf94cfe38a304f898f443ff0431549d5690b91306e993c'
            '050ece1d76d758926d5c19ef4674bb719b8a1aeb79dece2c9706b1b80955b295'
            '77f767c41c68df9e20e899a5d3ce40ce237ca07afcf26b6b28f62e6841fb3ff0'
            '4addfc4717fd9c5737c78e7ddb1840f8d54b6de2deb62bb2aa9389b5b537d12f'
            '651e5d35cdc61ed210034fe5a6ffd1158d16386b6180810208449af933239b03'
            '7afdb696eaeb4a7d3692f348c4b3e749e7f685b122707259363f127f45804544'
            '72afe96c2e5e56cd2cccffcf8d72ace256633db3d00baf99eae9335ae639e1da'
            'c6a50d2fedfcf281db448795bedd5215af50506be31049c4e59a5b4c850448f7'
            '2e85766ed5e64c1a33128c2988c29e28c4dc235b178d702b3c532a1fa2e00061')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
