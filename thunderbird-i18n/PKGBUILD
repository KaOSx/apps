
pkgbase=thunderbird-i18n
pkgver=102.10.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('5057ad2542c47f0265fb2bae686ec9f64a157ecd590cae6d172b0f1459e61def'
            'dea764ae51459efc43daffa22237e66fc16dc285324aeab7cda308fa94e99674'
            '73c904e791a8a8a69ecfd51a45eb2d3b1574cee8990c7133d769bc1b2079c945'
            'b1ff6348f7f52223e530299bab6c3755b2f153955ce480b98dda980d86c27728'
            'a8152baac0096d309525bf3a28496fe2f815ce666a75d487e47787b18d7b353a'
            'f26c2d3e975746f78717309390e9e0670e25db6fd918556fa2a7f2b818ec9d85'
            '8c6bfdc11b6e4de562de333e665703712f964dbdd3a4f29c6b95426d314816a3'
            '7bc475cbe4ecc8e494e1657405d2d6c80fb80dd1cc3e32efdaa7700eee9f4e5a'
            '58da516e7c048054da633a64230000d59cd379e938487e3f8151521ca9a34bab'
            '56876227956832e49163fbdf55a84f9b36d1de207d762f0922110385fce3e73a'
            '4c6dc9b217272c5c3f46ada8784110f8be458b3822d91d8cec585843d77a4cc5'
            '185ed80656d770ca9ee6c33d1eb5834c24cfe4b79e7d7f1dc9adbf52c23b91be'
            '5c43c5add42fd9728b60b7cc34419372af54ffdc44621651e9e018375f9831c7'
            'd8d783962c05ffe47cd515b9006da4c4474a283d1409c93a346a2ab0ee062030'
            '6ef660dff47008dab46bdff02e0efe8d370d9a8e0f0ea4eb5e4cc224c57d8bfc'
            'd558b0d1829bf3d8777c84bd983c0bb0658f8043866a98f5021e8642a64f6302'
            '88d221597aba787a676fca88488324880f4a37cc678a58b65fe2e73f7b793104'
            '29a32a863ba6adc81c3edbffebbf67deee84088fde5ac905d34cd5fc049a3b81'
            '7e54ba29348503d9c3d6276ddc8f6b14c9e31e869cf52f3ca9941e62f3714078'
            '0634fd4229732d98cf744a456f566e3d785e8fbb486598f0b5371db44ef5c64a'
            '781bbf4b2f4693f2817a01837593c34fa4e3facca8762066df8e60c974cdccad'
            '7a8abe8ca4d30452b887d8fc57f70622fc70b4248dde33f6cf9441548ea66a35'
            '7c41593473d15e115c7604de711948abb38ff278fde34289c2cc8862baaf81cb'
            '1b260114e03905f8b7d7fae0850eca0761634e6b00eab56e1cce9c7edc1ce6b7'
            '666dc770a1a0bffd0fb4baa5a91a6e4a4f0c29a9de1d66f0e1af2533f06d0ccb'
            'a1bfc76c26608796638a6659708736fa7f7805d05e98f01cb7d8f594ffa73d65'
            'da1f95fd025294d77381d3045dec2b98ae8e8180afee1dcd9f90b186120ebb6d'
            'a089033bee636cb4d2b09e2fe68c87152041e0180b907d47a76cc64e8e0584bd'
            '2f857709a97bf755128c4bf6f7225440f3051e7d69687b34148d01948004d1c4'
            '78a172639ba7347975256d9f30e3d71f14f2faec21c3cfe4741acf60e9bd01d3'
            '55da1c778ac8e635b1ab3063827e968ef54f3620182076c82e372ccdb0b95370'
            'c3ff202504e3e747d4951b02c655ef632f2844b934997434c426e8c4341410e3'
            'e0fb2ec6a26660fc053c5f2bb4e8178ff1825018ae76ce3aaabd62ffec19ae4e'
            '38c796e2a40a9e836486100ab3b33ba3e223602927c9ce88fed505fe227e3643'
            '3cdb8e561729f71f5e3089c16b3e9c8e5344d5af0aa133e05ae4d8a45719533c'
            '6adc31723a23191bb960a318fa0ae87aff8407d99d0dbb9780acdabd02a87de4'
            '0ab56f7282388c66ab03a66208046d4a4a8297f74f5d00657c326b10dc3fc8a5'
            '63a02b50e5d6e0d5c8c30806b08375e6535efd64cde17e484452ca5f5b1bbf25'
            '96a6cef53e47af87adacb8fc3a910c246855a364d75b8a1c1ad4debfd9072a15'
            'aa4dd9fa9a9c45d625fd90687c51d872821602339e88b8888908b1710ec446f6'
            '7bfc46cb924345602464bd4e67a00c63649834df5c9cfef188ee030de443879e'
            'bcc4b92d639229222c46936844099631f68f6bd0082ec93673eb8f28da35e73a'
            'bc2816a7aa473ed8bdc7a8bb1eb7c9b68ba71f1358336d1a6d4a07585fb56296'
            '0630f878c36c5f415b037083d20dc1ed1067ee3b388f7cffd952688ab8a84940'
            '5f31d53570585b9826eb1995e32109108cf706ef43639a85e7f5d4510dbda842'
            '82b7daa00e2ec6d9b6ec87eb5fb2f3f14a7762cfcfc85ac8f2ba88570e3a4339'
            'e66a39a57f01b807a308bec2b11dde02d02fce75bced478045c1e3bee4d1246c'
            '3811d60fe7cc4d1f2abf939bbe5fb2a83b81621cc7848be7a5eb968e821b6502'
            '40f8bb5f10499c66caf30bd2943b46970fc777f512488034d940cf4d8c310dcc'
            'ac3394832f33c73e20d6919865d20d0b85f60acbe2ae8de320bbd272dd05c949'
            'c9bea6a16033821aecc6e3caf9b45144e27e658d51a21e2c0db4750f76d577be'
            '0f71a41a8c860ad5b2b9ec93d8fae8f7dac56585e4c669918f3a805b23fbc388'
            '694618f1e255f0ed00fe50d41c61bbdf7dbe2cdde573cd44a97bd29f48e0bfe1'
            'e5d069eeb5dd880bfe2c976bad039aabc5022b2b3b9d0b3a39848362f0b50c52'
            '9adb233aef358fbdb8b39d11ab994c33755c1e0896ca4585326988cda9ffab58'
            'cc652393837df756c60284a7a05b4a8bd9b0a3153c9df4b6bd734c85160806ba'
            '5867d16320a3f068d7411dd9ed5aa819ab79c200a20dfc36199b935a76eb7076'
            '4f03d3c6db0dc6c25b681eef01deee782d7717b1479f714b1843ba8711ad9882'
            'cb271bd3b6cfe7f693afd19c2dacd04acee215a314bdb95571db1bf45341251b'
            '6e55fad6140f72d626ccf44a02dd756370d443907d1ea50fb780604024327ed3'
            '2f78137af493828ae3e70f4086fa6bb2febd17d33d016e35b35787188f89ad99'
            '6e22799eea7e8e7303fce19709f7423ea876d405dc0d0fb4d824b54c1f56862e'
            '6dbeefd4173ca1a5483fe23d4ce5107a583b9bdc2f9c07122504a1bd0c062102')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
