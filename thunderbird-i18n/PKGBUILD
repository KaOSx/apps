
pkgbase=thunderbird-i18n
pkgver=128.2.2
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('2ed65af8644f3f708dfe5d866c4cf11d77b445719b6848fa4c6999b880114c45'
            '0c27270cd145c33213a11cf6c6d2fd389770f4b40bdd945c37c1f90791343f36'
            '3658b6ab1bf2fb364be878346157a20b82175e4d4e02528fd73ccdede75bab9d'
            'eaf6a57409d526e59e2af3d48c4bbfaeba0b0f5bc898029e7420987749af11f8'
            'c500d63c9623c875576dbcc7f417d84e9d7f50598e5503c0dbb4ac3d129ac5bf'
            'b3807dc9c5112aaeb71969403064d1a712c58b77f12f7edb8b4d15518ecbac0e'
            'e64bbe7085eb4e77e719223303626ba0f304ddbbfdaa0545d497fa66e61b61d1'
            'd6b6b64c55d2b0bc0a494af7e39d8e4a98ac98b6be8b1bdc1c755d334c3933da'
            'c7c14a4e08d8a74ec9360740fa8b68fa8ddcbd022dd1fd079bef085d09d80064'
            '7d306abcaed46a67376f463c18dd81958aa639e910f13fd854d929225e69ebc2'
            '3598420c7b629e462ca75238dc780c7de0c838e1df7feb48102cdff9731bb635'
            '83841c6b57d1488bcc93925b9696e771950b68e398fa8000a55e79c698f7b119'
            '34810ec30da668b161aaab771f657528f5283ca8da82ff64ce2f5f016d94710c'
            '5dca8c85d40bf57d9808ce469708a692fbd52d05e3708f296759da84d00b3f7f'
            'a08809fb043ab068d0bb0ef3b58a4f8d7bfce4f57eb446b3d05de1aa51cb0918'
            'a5963b50575e21ed8591906bd81ab944a9ff5e342690e712bc39652308a78302'
            '2b06069c9a4acb7add22877d82616a3b6cf46158178cf73c42d4c479b971691f'
            '767c6726dda57448ef6bef45923e8a9fac1617810adff04cf179ddcf6a05a471'
            '01eba5aacb8ab321c728f17b914c5cbba060db95b8c637089284d4011cd9529a'
            'bda204b78519e5145fcd8561a31ab8aa6ef6c56a1afcf25cfbcbc5eceed3515f'
            '1a36de452232829f535ee2622c91455dae47dab720ea90741fcba290f3f05b0a'
            '8a0173069e63d8011ea477a433d3ae4a8749a097ff0b541110f95dc5a4252150'
            '1d4c39e7bb43d3f0ff54810da2d2cba0696909c3933701b98ecba19b588d01b7'
            '9235088f06c1952b582c20206b283e93f9b8a999703cc414d0e7b818dad273cd'
            'a52bc7499701bd8759b93ad66ab0abe6759c05a1483242f0559e65df4fec9bf2'
            '65f3bef3027d75b04e2629f13b84fcb6c8382da7f7a603e67be3215b09ea6dc1'
            'c6033cc9fc5d999f6cbd18ad6487ab2cbfb5cde3b245d344595b9c68fed169f9'
            'a859d626e96d599e24448b8abd8fc3895b6f50efe7525ea82429a663ffc855d1'
            'e6d244c0b59f05347826ac0ca191b5c975949351b51a533aee9e82ad3e86b8e0'
            '4dc06459dd76deb5f307d2a9d3bc468822d1ef2cc7b9e2d382aed16fa84ac233'
            '8f3acf60a0b01247e27653648fa40dbe5444f52c9a05197b0216d5d37a06c668'
            '59a716b3bdd6a0349d637d4591fdd91c556599efa31052373d563e8175db6c08'
            '48aa96236010ff9cf6de36550d62140cb19b8b2125c642f9f4345b4dab0ff980'
            '2cb085861e4df2ac41bfc9f79262e3a0abfb4dabcbd958fecc4b6e013274a1db'
            '7043b4c96c15a46f927de4d8e5729a13b7fcdd92a9c4392f8a93353d95542f6e'
            '75fb59ba66f62ca7e8a01bc39d7faf1cae306683696b6b5e5729b5ad384edef9'
            '0be68567dde9c6cc4fd93690ce6c61f8975a6b6f32ad4ed42370926e06458944'
            'f2b0cc94d9e7d80f16f72984324792c82b5c89d11eacb976aa6e162e4a21c767'
            '876784702476fd81254972354f67fd03c28550ea042edf82dc101bfed8f3852a'
            '8b81a419de18a9a352ea33819235cf75c6d9a9881d92269d54bbb45b7ab15d4d'
            '32cc6ca813b9dba4659dc8779c25905bd1e584fbdce9635a5d0cceed38706376'
            '39bcccdefcd1a1e8fdfc1f1326956551a8b7cb566ca59c72a68c12e0468e3b1c'
            '523269e1c76fe225031c4ac6fc43191e6caa1ebbb1ea82c6519b6e757ac7e287'
            '3baa862c81db70fa58b73f7d0d5dc19b1eedde76540dac180c05f0f1cf08ce52'
            '456d65efe33c89ea5d56751a923695d4da6f6a90edbc53f3e221df134f3f19c1'
            'c08cccb2f0012b85395752867449189b8c9ffa5dcd49bb48864218487e24cc47'
            '04fc44442dd1fb5b8078552a7317471fe42338c4cd16cf7ca245f59a73b49649'
            'e972f4b526c8c9797d33b9102b30bd2545ff551f4fb986e26518c5fec4a0c64e'
            'f46ae2fdf9456f991f5c378e7b42ee78c956569d0365d6ea90608d3047465ef7'
            '8c6b6d93f7c721b231a805e080f35ad6d80f8fe3e917c99ea912b96b45036a1f'
            'f9b1183904c1ace5f606f546b3dc68c8003214fba2182ff0d5cf18f805b8fd90'
            '53a99c0c4ba6e51d3fc457ae24c27a08e88f2c4033c7e70f231b92c04712a45e'
            '5e0fdee1bf23ef8e8e070fae8556dec9e0e939bc666e10499ef0c65994ff1632'
            '1e24bf077ab0c63a58b5c7b669f769f819612e997c03f943656010d03ab1d972'
            '868efbc7144a1762fcf73f6d8ac285d7ee4cf291d4e1bfef1ce6487b2ca5673b'
            'e6961189611c7035bc7c3103e8dec7db60f3b0ce327da196e84592604ac3b258'
            '7c149a8c07c9272945875a12f8f47d97e78d6a5ac0293185510a5b84ffbf9b31'
            'f440090d5c84ab0f167622d972f06af1c1788a6ff08877da641025d5ea839916'
            '13c14a505a392bea39c6f945393ba69b6ee94017b103857d9bfa597647ac2ba3'
            '60c73fcef7fb06e67c98fd75c8060a1ea113de66144ac9da8ba365ff8d1b1f25'
            '9a07aaa7be5d982f4ee8a080a5d3eb4545ed60bd758f9e3bf207854d22115775'
            'dcaba89b68627f847df966e0e4ef7a9d103cb4dc12a2a07db20331fdc9ee4450'
            '99e453f2abc057ca7d60a55a98287084930233d212cd8a83613cdf4412657630')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}esr/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
