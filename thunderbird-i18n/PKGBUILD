
pkgbase=thunderbird-i18n
pkgver=78.2.2
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('8787367ef3f1e18d2237c91ab5ee485f12df1d4fd1fdf818c3231e001aa26a50'
            '946f02c2b63238209c544e87bb7c6571c5ede88f69c97d08bbb2e157ec7b0673'
            '5d08a87201b08a66011c35aa7c76370c8b168db7ddcb63400be4b3996ec9a1e7'
            '748543ba90f11ed356ab87120eea91e2988e2bc5f6366313a483d44069b523e8'
            '55e458f33f1490beda34de9d477a826ec3f472de2070aa4a21dd1a9e07119e05'
            '561092d2d3f9b36d3d7a09c639f8e5e886857a66ff0fc2c94787c264bde26c27'
            '104508f3b1de6bcf9cbcd5fd3038382fc92aeecb9a233de9fdace6a3cebbf226'
            'fdbefdf4c11a606b021d84093faf76e978fb9ccb48193ed53a84890fe449dc00'
            'f14f2b59a2382b78c7121e35b6f5e3792f12f3d8508eb4c6998b81de9a999333'
            '31dd628f2475761cc1716fe4f8f10b4a5a1e570433433156732818fd35a8da74'
            'b7ca73a0c92d850d4569bea176210503abdb3906d921f8f24dd331f0582a7eb3'
            '298ae5d81c537a64fa23cb984d975a10dccdeeda659bd6dcd27b0a219c60730e'
            'd8f9ba2b4a423b97bd48b4793b2a3c5a98007d9773dce167d5eef3d8b6a10917'
            'ba8a7867008ee127e89bb754ef26f4cc936e53e2527b4561027c0627d46a99c7'
            '30b1923d71ea4ea5f6298f77bfafafc01b5d2460155ea9ad792999d338aaafe0'
            'a399a319ada8b7cd4d0393e294d7e4da5f6eceac074868fe7bdad549be582dbd'
            '648fe83a4528f7b0d866ce41dd8676c1ebcd08c4d964c0674268495ae55a4c91'
            '17a7fb8cf0cbb7495fa5a92d7a746614f80b5b836e268237f5d72572250f89a9'
            'bb7693a4806275f11d43696332d7c71c88479f0965d2b9fe63fbf23a3bca7d07'
            'ac2d3bbb73ddf0e0ea91fae93f7f7d0f948437155fea093b5f676cc608af443d'
            '1559ed59c38858da991d8b89dadb4ffa961489d4c0af543356990e3c279fafd0'
            '9c4ad79cd407175a740148c6f01af47a4556a69d90eb2912a5f76fe45022782f'
            '30c2d152fc1d23555062ca7a8f75c4afde497acd70140656f9f118f12a37c689'
            'f8b8416d4f99a3338afc9387a5dccfc704e065bcea97cfefb602726ea805dfc1'
            '5e918a8bb9bdcf78f910abdc1abe622a184ac8cda301829bd41f8d45e2478dac'
            '877ae5b48f21fd5d53f63f0839e922df418a9a293c3953704e9edad65a3ec1a1'
            '390a9cf3568b982cf47e2db24c8f5c8a4bf6e6469d1e28fdc02b15d7d3e642a2'
            '931cf11aedcb9d02d008c4c00950f1ffb9bbd616ee084b2ffd34cabd8905befb'
            'e7936d1495569281cab42ab64a258035e9d01026f04a70b37d76fe7c154dec7b'
            '85a90abbcaa62083f367976d67092fdaa93ac397e8fd0fe3b2def98b534037cb'
            'c20e9dafbb3976da741855a7f8f1d579225050f9a2119994f92d3f111b725ac9'
            'ba5b4b3002072f6f2e7ecb3f483bac1fc6e6c21d04dd78db2be39f48dbed427f'
            '441d845aaa96650dc2a99bae11226b2faef0052853662b43f86f96fcbd7121b9'
            '68720a8b631ebcd5db4bd13c78aff65a025f6ccbdcd8f24aed42dd116f644684'
            '98d68629b24939774155ada1ee300e141bb308e1f62610136c5877001d03adc3'
            '5ab69396bd2b57f0fc514e329e1ec3563554e07d6da928102a8cffafc508f005'
            '10fca830c94ed68ae13944b09af98604f01222b162fddfb921292f775a2b82c8'
            'c27213182395c680eaefe45b702fa0404d01eb215cc7d67a16da716bbca3d1be'
            'ee2f9b715767d10a2a55ca2294edbd73e763759222c35a53f208dc528f264d4b'
            'a121173fd19964a4cfb4f0043c7737e98284c273a17820a014e142b0945cfeb3'
            'a06c558a90a20b2fec5be29cf4a4749c0a08c771a7dd05e111f39d2d7e133b1a'
            '6fd51cfa059c61cc057fa2429e4dfe16ea2789c9f8564fbfd3f07777bb81b245'
            '1f6e0c1d066cf387a6b864f158cb9595a487797762ef608c74235784bb6cca55'
            'c7c439daaf206a8ed2b2c07adecc671eb231d4da456631513ec051a8ccdc6fdf'
            '834f65bc192df4a183f39d649104977b31fb93ab469a6bfaef8d8cd6663f0041'
            '729652840191733815ab0ec244421dceac06d084f72d0a752fc04c57e72b64c4'
            '5acdc1cf19ee74b34919557898a645d6505091252d151c23ffca5cc5394be30a'
            'c1f611400900a04b6f210e99f43f11af576b00a90605840bd281eb04f732927d'
            'fb4bc3d0b3afe418bc362d5b73a268e1a05646fc55ab8e366393f6d6b6d3f706'
            'abe63de3f2f53d49943c54cde1f93252d1c6c33aea8dc6766610a6d7de6ff0e4'
            '38d62ffdedfc53c093ba66ebf1586bd59bd38c0ae8a30f619a808e778d0eddc0'
            'f1a35f42f7c099492383377b89b90d8b2ef0c46454e8f1b6557423917d09f752')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
