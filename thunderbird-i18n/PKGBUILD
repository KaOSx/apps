
pkgbase=thunderbird-i18n
pkgver=128.0.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('d9fde77c403314a1d69a4769660356a1d51719d940d94c25ac055fb91ba5c825'
            'de5f0fe4b8537970324e23df5b427d61dc754b2737465d75c1840bc8a2d4f7da'
            '157b4659ebef3284af53e921c38c932969ad09d3e7e88c25984e63c1e1bd0f06'
            'b6b9f9d2014d97f6b8173507a388c1d4d6feff501129bffad672a6278e517afe'
            'b5b545ce06a4f8fedaa72cc5c1b32e933aa46f45413a643e037b20f65c6865ef'
            '02554ed024dc13b275d527f3c2c99bb45f76274da779cd540f215cce4f1e14d5'
            '1ddb5c3ed2f2445537a5a54300afe3630093cb26d1f03a20b7c9fc4edc4b889e'
            '3cceed2558c969fbaa12e72622ad5c29cbad9114035211ef7807cc2e0010ed8d'
            '73b328f172220edfb4e4d5330dce8c02e29a682f2be5653cc5723b4767f01f28'
            '6373ece666c8dd25e5710acc37dc9c9b42b719ef874c2de394b830b82096a249'
            'b1b351747cad640f5953df524fb7f4ba82f9e494359c23797496727ca8f7b335'
            '5a6de993eee2d4683857b66ea01a2404201595e2a465ba4052b141917782b9bd'
            '79ca5eeefbe3b4671ba2744d430e52e719141f0cc753bfc9dae2f90a4113a49c'
            'a13c6e92735c9b2b0557ecfb8ef2be216c65dab47cde5a1d26bba23981e1692e'
            'a78e2f04f53ef92f3414bfc4b6384729b488d980864de8b028c17489d1c38f70'
            '2dc2de48498171185ff68755a2101697217c4761645d5da414a833df8c0452e9'
            'a58dd50b98e928b5d67887ef4a92659ef29032619e834ba7aa1a0328c92e50ba'
            '04f1e4376551dbf8f8b84aa6466a9d387fee7e2973bf9ef081642b809c5c534a'
            'e22c8fc83d15ef948fc771279d4442d8a64ee03e0a12803d6ed9fb0c183e8711'
            'f58bcb7f4ac1bc3cfb5dc8195a6b1736b3730aa0249303fa8c24208fe98b0277'
            '21d23226ba839f6babf4120633bfd346a61ec6ef1ba9c8cf5980099b363551c7'
            'd006c7dd2f75ef7e7f18d0c90fc00b9b390bea31904774c73452792c7c8a69f8'
            'aafafaffdfa3f81175b2169b6a42538f19819d08e6636daf045f93b2d9616958'
            '190b91da0fa188fbca325e5b89d9eff2bab55eb902c8fc68640981e914c7de17'
            'd372a3e0c3d175efcac9614a3fb70ac0c9b5f0cc6846e25f520e2b7816f00ebf'
            '8c75cabe14ceaf1d9369076bc5de2763e69ccd892df07ca571fcf726da123f78'
            '60a1991dddae099fc836b2496b749f55e9dad80768b1be595e11184044b2c8c6'
            'cce855049e2142d9385a91b08781de4de4b656e100fefb50e23cd865972f74b4'
            '155bab1c2992d61c6339f84e98a5e5a71bd186f86a93bddb24eb659485fe8db8'
            'e4bf803a6aeb51936c4161b213c66e0121fd7f20037971d30d5803eadacca943'
            '8903fce85c5a95177565cb13f618602f9920b3698ca32dce4bf983a8a4ce5965'
            '04cebdafc14ef77b74f452e1a8a6129f88e12f4ad19ddd6a797969dce343d1af'
            '54baee9aaac4eff798bf3a88ae931909d9bcdcf6834e48972e7efe61aa395496'
            'f21404fdf99b0df7c08b3aaab8d380f38ca33f9321283b37749019ebb1663c2d'
            '3ac3ee0072b9de502636bace2ada73f059934a3455fad8d44778d7745b8dee03'
            'f34c32d7cad50be1a8e82d152b7dfa3274f82a14c67d7ac0aa2849eb5f385c34'
            'f03489ee2c83fb47085a7d113c35257c5cf25fc0e52efc8e1b972c5c5e629d8e'
            '0b3a9e0cd3d249acc0db3892a685888ba57003fd1abcd8447b70b6fc5c1e76eb'
            '6fce0e1baf25ac70c3c57c5b68a7af426ea50cf3d164543018483d581e36aad9'
            '396d207f4567f2136f37ab2f4971cdcecb7535a22cfa82dfb4aefa6d282614b2'
            '6d453c6e5013a8a3649a870d8e2cf33a717510321ba1fe2f6d5b9c4553d40a1f'
            'de8184ad5f34e203d29ebcf9af625bcb6a11c652d54f095b588baa27a01c4b30'
            '965fd20ca89b5781e3af32c377180c13442972786c1f0b33730b75c0b87a72ee'
            '720d59bee0fb14a1e36b4d676e1ea6d4f79cf1fe2b02fec6a1f42ec5116f4d90'
            '830c73aa20ab1e836a96deb2a2cc5c64f602e73c34f1ed71596b0de1d0b9adfe'
            '546e51758c915cb945fccbc1488ff29505754f37210b93ca2ab5df4988e5493b'
            'f7e3a75a2a545d95bde46b6212f41256f06d149e03c6705519105920e71e2970'
            'd0f9162d34007856b005704fdf694cfe0dc4a22b4f0f84bddb2c2edc8c01b28b'
            'cc4426a32a1d27c9eeb49061f01309fca22f1b838127839dc026571f14a48eb3'
            '67c43bd7360c900c5c28e3e43e88a82924ca0493dca3c819cedac3f5d8af9843'
            'fcf364b752cade3dc43b3526dc8b2c5369b105be0ea09b3e2bddf20073137589'
            'b09f331e1109f40e4306da25475e1c656473b76a9eeb74b05e31956ab428574a'
            'b5a8c5d7f5c7af662fd32f16fb076befe6f1a70065f57086e79ac5fa5fbf3847'
            '7479adec18d7e06594ba565197fcec4584d2a5f3f82a80f8fbbeb3501ace04aa'
            '875b87fe05e54a5938892da799c173c0fcdbd6bd1cfe14732b785879a810cfed'
            '21c784c2f515796aeeb254564fb8647620f948b1bd2981a33efb0d8b442b97b2'
            'b43be25d7f4b3f9a7a6c2d89856e70444faf8d2ec09265829d3807d211a07fe4'
            '3b7307196c2bd49d77779b1c1cc409fe328d58d3c826cd8e355a583020e45691'
            '00835ccab8b9e7f4e2d1f9f82d2ea2b9ad6afcf21a1352c4ec8487c4533b1f2f'
            '3915165b8d6cb5ce8785b0a1c38c9a15927f0cd26b3496809b4ab7013c0817e0'
            'ac6c3fafec0ec67f4ac34b387f83d5cfdebb692142ac33fcd39290459300add8'
            '0a9ebed06157e7aa9ed3bc1f40f2a28a4cec7fa917b6d6208fe9c5ec66ce5875'
            'd162bcfa439228ec0eb6aad748b9018e33a3808bcf8924559dcb5c8a0b80bbd1')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}esr/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
