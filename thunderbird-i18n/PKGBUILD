
pkgbase=thunderbird-i18n
pkgver=102.1.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('3291f6377e93eb34948ba98e3bc5fe4d42048891fb18efc0cf9896ef5b41d80b'
            'e3547a9a7a3206986dacd96ce0ffb82378ee535a58b69f08d22c292e8925f41b'
            '908249e7245e68b359a30dce8d2d6ef849f4f6e33386e3d117a78d9ae3fbd860'
            '5b12f0b14d7fb13e0bab7da922e440fb88ad2a02aea5a970ceb8c8a5ddc756da'
            '926411cf05d1b41bc2ab0f2379ea539c5d0b7d0e44f4957cbd6333a694995a45'
            '4ea244aa82971d8f3d1f4d35fc473e9bb29d06f0313aaf732b161052285a0cb0'
            '5b7fe2c94885c93ed99b8d8db381bac3241139ac0454c3d5333768667526ef9d'
            '98f396353bedae204c12ad94cd8c9ee3dd71ddf80b94dd2ecfe2dc1e71cbe385'
            '88a0b90069bee0493b6294f01d7008cd33c935fd000b92878dcb7c19b472f954'
            '80492685a6ecc9152068b52cafcebc78d762329dfa4f7be2d35c670568a49cbf'
            'cf7e5002915522373c962e4b415812343ce5f8ccd99bbc1ae1b6ee4d0c6330b8'
            'c1c4cb02d23b1a391fe29b3f8e7847ed2ae26c64387579abcd9d7bf35434047f'
            '42478ae7a28b37114088d560f5ae772db68e622ae372983944f56dcfff0dd5d8'
            '624686dda3fd236f99d65c0b8c4a821b7d2145cbb9db2b19cbe8422afc5aaedd'
            '1a578d775f5de7f77cb611f0dbc70bde2bd043f34feca3e23cdb987123b97145'
            '0f53fdfc2f098f4a0d3cafcd4398543b74a8d70cb975e3582d535e3a010da28c'
            '4a29de091cca1c1a52e05fee1f655f833f461117b2497a725ebb824302a943c5'
            'eec86f7db1014a3f0e5c315745cbdde22208b9ff217586def8a8653d13125644'
            '5c19fe91076f07e11199a7500a7ad78d0671cbaaaa3adce672f9266ed7410198'
            '2f79cb889b25c47f2f50475394ae88ebfc9c0c1bb5e17db4f05109471de42217'
            'da8d9417d8d4cb870d663adf1da50970e3ea3a52446a151eaee2f6038ff5d751'
            'bdd83dbf2fbd370c9c5d2e8178aec6a45f0b1dbcdad73b27d4ad6d9842e9b267'
            '186221435dceb2d5065b9e3af65e78cb950fcf06e2a51a1dd66b2d3431fc0798'
            '7eb3a8dc573f5caa923e6e8f003d4420d8f945f0cf8b4ab3200f96befb3af046'
            '87dbdaf9ec3e1d4d9b30a3907a45e5a6174a7224e40ae16bc0ecbdb0c70b33d1'
            'd1a6dfb10a6ab51ae73c1e526eb3e33b9851025b9950b3d8263b53faf2c0eaab'
            'f7f8cd20f87ed933b8aafa5d47d877260f74b00581743c40dbef922a64303fa1'
            'b479b0a0bf237b6ba8af20f32db8770014503ef3e4193be18399e96eb23ce519'
            '7e9de2ef9a26c127ab3aaedc05ccd677ea9a39477eaf9adf1420780effe188ae'
            'b578799afaf72777c0f2222dee3389b5446776da025c2554fb83b20e8b110453'
            'ca1b3555d8150dea4c43a495d3e1437602f9c64544911810bdaa4a52c234d871'
            'f49459cc7c5a00843eb94ee9e4d53a815a4c7ea6ecdbe424b74998c203bbf9d7'
            'b2b6326e365d6b6875e6f5c427631dc563da5ca6febfe414f86ee59e147c91f5'
            '660c73d0c46559906b5ced4fd7217c70adc4a63786d96911630f468413e0f5cb'
            'ed7cef6f6db01222552bcfd9da9fc8d5765358560619494455fc9ab6ab007fcb'
            '59c1a1c06adab3d6d24e348e051707a64b20b91e014302c8b77a43ed8bd064d0'
            '977395ffc4a1df1d98f16a3bf337df75ad1936490889865894ec68783a0b440d'
            '63ee59352598fefa1723513ec41b9360a0c6811c1b270c19b317a8e178a87b16'
            '80db7a830842ae6f8a0a58ab97cdbc28eacad4137e730bbc88796c42467c4177'
            'eb81b131cb01cbe92a01c8df91c3633e93f2abf2c169c495c1a8d6eaee30c87d'
            '072deb61ba1fb3b14649b588c4eead4c05a22f895699ea7c9e002a5994d32d30'
            'f61615e86e9b1d0aaf74dfb82ba52a7b3ac5882f3e1dd629456503459d808cfc'
            '4c9c13e6b0fbcf38e9aefc23b08d3aac0fe99f12a6ce18f9e266349a64824425'
            '75e2c43fcb97473c30cd11363d829d1cbc1b488784faa3d00c907947d227857c'
            'bcd3ab210cb169dcac985eed16cffcd73cc25f8ab3f03a316b68e0b890c73554'
            '77e18028172b9b6e803f62af7ce73f7c3d9cca4dbd8b687ba213ec11823ca761'
            'bc757fa0405d92696acceb475ca591095e15611318559798a4c12e6f39a86922'
            '729c4e889366ee55c2bfbd1b4da3eeb65d5683626cd53e24b40338cf70b50e65'
            '09ee7189c773b7a6fc306adafdb1e0d32f906ca7d58fb52b6b6661d8d4e6c071'
            'a3a64d110a080b0e8dce52d32c67664ed79b863785bcf13adffd113c1f350284'
            '89e354e4ca1d8b4546d6020dd816f838a548a6dede1ba2cf678fe37a24c9b381'
            'e3eed9fddd99fa3d0515a8d73376011b727626d07c9361cb9c7da2232577f700'
            '57db83f3204a6dc99f745af6450b4725b7117e9b015bd63da43f42baa1fc51fa'
            'b5a497697b2b759208e311bbbad64aa39dedfa5e29e60c7648dff6cdf837a3ff'
            '0d995affb8bb1657e87720042e7f84611c79efadbfc352f2ead96d807f231573'
            '634253f4ca393f43d42285fe3767a66c0a9e7fc66f9924921421ff28464ab21c'
            '7d87df387c8e396b092c3c448be08c229aab45702fe836c59ac957be6f88e522'
            'd61c412bdf21c3209110312c5ed0ceeb89d0ff4c3394c759055726c532b895c8'
            'a24b2223917d355763aca88c3f4b810b18eb9b2667dd79d4b5c35be84f7f55ec'
            '5761d6eea9f4061363274b0f127834f22637249b8854a18ab15fefd4fed57692'
            '49d5413ab845a8ebe16fb00722718cbd2390a767256ceba06f484a7352bfc16f'
            '8b05cc4a3ad1bd97f581672be6864a3ac998abbd733e92685f6a97a60afdf0df'
            'ddfd95635da6053342d2dd576047fb8dfb7b517fdfecf96fd353e8f5b0f755e3')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
