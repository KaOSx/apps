
pkgbase=thunderbird-i18n
pkgver=91.0.3
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('2a8adcbac7783d32669d3b9e5dd01efb3a432d6b5d03aab751b89c9d4631d504'
            '9c0c9cc2cd1855a1dead1d3becb23253f59b25c2a4be6699669edee79d74d23f'
            '2067bec0981b7c2339c27fc417b9f90da4497721eed411555b7e4d160a04c56e'
            'd53444f82fffb9352726145b14280775a7afe4a2e44ca9fd561db090eedb8382'
            '0f6c78ca1ca673ea6090cca5266ee31dcacc631b33dc02e4e5ce0d7d9e733458'
            '445474d3e432b31bf5c429559dbb4e7607100160565945faa96643758a50bbc5'
            'a77ed23f0feb65dc849d0bf734ae9e3d95fea0588ef690818024651a8b59ca8b'
            '939abd272e59f4a6006706198c34b3db5fdafcfff804175e1dfca8175f92071d'
            '7af9adfc623fc256e009de7ce505cd2d19c750206c8274be8aec1a2b0fae4067'
            '271ac0c2fa7203febd3daf78473e3da52b762d92788bfd23f2065f3044171950'
            'acec4ba61ada0348a7840efa468781ed8975e09d8a2e25e11300f754a52c7ab3'
            '254674b02fbcb4d7dbad7185b641ecdc1c78dcfeb7ff72f351f79cb1d8c61648'
            'b05ca2a605664e1aecadabc3050842ccd3eb561c14cc193e28c10c64a2d0270f'
            '31272f5e3a2657838535637211583f3dab7186c7a4652079952dd99b601839e0'
            'f82aac039bd535636569184cfb2d5fefacd1d580826e931c5df8b3e549b8b1cd'
            '4ef14b8ca480c10fbf16dfcbd1ab7ec00deea634bca4d4fd322f8d2515616b4e'
            'efa5929f34daf1dc34085bbb65ba6e7b946bec3e7b9d1e9a3addfb35e8bde73a'
            'f88dc699957e454662a4ca00e3ec74803b7a4482947b16c82d83eaa419fb34ed'
            '9cdd2d60db34cdc2cbe978ba4b9c86d4fa0cfd3a94029f98fe03907ab58d7ca0'
            'f5aca8a7cf38f15a70d431cb4b0226af9092359db9d32dbd3562345b96fcc679'
            '0ae3c3db3507d377d34683c9e27dbd912f28a981f9ee659c08c8f4271bf53a41'
            'c594eedd37f8a37af014e98813cb6b7ebc13008114bcbb4192c8a5bdabc467e4'
            '4c5453ee0303b9c8b26df378ef1331a5bb360f5116a6b00760befd84b50ba384'
            '909201db910ab50cd50930299d72a16b0c4ba101a3c39f68fc39ea61bbb8a01d'
            '51661cb27dc2725835cf87820d6d4a5bd562f39b4531997bd79deb6d882fd3ba'
            '6238f03d5162939fb99936c2738a90d22683795a542ae5d66842daa25897fb7b'
            '119e634cdb274dfaa70152c106874880d8a41176accdfc7e401486e39c61a86b'
            'c91a5cafb1f6a42a7ee4340d91136cf95341bb8fe3f570326ae1dfc98abf8765'
            'cdd5584d4d16b719835adedc7eea5395080f107a460ff776c674789dfd63e15d'
            'cf56399415960757cd4803d71cbde11c9b1b12068d944d8343b9dba1b96dd0d4'
            '99b98703ae3b4b62c3de621a6addbe1c16e62ac6c8fc1644cc074985e3f47116'
            '1502678026cb82a7fd571b331c0b34b1831e3e96924cf7ebba6de2b61dba0981'
            '263cc1f92e243a26c60aafb34c46483420a643ba909daa332c92e3632555ca12'
            '8f19aaed6f01bdc3e2f57d62b439a171f33577ea4f6697734a492b185238dc38'
            '8d7e0d4f87c9fc61737a9ec6e80cfd08e59f7da4af55940393ec507b74ad8de8'
            'cb8225d4834ed0bd48b9998e4ac6a1f7d40bd503c49dfe2ee1d64dca9917bbd7'
            '7b2078ab46ed9b6602b910ec718e653b15f660050b3d27a91809d5fa02b0b582'
            'a1252d10e3bbf8178e37681f08d8d475a403d76fffbbbc0d7f4752bba01b1068'
            '57612d966ddffa2c683bb71c19c01252c84a8fbc2a488f8acf98a6e11eef2489'
            '6bf635b5da30607ec471b73ae9f21ea271fc03a8d2b7d59d63dfdc2b75f3c07e'
            '803b9dd78dbe4b2f50122b29dfa4d2a9aebd3c6932bc3fcb9ac2cf288c02c7c5'
            '63afe6b647b066c1eb19dff1de91ecbc135c37bd0f425db02b64290f1043d798'
            '8306e0386a615499e0abdfa3bb8b6403f303d7bebfdb45827f7aec06aac28a17'
            '51377b821215bdb64c1efbb205e5b7597bb21800def1fefb49d76cbeb1b0fa4b'
            'da1706fe42ea899d163d0425c9ccb3e229671dbeb5b9f3a96da4e80f5601ca11'
            'f77f145d91f40c484507335a4d534f9b042fd2aa852862c1717d436adbe547e0'
            '7bd2e9b3f6730f749e09270618486e6cdc86a4a19283d0386a344d7c4b73ed0c'
            'd39a26a2a70ecb078d9d0752729e3a57cb3c9a871a5456e37c9c193266723d56'
            '9918ef36547d8f5d83d804024d9b8136b7224174d616f222bf21f0a8b3f98284'
            '9f45b01b1fcb1785b510fc088fa2734df41049d9757dd54e1286fc82b2779360'
            'c3d7fd34a0f9811e90fc388b1e2a8f8cd698e57349a4a2198d7d16c77b39dea0'
            '03fc65c17b047ea4282d1e86c8696035c970682ad920ce5157c6ab210dd51f1b'
            '63e55cd4f30523e39c126c65a96423da7700a4781dbbd277975e315bce346fc0'
            'c4daf2ad061adca51c985643041c0c59ca6f4e0b2808b47b65a6c3ad8b890a5f'
            '26ba62ef02fa39dc2e6ac86d15069bedf38eeaee82c061abc95d6b64964f130a'
            '06df7815f0f24b4580acef9993374a52c771d6860c1018ab0fe4d134e60cb8e0'
            'a25e0ca17af6df7254b840f51fc9ca0d423ecc48f923ed116bff3eda19e77c9a'
            '2469989ebc2861d6784f3656ce8135e1ef9254f982aa0883859af82e2ef44292'
            '6b57796eca97f440670621a1d38e8273df4e49432a18ea60c05273e8b06f1952'
            'df3eb0a0678bb393982eb634195f4c2bcd90687dba06894a05f5147f0df30277'
            '5defe27dfee27d5591f1b28f9a14b0f39ebd40a3d091171d3d027ba063c6cfca'
            '666285523126bbb5a9457b9f0db5dc2ada7b763a1ae5bef0e4bce5f78108ef69'
            'fd3a8cd322e1944d60fe653df93fe188737846181223e8a37ad380587bcef158')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
