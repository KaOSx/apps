
pkgbase=thunderbird-i18n
pkgver=128.1.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('6c49e88e13094d181b003e15454b9821820a840639baa8406f93208bcd9e3b47'
            'ad7e98282a86b7e7b4969f9331b0e9d7baf3f7254658cc6ac86522c980390ebf'
            '0fa4f66f2abefe96ad9f9e1dc93f426d6133ae5f0b2153e6f794b3580f8dcaad'
            'ce1b4ca7cba9e3604e12199fc0562ff79d9bf01b1225851cff6bb1b515f7bd93'
            '06fdbc0c56d34148560dad58ab29bbdb6a9c93bcea060f806e9d597bcdfa0489'
            '613340e63fbe8c534c0126f3103168912082f0e7046c93abfaa602770ed2fc69'
            '26bd79334c33a05dc80a310026f840b110cae87a667ad4e6a740fea9d97d85bd'
            'b476073fab2ee77005ef905ee87617bb57b0d76ce367a3b34b39b11ced5c1db1'
            '49c18e70363b52a8fac8ac0d53d782a28101a5c765e38bf1afa557d0f6472556'
            '589f85fb4d254b526adfa05eab1a5345914414196494367bfb94d69c3992ee96'
            '5bfaeed3ec70e87e305ca35dc856683271703936d64a56f1e7546a45e78e4278'
            '914f153d8d010aa20fd832c866cd4ff5aa0906eeb22cc3b60ad8af3ee15297d5'
            '746849902c008b3288c35ba1880157b0a8ed7064f9d6bec60da050a2fad56f0b'
            '32e212255fe7288ef7f37d20bccea6e42156275d30fa5ea91d481a776cfd680b'
            'e0728141509712bd7aab78acc3fa3f058cf310f73b59688d4319deded6bf02e2'
            'e36c045f88fdcd8b77dd43c536c80016a1702b4f69482e9a6afafb332c53c842'
            '5b532b33b598bda98112cf7309f97f7a6bd89a6757b27d73d68cb775b43cd332'
            'f290716fee93f69219d3faa5bc56e43cfc4b88a46048971ac4a08a04deee046a'
            '5200b278aba969f1fae58e8bc678d318928c357fdb3f0861a4a87720a3d9056f'
            '13de17b527c5609fb59d40ec16d87496f0407449f377ef76274b0c2fcdcad9dd'
            '454215b4b5e88d50c8b78821fbab4595f8fa74dc6b338ffb53885ce2284d6087'
            'f4b29571a37e8b795948db482e554169ec6dab68e35545f56f200fbb71f1bac2'
            'd3f8731b611afeec229ca770741a8d775100b6f6e005a4bfa03e3bd5208891c9'
            'd085fb4043f649f91509947d8a5529c3af3161617f5f5dd58ce561d435847fd5'
            '4c8af77d5bedbb95d4bb3d3babe0950bfe7cf7790fe4c9101e0cdb877f870935'
            'c61785bef42c1877747b2d4162490b152694259edbe5c24183bc77ff5179d8ef'
            '8f3b585519469769d66b9687911e6955f576d0c02678542d485b3e68a6969a63'
            '747540d1ef694525500a427eb48cdb1e1972a737a7718b213ffdb5c2346891cc'
            'bc5adcbda971b7e21a805d9a847683281f35426a6915a0817f7626ab601d8fdb'
            '5d64150af0caaf362a109520520e7052531d453aa21abaafae62d9e0f448cc26'
            'e7988e1339adf9b5316a77678b43a4c6d18e5058f5c0cbe00b97a8a289015464'
            'a4af2704f95f980954afb64867174e62a65e003e3b4d620326fb8763cc599cf2'
            'c09bd36d1ae8222a7169b3805c76adcf366a8ddff0473e723e0a46d677d0b954'
            'e1ee2c13b0dc1b60aee7d64cbc0118faf4a2291d18f33bb7933f4dfc845069f3'
            '35db558e6aa3bfdb7db091ea3405a9933e57da5398ea759c889a7b8fd81fef50'
            '62d54dec68b9c2b08c6e52d421d1c4fac923f373e9473d6104f0691d090f841f'
            '586268feede0acc162533bf086b4353442ff3cb7a5396f1eeb4a08279e074099'
            '577ab9f7fd1038a3750abb9cb44b2b5c2e6a40f944c5b8d7a02ffd98023178f3'
            'ed8c2b7f3065698b44c8887e380207313410a76ba4fcbd50c93813945bf8728f'
            'e629957bbad7e236cb2506acf88019d03f585ad997caf9bbf1fec63dc8688285'
            '85d6245de0f41e1f7fc909b1b285fe38bf219d038bb2f65316fb9f1186577973'
            '5e76f3d5aefad99f13dd5e4726bfb1ad2648fe7f5469eefff2ddffc70e581e9f'
            '90de3960967e777de58549c40966dd1359548ebe335ff4509530168cc8a12441'
            '38d45e8681007f23b15babccd8ad05da13f028418858803678f5ae80d475bcb7'
            '77b087180a51240d8d4682b8a776cec827df0a526a8fed181633b782bc2008b6'
            '1101318a1b6533596d92f70ebe2263566326c2b9cfe63e27a6b49b44155c19ec'
            'e4e969cbdbdc2e4612bcddef8d9d4003ff5492701a0620279e1cb4684545d423'
            'f82f2dd6f79eacd5eb558ffe12f05275eb423a2b6482ef5ed08cd96b09ee80de'
            '7bef1a2884e856ecd19e3d42146ee51923012e2a47aca6afc02a0da6fc209bbe'
            'c85f56bf36aed54c5ea4c565e984ac0bb755f1203a2c6ef718985409e2c9a685'
            '17c266bb6b61263889ad1dae17fa54c8d32e24ec8cfaa89c6057406e08a54201'
            'd48a57334c067a743e1aeab5a7d45d12c39e09c82aab165d917b1010ad444f73'
            '11956e28cf631671ef8134cf446377faa35e05d3a3f2cef8529954ff7d52ed04'
            '064d30883c093602a10580faa99da16172a6e96af66f19e6940ea7e1040af786'
            '058999559918c824d9ef1471ec8e65f1360e28839a10aeeafd2043bfedbbd8e7'
            'f4f1c9041cfa9ab9b6dfa641d5b9bd4e105df4167bc9ef5da416f391c9d589fd'
            'c72a88993aea35f8f3131a5380754cb500c12861d5f3b6f71ab73f2d58a78362'
            '3ee74b82b043789f3e1fc28b7e43005d123bc3c07025f9e56bbe30be6f39dc95'
            '628ed412b262c22b65a279c6859adfcab0ec935d7e35190a5e53f84032d5b862'
            '91eaba58c1581d3a292030bc34a8efff8a75d86ccd681e1c9d65b99df0f1ff92'
            '23fff9898db402318e2d9719854845a73187b47146099b1beef5de0e1f79e785'
            '90d8a0ad97595564454fca7e7f872b40e1efc57bab953c14be4eaa17719bbd1d'
            'd8eb416e4a5bfc4800ab7e064618f26aebb56d1d92006064bace2d0d9177e1a1')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}esr/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
