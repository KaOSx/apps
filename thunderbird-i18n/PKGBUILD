
pkgbase=thunderbird-i18n
pkgver=78.4.2
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('11c410aa6d8f4f57d097e2410737ee89372fd5f52dfe52c84be40b524228ab2e'
            'b83897439faf03f551e7ae4ac093961065057d5fdf0a563d10ae79ede7f84aa4'
            '2d90e99465ca3fd86fe9b8a9b75d51ec3f43cd1de3513b5eb79736d7a049a014'
            '3953666849e985c0539b61f197fe608c014405601dbb1df0d3424fbc101f6b6a'
            '075d9572037cb61d301dd949f434707f59fc7867b29c62fd275198a4abfc7455'
            '9491124405b911bbf2c3ecd76435428616a6ae730b8e5e1d80f3e54f4f13eaf5'
            '62861cce930511a58c8ea3bac6c6ee32e134bd7529cd96190072db18e26a1688'
            '8036b15d922335e4050de1b05daf4ed2e062e4e1be33cdefb24474f0a45d2285'
            'e43c9a0a1e8f4c87dc9a7b24d63a3aaa8a58f9bd3ed6bb6316eb2e3e4607afae'
            '94385214f08d0cf4266e0becca7bfdf2b27e9e524515a9e20e163fc1f49a9b4f'
            'd1ea69a10d7a1aa98b95d6313a919041e1670ad4c47f9b1864db4be60e76f538'
            '32c977e439c7a9bce59f612008c268b91a772a9ff07836c8a6e6734ff3c87cef'
            '4981e5be935c2c0b388a26efba3dcc05505b0d265cbef54e4062613454002a63'
            '255ce6a55b60b66e374adba1eb1eea89e8ce47ed5f5cfbfff69e93f7ec819741'
            'ab98803dd280ba0d0c5bd4fee52e4362abf170ee2e2dbad9da79de96a14d38e1'
            'd8a02aeaa58fee2d61bcbd1318df6a018916d71d79dc1c6d0357c5265ff6d1e1'
            '26f07d03a3dc817e8454e8ffcb3460af53cf49341d28462f5c502431173d83b7'
            '13bca0b080a8df4bc79a74ee98530c8944cfbe7bb032275dced0e4039fe7276f'
            'cdb40e4784bd91c0d0ca76cff86b577760010e1e1e4584c07eeec591980f3f3c'
            '43326329442d4294d9dce6b7dcb768896d569378b668e92d52dec601abb09c20'
            '81ca04384eb8d089ec47db4849cece781aba7dc3fc4c8943e4eb87d8a07b3e90'
            'c9a5e1cc514b3707b8636200a4a320656d35e5c482f4110e6a4eed2bcc32cb32'
            '702552122afdba4a0c56ec2effa1202c0ce674a36ec11df7ddf8a7abf1852f52'
            '07effead549129f97ae586dbf96abf421bcf49c9214c114ddcb3d18443d759f8'
            '84cee27660259088fd00243c46133ae611ae3121275e2a7c7b2e9af41b626c00'
            'd4b862130993c8b9ed3cdfd3a26cecc4952df4c0a74926588fdd10035b616f0a'
            '4954997731557599696b53c60065439ad13ed357695e85942aba69945ae8a726'
            '1406b35d3f0d8f9a263d65efa1a7109e1a85beb2602c319564326c7523482cff'
            '03f4a6c87dc49794155c87d9a98d376a58df031d5d313259184566c3ff9002ba'
            'cbbc3e60eb555173b654c6dc788029dc31085a7eef570de73fff7cb43dc41369'
            '99c8c90345bcc02b434a10565bcb275ab46fb358728d98fac6e58999351444ac'
            '922556497a2be7a7f6da82b0a8ed6a4415d9a440881dcb8982debfcaf2e99c16'
            '61ac90d33606e72f407c4458c511b3baa916aa0954f1c7b0bdca023785b4ac61'
            '604666c0518b5011e4317210e8b2428a79412966ba05d762375dd3e4f572aafc'
            '7ca326fb333c25e7ffd812e0f9c107f6efede75fb1f23460eaa92bfa1236e623'
            '4fee84aa80386224087a1022ec9d8c265bbaeeecf7a0d6d69f01fd8bfb801d29'
            '13712b36b72d6bf72cf55b55fc3c69ec7743e56b63fd607257473d5f7c884f27'
            '95aefc0fff3972b29102ca4d9bb84f8604103abe89f0017bcedcda6d958225ef'
            'cf7a8499deda74e411085485f8b969da740b6c920e43dc2394e8137cbc3b2829'
            'a81001c97166f3a8aa6f86707ce90b32f77747f0287609c1ded0a1c5320c708b'
            'cbefe62653c7174134762eab9b7df0422b23dc476af5c9234271acd0d6a2adf8'
            '21777f1cd702d99f1dff51c6fbc5a78a0b22090fd712b9239d5fdf4ca7e779f4'
            'e59a1c2edd928ef70c59e4c01f6c43350873b191ccbd983e50c9af4346a4c9f8'
            'c425d1d0b0685ab4b76442690f30f5d2c76a85e414deef1fef3eac33afe38edb'
            '23b5a7e44bff5cf54bdc918832ce53dfea6b2134c29e00163b8820684b2617ff'
            '3405cb6cde7dc04120f5a270edae7c90a6d2c4e85697326613748220da763415'
            'c7224068fdc2a784403ed3f25f3d0a1d610caa1232e02b8badd217a07e4b7a15'
            '8f5e956e47bc52f048dcfb90fcf8f47f5d9924e1117357ece52d7161c20ac23c'
            'a39b6eead988f103edbe568179cbc934eb82db435a692b82fe30a74f0939c76d'
            '3ca73ea534fbbe13e3ab7a95304b4aed5cda5bee5c742779a13678a61bb754b1'
            '15a9a0b841c8dddd78ea31b453b0727eed5eb89821aa56448cf458005654b737'
            '78b48554526f9534bbdc79f378da6a097f216419f633b488a3826dfd70b8008c')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
