
pkgbase=thunderbird-i18n
pkgver=102.3.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('a11c101150f83c07750fb057b4e30d2ee90c7c1a2dd558def1a873bb0fba3900'
            '87e63cb7c7388202b62af74e9c76ecf11420782614bcd3157446b9e6eb3cbcd5'
            'bd063583df3b53259bddb61c61ee1c7db25702ad3795c59b6e8bc526679a28e7'
            'd5a690dd9d5e045dcd19b8d970299f5569bbb6d130b463c0aff3ddb8a98673b5'
            '8ad7461c85983dead1808096206cea1db1cb653fa772f5143aae1b34138a8187'
            '3226efbdea2ad90640413845c8dc1c99ca664927a49b65e43d4188d2c33e0595'
            '57ef668595a0715052ce6f47f6ab4c26b9d93b34811711a061fe72f197c48a97'
            '11658dd03d18e634e83104696477092681b970be7389ea0d1a8af07d20e9d983'
            '9f6f0b2a33b1f24ca3264dc8721a1b58bdac6bde44b82f0d9d5320c9c057e5fe'
            '2d1255ec678d4148e6c42fb25b774b0e847b913bac7c51916648006536f7942a'
            '6659911d8c97e2bfdf096f12379cee1865a7d41994b62957b207240ab158b448'
            'ef121bfa6467cbe5cfbe9a84a7ff362a0c8994dc6b7973f47a6b522b1117b5f1'
            '31bc7b47da4ffd5606eb04e12e68141c4db1907c2743f94f9a4f4032f7b22325'
            'ddbea36a04140235ae3ba255d0d06c899f5253f3229cc2d085f4cffd350ed9b8'
            '935eb0c6475919c52125e60948b0a354ccb9c0df57880369aeba82d99d9ff10d'
            '9b927951e468914dc2e334378c07dbd59849b3f4ca04be400e6a0c60164b00b5'
            '53c9f01e0c1fddfa1bedd63a3729d39d6d2631cf50608a5717bcda17a14209ff'
            '6f61d90d22b731ed36eedf2ce33e2cbd2c446b57405bd95d59acf8ea51bc616c'
            '3888d9572fc44f60fdd6df387446f65a1850eb7b16e4d26ea94d5b065d89e460'
            '2bf01c928f00234005dcdf831ac9ce5b552a3fcbd9beb77579e8a190eb5134ec'
            'd0916fdf3ba4fb91670ccf71016faa2bae33189800cd0113e7ab530e6cf690c2'
            '87fea7d6d0f577020fc6e821710af5712cda400a1ab25863371c0069ab68b4b5'
            'fe9d669db331a16e3620f3719bd6d4d7a317d0076dfea4edf891d4ac695dbe5b'
            '393838f03a3949c51663f4ff5fc6e336ced0ba2b6babf16816aeeb24df33fb82'
            '976d20b9192e52048e50fa725980e954a49e75cbcdd509692dcc3d84949b37ce'
            'a3c50db04e475ce14553f7089df2359c6e4134bf7fe17b1e72d2a1072b4ad28c'
            '47c421b0d9b6aad283c54c3bd67ccb2dcd79b6f1db99717b6b42e1962224ff96'
            'c0079f927cfbb2b924669d842106f954b3c6fab22e2102755fbe2a486afdec42'
            'ac75e9df28700928d03f308f7c995171862d93d79c3929074c55a17bfaf54d62'
            '51a9e641a7eb7be019e6f156c0b690367901fea75859b5d210f3296b4bdcdff6'
            '4a1998f2e13db0c2f38c82bc06b7c30aa09572e378fd8211c0069f189afe5aba'
            '4826ed366d2c7223889839dd3fbfbdf58ebf9daccdb5bd22509c22f6b195c5a8'
            'e9528428e4b2a6dfb44b79b4ef661d2ccd7baa3c97dde6b329ccbe8f88942515'
            '07ad5ad275f373370dd3bba83cc5f030a95d89e9be47d33bbdfcbc17b4affaa0'
            'fb7a2402d9d0dd0e004ef2c178098680d7ab318090d1fa99c55f74b7275c1c81'
            'b58c47d8bd7e55f6ff5c5b8fcba55ecb9767e8c857f66ea186f6103a3f7f40c6'
            '27154a72ea72be5c1f050d2104556e99a0e64e3dda0c06b0a305d7291d8b2604'
            'd16a0faceb155242fc7828b2236661b8f1e415e51f77620bbdf18985a05db33c'
            '7d0513f10ac732ef11b6dd57389bf9547f50e8b8c7a5cc4f66e9b28c9b712839'
            'a7a510d97ac294ad9bb9ff326fa6978c5510ae82a20f34cdf16c07372685432f'
            'ccdff82b77afe2ee11bf8f76cacb8a268924a4eaddf0f408d2a340978810b41c'
            '2f4ff530eb21393df190ca918aea64f1a57a82824330155cfd86745d8fb9d92c'
            '68628fda2f8343b408632a14e50b67dd630d74db8b4bf55c2a51f8f0ea6ad455'
            '458b358c61c4b6ecaef60396347a11dd49989683a5cf81c403e7d9859668893a'
            'ab02aa4f7706236cef72456bc920e9c673854aa199e870ef383ad1c00622dd54'
            'a4f4335110ccf50000d3eca182347544bb8f10f13c058a0f89674b563e769aef'
            '337a82fdd18e15c8b48b003a4ccfd0402c174008604dbbe7bd54e4cbbbeabd30'
            'e9676f266e5b326e169c1ceccfcd5df1af2ae34651692efd8afc08e5653c41d1'
            '300c7142e2f1e63e6bfb365f0b33059b6557f147d3e9b6196a214913d17ecfdb'
            '7fb2344940a52de8ce9fff0209f51d05130d0680da948839f496225b6954a8f0'
            '95448f1052ff8b7db6065da41638aa6d6a2cc84687330549f5773b0bef5934c9'
            '1232960e32f44248361970c7ed8ee26b69d9608fd4aed0ac009ee1262436ea5d'
            '0be886e1e09458404dee684b3c36834a1572c5dc8850428d24237ca701df6061'
            '830fb153036fc67ebc733216dc9b5705a71494c2354905fcc5fbf3a006c0ac78'
            '08c3c7ab62d54a74e1f0ae94c2f720ddece97505c0522c895ab2a8720ee81f0f'
            'f0094952ce2d481271bd4247b25095a0dc2539cc2d63dde93cd3324b77149b8c'
            'e9643bfa4cc9bc677b4a1c3c17ce77f8b4940de465d574909a6a3f32b6807fd9'
            'd53b79ada14c0ee2158601aed121f888b8e66effaeb72806c1fba499efa67ea1'
            '12f95806f6f52ba78aebdb4db30527bcbf418ff006de9602080e8f0f651760c8'
            '0a56c0d840a222ce499abb576e364132a08cc07d375a0db8c6266eeb894edb9b'
            '87254d9be8fc82d653573e1436869bad4f972a33fae2cdb637e27b216f980632'
            'c16702b62136e7f4e5bf0f7015a3ca07f3765d434a9a6758cc9234a986f36fdf'
            '9f892983438ac151339b92ba6effa4274710b028875f797c9569cac211fdca74')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
