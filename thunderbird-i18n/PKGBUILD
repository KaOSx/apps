
pkgbase=thunderbird-i18n
pkgver=132.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('75c33b970be8997c6bd7765be0b9ad8bd3c99afb73be33d84ffb1d099d2f6f95'
            '629b3d2b5e1b0c6d5187445ea5658705f633dd243c4641d52c989b391656b61c'
            '333ce2efdcdbf838ff424aa99286646cb3a7869ff5f6248ffc1da5f528cb8bcf'
            '0fec267011bc05570ae18d45e93e60e6b1c12d1605f29003341115a26ee1b163'
            '0b1b9ca3c3d6839af7e945438428a77c1184094dc88ca934726c2e1d83a53cec'
            '559706119df043075a679d1c167bc4c5d3dce7c3db06343d2a8924d9bbe4a0cd'
            '2468b2cab0068b3abab6e8e6282f32a71953ab01276b6cc9aaa19f8d66dbb782'
            'cdab24fe1afcb0e6656b3bad1da1a149cddd8e626678905204381d3dbe28eeda'
            '41a7e9b484b6204db637f94386ef9c67a22b62e8c0871bd3cbd5a542d433d22c'
            '6629b1183fa6417fb62cd48d822f128ed0b2d6735ab7fbf4cd3e194b688e48be'
            '510334f12fffca20b5a176cad0bf5c5c538a3e5ac05e6e14711331568660cb45'
            'ae3f68883862a9b5da79b772414f50b2f626060413fdd46ead94d7d1d7f006a2'
            'c55fc6f787241b6d28801e23b7766820759f32a89df7679a0b7327075ad599f0'
            '50706106b8831fa5976beff115478b8d275ed09f4ae61b4f94351a7e5274160b'
            'bdb607d65766db316b87e341bab9cbd8e19d8d9f69fbfcbeebbf6485266daaa9'
            'e628196429919f85707d37e882f7098b2130a47fd47abe805549e2338a4b658f'
            '1b6f83dcf0063e02792a69bd747bb8e217e8076472728eee080e56f1aa47c9d7'
            '6e759d2de35c3e03aab86fa5acb97ad9be45db348c6d7dcde7341f9d93487c5f'
            '001232e10ec3790c0ff05c531a4045ad905c8d764047a08f95a2e8ad44e37dda'
            '666f302540718d3fb75ddd339781c55f1b77e1106bba461793f184ba19dd7f80'
            '09b7a86855d43f7d9bee322c0c09c1c3b311c95ba68a7d9793b796861e3e657f'
            'c5a27fd69496e24ed90b71b82c23a88e5795b701fd723d711f8ce927df927974'
            'e47ec7fa6ab417c28cad77900164245e4ef10ecb10f1b4eadfcc18b10e7bbc1d'
            'c60ec96e567943bff4b1baf820c265c13704903df7ec5f035bec6af32807a327'
            '0f4be1d12af6ae448a64625f01853208660a9e2152645a12bcc01b51a643768b'
            '1a4608cbb7611aa831203565720d0112d00048d9e8a7ead62901d9f43f2cb8aa'
            'feceb16ce57d246dfc7706266d627887e6a6b4e4446859db6a0e182088bb3b47'
            '2feec6d38ee546459d2cf017bde0a01e018ae4606cc24e6044e73d88bb4bab06'
            'c1043a90ca75caa04d783fdf9797220fe9d5609a1881c99a0ac0c52ad5d8b1fc'
            '7e764140639eacd76497f0492d6ada64999eef355da270f7ed3967a4f9ddc0db'
            '554072a7b637f21acc9796f0f85e9fe1d86ec4850db36954f430d9db34533608'
            '18a83098a9c423c679a4bae83e31b1c6611b8370a685f8f3e809418728ac8757'
            'a503a838f319380b30a50f8ba3e7a3cc8fbe90a8a06971a04846f9bf630cf71e'
            '679c2e0dfd32cf8df9b2389fb833fee1753242b909d9040d139ad1ab2b7417aa'
            '8f984c3b28702c015b997bfc0441649c800b0467f4b1d5704f33dc9fce5ea91d'
            '0f03e46e01ac869ff1339d242928b0e068156ae8e6f0630725bd83e1c5a01f16'
            '8202860e67dcacb38f869eebc11e393a7d86378277e51a9f4a2edfcc7d46021a'
            '8e143e12885858c967969e14eac0d4410001d416aa9bbb611250f48cfdc5425f'
            '269237ee56c2a0ce734ca14b39db3c513329d732af4cea6dc7afac1628f01b03'
            '20fe252a3f98b3c595f9b254ed3ed5842ccddf401c8875f3930d1e54ead8ec50'
            '257be52b38ec7846aa232d762c6128ec56e7fccb5e77071b121426be4bf34dd4'
            '93db44b6ccdcc40da1a85bced7f33393ffc6159b115cc0371f94177ebb89a760'
            'fae8de6bc3d426dc1ad1e1acee13903cf227e188af4dd16f124dcf77541b9a39'
            '8a784ac8205c94d43ec63b02e5a0d2364aa9965bb507a2f0b1dc1380ef34a7cc'
            '668130a462fd6efc3f41e466b590284d6e8e126a8d37418ecde141556dd4ee8c'
            '583b8cd3c3f4e235616beeacc95e1e3f150664d291476f66e402cc5be97209d8'
            '05d7c8880f08f18066bb19651cfb02e6ab6bc968130567228dae6c068b0a6c7f'
            '687a00152e20d747f4e63e630c1e95f2807913e0486f696e5a60e570630e06c2'
            'e90f62fac5353033661c8fc8fc67359631580acffe6e2b0f5efb8249978e1673'
            '6dc79632d4630dd251880f21768862b66b34151d1940fd9cb294a919e647e224'
            'd000f1ea64e396d02a24acc7236e47c4beb8285c3fe847be1169522ab589e280'
            'b03badb9bf2699c3013143f3f8d6b13ba98a81997a122ace763976546875ceac'
            '582d4d023dd8184a791fe8fde4d5952185066f92ba544135bcd1ec5328309b92'
            'a1da7fcfd1c6828d8dd2ff84d68c86405ad51a5a3c8a8149d928c4c05b4d53d4'
            'e559d62ba98c492c66046ef943fd4abb43be246029c43f28a0bd5f7e214cc783'
            '969fe5eafe8c85d91e908eef06453a622af561f71f352827dd1d55831d8814be'
            '5b17f213fc1ea9eec6b96777dd6d06c175714fe45359bd3ea3a15b79b6ee83db'
            '8532c0dce5cb824d1241672267aa858906b93d927d09478fc712e202cf14032a'
            '306a62f731b4b356f4a9cd136b27494b406473848101e712cb6430b8b534fe95'
            '9b0c86ae54093affdf8eb6e50203cdfcfeac55a5b6d08447ed688a08bb510c3f'
            '7e93d5a38e37ad9a07f7ce4ebea5ba2272ca8f4bc0a5ade399f15eddc9f8c33c'
            '6fd9ec060af685e1622a80034234755b312865d7449f225f70fbc9598e7ac270'
            '0aa7dd7bce67e6ca43713c62d976c5cda41b896e8e447af847c7d93ebaed787c')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
