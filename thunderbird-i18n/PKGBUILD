
pkgbase=thunderbird-i18n
pkgver=78.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('69ba3481ee2d31326b47dce9414708f9d464df2c72b13d4cfb43cf7cef2d1793'
            '9efe7e07846aae9c3c955f146d24e9bef358eee5f8c9b2436dc13cc6cf90c551'
            'da485810eda9864af860290dfdc4b5dc9c666649f88380873406894ab6d39fbb'
            'bcab460f3b2c7e301aa0958afaea5ad7ff8886cf8f0a3152e05f580822f1d4b3'
            'c79c38d97c0354c30089838adb06147440dc018b43891739b9cac6b1cb93b4cd'
            'b3369583dc4d7741a84b0b568b75fb7dd5fa85cace10dacf0f7951893e9934ac'
            '4e7992f299f8c0a7f4b3c83dea7ec854f39e25113074cd8ffd89d05dea768bb2'
            '66881e042d9bcbd69f9dee8407d9d6636823604010c536655c736d970f4b7a44'
            'e3cdebbc6266087c05c9e6b55cf007c15acf1e43433660488c166c9e7043e0f5'
            '88267102b7c8c456a2ae805d76dba3aa342a4477d2fb96aec23284e7e5240567'
            '52e73246d93cf5dfe61e8f1c1f4e928382dcd4981eaff365ca59f8defb4c6c7e'
            '860518ad2d30b2c65a3ed6f569c107798c05f4dea1bccf1c40ef04dfd29d1eac'
            'c6fce90a61876c66e6e4e41430b2cdc33e60ad9a7f1987aa03d02e0ae63e264c'
            '733effb48c28122465a8ef87aec1d6a4ff52aa2c2cf50e4eaf41e0a7d3bdaad8'
            'bfc8e98f58b677b94633220ebe375afa57bb04baf91744cf66767495495772fb'
            'ff2711988ef0bd7d503b63976aea8a143b35ebf6c8306d45cf8ab8145d72ead3'
            'b112a5211b432af9610f01b788a8c3075b645924da73704b3c5accab9cf384ce'
            'd7aa2bf5d2f0ffa5b0c1aee3ac3304201cbc9d96e0c81d491283efc06f8a444d'
            '9a26ca8d9ab388198f346ac5309a4528cdf66e4ea31390563683a6ed57344833'
            '2aa3fb32d6d25b1e425f4205f62d6481e20e642c79919ab67f7aa4e453a49e90'
            'aab438c8fd395344433161214fa310f839410ad114ab41f5142e342cc1737c02'
            '7e71ce6ead38a998a00ba0fab5ed67e831897d1a4b60891f1895bba5384c48e5'
            'fe1f726d6fa68dc39eeeaccb18f65919c6301e61ce8c08f28e6ed92833c5d39a'
            '0e82d5510020676e6456f1ce8f0fe4bc76187a347629e7fd774a497cf27000bc'
            '307a1d4d14c008610e4be62c7ec7396812e4e15a182aaa3c6b948acfd75735d0'
            '774977180ebac520f9856245b2406e236169bf1cbc965b11feaaa72ac6bb0795'
            'b3bd89dbfc4c35ea160be996bca1459060ffac26580e8eae057ececb9e7b4d8e'
            '3ca071b7187fb134020f3593588e4eb00b3278204f3f369c1af788e5616cd6f1'
            '53dd4f023f99f83856a21b3df96e449db8bad47bfdfe4109a26e3be5a4f0b272'
            '4de2d89818d47471735561d10d398ed3d8a91a7082cdedaf288a562373c97a03'
            '3d9a1225f96068ba76b4d1fe61cf66c30a9b7e5513ecb7bd1cecf6ae219c371c'
            'bc0a0001ad0bc9e673fd7691bdf531cff4f5dd194d4f310cf5ee45d888b04687'
            '899c8a64684e40f0a34e51ef94abac8ba75a8dc0d1c524339df56a74d70eb38d'
            '37c4c7f1ef64527e5eccb7fbf504a60b27721dc7d81c196cee574db0e66eff38'
            'a5c0649eb817844622d8c77fc2397a5674b1f9698f911816feceb7828ee73a7a'
            'bcac54243f66c901777cf961003b53c44d74fa84bb51c8160ee98b5a9d2cadb6'
            '412fd497d659f810f33e1e9c52dd4d7b9c4b6c6a6b0c9353fe7c8cfbd77203ed'
            '1739205ea6f9d82be2a9d3a72f6f29274c823e0706fdf1d8c3f7e37d046db287'
            'f956c6c0932eab1936d92f884c378d81f93b8bfe7510bf80cd160f91ba4d68f0'
            'fd839dd5d4626851645bb4301aff6d1317467a3faaed60f197b49def2ec85fe0'
            '39702a8f5b852b90c589d3dcd77f3b5f1e981d4232e38199b2c424840c806460'
            '1dc7de2a4837281d6b3b60b8ff7c73a3883ed64d4d62455cc1950fac113664eb'
            '6f1138432fa83196da15ff2150963564b9280f8ad56c4827bb3e10f484589a74'
            '451567209653aa726e35042790e3e661c04570b80854293bac8fce8f4f5cab77'
            'f7db1d4a4a591fad65455d1ee13fe136a58b9d12f52d297024a90fa5d3ff6544'
            '22eacf41e4166832766e7dd130f0c02c04177ffe1c6b2731a936e68e369be35c'
            '44221b18ca8d37d0c7b500e70832713201135457f37304fd59bafe311de84e72'
            '89a586588cc64fab1e587368ae2fd7961b7a8a5182cf498bc52dfc7783af52ef'
            '82083104576bcb4d2e5b8329da419cd5ca610361cbe19a51f79fd695df6310c7'
            'd8e1f8c6b3bdff14ecc3a21a5672d24c7c11ea30cbca32df5eec27d32cf05d2c'
            '3fe2780589a16a4f9ebccfbf32c9262f0764894a02a0fc1b5494baa544c2cab2'
            '36f894bad40c0ea3c27e9c45b2123c797ca04768ced8239398feed0194702892')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
