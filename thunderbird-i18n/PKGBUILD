
pkgbase=thunderbird-i18n
pkgver=91.1.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('6a4201f03795095f02d418f55a533b491a1cd6b97788bd4f7bbf9bd83eed1b18'
            'dd2b48f56ec4fd9bd963236da49c6be92d3ecd17db0fa77a24a37dbede670403'
            '59efe21fba90ef48aa723e0a4e322ba967ea843863e3e04e24f89aeaaa9ea52c'
            '286683e4312141a795b93ff252b80cf3a41e9fedd6dc1dea41bfa8dd15ac78a9'
            'db3952774ecb4fed5563f35489c5fc0a37df7faa45160731c135a819c4bb6fa9'
            '5a64e7aebd7a8d2fdad83b9e586118c530744421242bcd896f0f10dc08b93005'
            '31aa0f8e655783ed950bed1f685364bcfcac549098effdf9490e2e4c699581d4'
            '1d2b2a66036ba773fafc3037085ed5efa2009f3e0f561d7eab62cbddda8b2086'
            '9502bc69d66f9b9dbbb5cb9224292acf99d8dddfd6d140812e79c7d9806b4764'
            '4f434e322b55950363f3f8ba597980c4c5bbf75f4ef84f89b171405cc12b2fab'
            '164e82f672e409d28c6fb63a0be87c4a0fc9f33ed5d67fc332b1addc66e65eca'
            '1a3f9a9c3f83dc505b935f6ba6800c8260f4f92f7e97f0bf1697013a2da3bef8'
            'aeceaaa62bc96f3263226c5daac53bb8c349d7f504a1ac1fe2fd028d69950e07'
            '8e4fc977fa1b24d4c787d0fc7b12d30d5010d176e9a866fb7cb08b338b37f005'
            '651565a19f69e48503b89165c118e193d1af9bfb3b9a4f65aacc7e591c32dd70'
            'd51fcc6000f83041f8e375c1b23bca5ceb7f477979e8b53fe9f39d95149d667e'
            '50386174dc32186a4b3ed47dfca071c5dc0def77c27b8621fbe9878b29858233'
            '32c5f5d1885cb04890dc21e46806cadeb5c026ed7a2845b8bb5d796fbe5d0f32'
            '295cd4f8ee882921903e2c9ae7f650139f02cc6b2701b15b9b0efe3fe2e326d4'
            '59daea7933df9c1398671cc0ded066beb44a8302ad6eb76842b7b358c330771e'
            'e8d547e0a814f5a156c5c32389af9d08744cf21ba7c71c2dda55667f6cb126fd'
            '0fbad493f7144d81f700a568c15e32782b05c2eb631f8f5d65c73c3e97f5a131'
            'b2574a1ec5be666335b84e8e2f7a1a6d52a81bfb9f57f238c2c1831ee0baf8c7'
            '4c285a72f366e253987035d7d8cbd5e4695da5e7f2f813c064cea83790bb6c1f'
            '59f6e6d6d17febb733fa449200c18c3dfb7042b44a64fec3b0eec94ccd20a370'
            '3a09e4355e5c120238ae154b889f45e5ff95e230868f352d5f5bd1d2bd9ea226'
            'f80ebca7fe8cc6f08d5bd87b609f8bf009ef6e1f4609b9e17c9edffe5f453ea7'
            '0fa5fd87b9949048ef43bd4b40d5563650664bbbe8fc76299e20d4e6cef79497'
            '5b75936e36509898a130aa62c0cd31fe6259b1d45c117f4afe467b4443ee345e'
            'acb179ede4a80e0b8fd1417643f7b2b133b08420cc5f95040eca3519158eccb4'
            '7ac4f012da1edeab8c98d3ba67c738e663d22dcc8892c0e08e5ffa3824c52879'
            '2e906b94b6ff641daa4ef997e186bae44fc010dc56c156923c559bcd9dd96124'
            'e79b0e8a330671eef76c9f5b094f1cb75ebef6221d9e7588267fa708d174cf15'
            '30b97f0e4485d973d5668047dd0d49d9a6eaeeeab42aadc42d785854431094b8'
            'cea3d933d3790ec35a534ba44004df9c0fee94228dbaf002dbbe72ea71bc9eec'
            'db59ee6bace4fdccc5ebbd7e117acbedd94cb19448dde3a42c3a9d15f2d40306'
            'bef197d511101556a24be3c8335511e02f6a5baf654ac91327431436afb75d12'
            'dc7474ca692ae2dfba49a946e0d8fefe829e82d5aa6f3a238e199c5719f7a8e0'
            '721d50f990000b40d2ebd588a7d20eb8fd934f5c155eb6636d43e455ddb9896e'
            '51506da4f4be12be6f5178dab1631f37b181211214121be1356186afdef61192'
            '59e2205ac0305c3aa2c53a4e74c1b577218f817b4b783cb30176592e15bdd185'
            '8103c31e14c7b1711ce0d009e9b295cec98fe37d51598d643c54ad864937bb1c'
            'b64899cba1589ee52e398f71f80c898d557ea8507535681095a89ea31137a673'
            '6f1f67f8ed7c8853dbcaeaece93d341d73ce91cd7cc4828c20a3bc3b3fdaaae1'
            '273e3e34d288359ec2768474d28ec6781951df16f484190698b96d4e4589d260'
            '07443399fb8f4953d29804ea7ede299a083105bbbca6de3fa851b9413bce1bb0'
            '8aa9876db4b90576bed263716ba4df93607d1de1872e772933e757315c29342e'
            '7174f03bb23027148b70185b51d2bd6b2a8e0bac4fddef528b18f5afe2b7304c'
            '5e71f4054e5a1ca9d1b9b8f1e5e43496a23be546ae448df08216c2734f2f779a'
            '829d43d6aba45a8da18a5881aa22820506d244b3217e3110a688715264797bde'
            '0d8796ba97bd477c207385fc64e3439545d0ba0257919e9c9cd9a0d41587f54c'
            'f55fb317403befb96df0f3a4860f627a96ac7f3220b851bf186f63c749800ad5'
            '28cc151fabbf01432d89cadaba2f1a3134e0bffa754a297734f344fcd44b68d8'
            'aabebee0c5fa9804e54513c259cbf88b2f21f5676e0dc392e250ba948c7fc642'
            'f0082ec517a216b6efd2a000ae93d4700a109207c8722b80441e5b38b5135d3f'
            'bf094c78ae458255fad2693530cdec77e47a432aa4b7d9ba608b5b593975d7d8'
            'db784763d0672e92e672c8d868fde3d87fe0c6299f1f25d83df03512e1290f11'
            'fde08747ac23aa1905ee94d15be50a3fecca81a7ae7baa40159ae7e21535bed0'
            '84e545e94b379110e4d975e60b015ac7accf2f252f74b9c951cc1e8b625d34b2'
            'ad92f801ed62adb1c898a39696b0c5100aa7a17931fecc1ec9ed58352775ddeb'
            '86a9740786ea1237751730ef909f27d03c1d64b7764e02a1057ec2499984cf62'
            '1d200ce1409880e957164f1cdf2420eadf937458fc272fd453848c642813568a'
            '32465834fc13c5a409a0766b46fe182f2101dbc5db784a238fdc834ebf1d6259')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
