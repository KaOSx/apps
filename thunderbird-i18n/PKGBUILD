
pkgbase=thunderbird-i18n
pkgver=78.0.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('9593700f400be27facbaf2d6af6bf37de8a0212b2ab8d0651a802488bcbb346c'
            '8ccee9a76a4932208eb8d5e256555e47ced00d6fc6a9aea1f1341ccd0a38d07d'
            'cf343edff8e19437b977c785e3eed37b3f0ec227c1c1e70a93e31080b1cbeb6b'
            '7b925b7a612d94b75ce72d9767507239be6cf903a1c368ed523c7589544fb932'
            '6535714df5d5f5b7c6a0c6377ac1ff28a10f3c995d53f7fde812d665ec4143e4'
            'fd87698d36ecb3fd4039cc1fd877ae3e2c829863c4339cb681cee110b169d4fa'
            'c7f21dfc370a0b844ae60c3b0f0e39e22a09a22c7e2184d8aa82e920837b104c'
            'c58a11e9d228ecdc5a975a49e0753a59adbf3ec3596d21146b0225b6874f05f8'
            '5e16b699f8eb4c5fd947ed29e5aa164f3aa2791dc9e6fc0537ddc01bd057ae3c'
            'dbb40d0311d7fd802b500455370519319de05490b8e9accca1207eb82eb40063'
            '2de5b6ae4800a9c39852779e259978e4b326ef819d12624052eaf5c34e3a9f7f'
            '26767c421b5520ae713a34ffef1ca2bdf8c758a3ef25e0d645bfac7f58bd0bd8'
            '747a7efa52e6e8daca423299f8864a6baa1d61556d52c6885ce38797c53231fc'
            '72884fd7ec83ad3c2821f278af034999b26a01f60f2e36595731bcbf22afbcd5'
            '5b82d7d37dd371ca1ecced21bf1e15fd92f21819c0f4925a52f537b21b461e31'
            '9abb23147de4db72b78fbbe6d67c684fea76cb53ef31a253e4cf4a99e6ee54be'
            'e44531e69a538fbe4cb03c6f99cd2f8dc69c8ab19ad25bb0ea82c545fba2a8da'
            'b12591641f1046104118820c28830e2ab288df3cbc93e28a123f54025057870c'
            '677e255766e6a189c35a25a4465ff708444d046d4db66371a00328fcf3703cc8'
            '925e1af06e4b69717dca52814ea22aff71c479fcda801ff493146bf4ed3729dc'
            'bc91e17d5f732aaf35bd99e0c2e5b8a8117c4c8b3626964c6eaea82cfdedc495'
            'e2b4b01ad406105d3d2d2cefbda27a7490b4ffdcad67b29dc4476dcec1d30dca'
            '2cb1219c7c46490bc55acb678437872257c7f558c5a73d2b8bf826a5b58f15e2'
            'da89a95a53ae0855311b803f88c0699e6a16c0e4fd320411c9451ecde5c82e68'
            '8743722b4b03d7ba45451afa18688197039c3bb6b56eded16a7fd85bf3b667e3'
            'd38689618187d55b2ab291f27324872ad93ef8a004493c029b11dcf4fe48893c'
            '479db89902a55d8e9aea105680c7054e96e9fbc816a1f7850c779a139fc73a56'
            'a3bc3fc11034b02cf2c0af803cebaf2aa2694548eaf445cf2c383a61e08da658'
            'f84ba0025967eaa61985286d30ed2c4748d5a449f6ae02f2f8b3558e4ad7a378'
            '260aa74a18cc4b843005c85ed50c41f8c4f6faceb43db15c8feea42f92a04046'
            '371027718d5d8be6310da3524142f021c607bca078f3a4c84607e242af4afd15'
            'b932eb06f9db0b2475a5fc388d8e293990478d9fab34e05b716a3be562d54629'
            '41396a49a1d2087f9037a0757698db2bf54c2b37070c925f436be833024fdabc'
            '2477e2a8de514d64ff5656bbf804dab92965a0f392ad9340a0317ca79f21acf3'
            '778ad6c1054aa4d92008140651b8b8a28491be506eee96066097c91f47ace4ee'
            '5a7c2e11a1d7ee3d8b3bfbcd97bc85a0e8c88e896510ba099c572f6e5597eae0'
            'be038c2d99d922fe90126809466fc734feee44e9bd0df2fa12bf854ede9bd5a3'
            '6841897aa5e399452e9690b0ba24ff6cb6d00623f268e51e0b90f7081812a8f3'
            '7b615cde7722143ac18bb7e30d5c053928133339c5df20e9f8476aef37132058'
            'f08fb5c0e57eddb900cf8ab8a01d3356bad5dee33ffb2bb7d6a3ad10cf6216e7'
            '03f90aac67547b735f6dfcba748b1dd842ed94726816e7a4847620235a9f7c2c'
            '55297bac6bbabb1fa17be3e43bf02339644d84d16f09c26512a67785598b3c65'
            '1db1dc46738070f7adb3b1c6cf80c2d1380a24c8c2f5224d17bcff3c76046e26'
            'dc0d2e0875d066f84d80e8724a0a62a3decac62184916a9484fdfa587ff7222e'
            '017295c90e14c954f4b5119c3a5a02ab9eeab93ead341c68b9a80db913dd343b'
            'a10ce516707b84bae9df5b0eba88c4f227089e00637a610c2a401d43aafcd264'
            '89a3913ef38c121392df3a6632f1af46a9ef396cdeed1ac19c90d0abef38af92'
            '44bb40ec23925927fcbceaadb2fa631cc6ffc1137f40f62979d5595c3906e240'
            'f04e317a8d78ee0439717c1e11d5b84d4f5a52aa9dd9dec87c87ce20e070c5f2'
            '6a802c5f31ad142d2d40d1bb2c5d588a0ecdf46d2ba6a8c28f8094f2b6e161f4'
            'f945d372cbb61a77482865422e84ca4900617559ef7f4798b6e4137be72ecc68'
            '63ad633d6cd31b73a367d2d03151eeaad5dbed4ee584d2444041761729dd804a')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
