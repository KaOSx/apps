
pkgbase=thunderbird-i18n
pkgver=128.1.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('bb149e6788f46c784ff9511b9b00f7a4f38095fb86c6637b396f639431795c36'
            'e20a6633b7f84aab3c78e3db4defc88fff8328c1b31d6f3c10b0ba5c41632de6'
            '8a31d2c25421014117ab9bf283f7e1bb4b7544a2a4812a917908b9c49135a056'
            'fb3c192122c6621a02333b3e6910529823dbe56f9e2939504daaf43f6840f119'
            '340849aea6392251cfb4006296448eef3c80044dc26ad4d565db7f42b06c69e1'
            '7c6fadd6c4ac2285a9c9117e26ee31880cf239e4f062f391c23dcb84ff7a273e'
            'c090c734e01de77b2af084db67c326aa3450a381d65df22a5e905e468cd34c81'
            'd24f0c06e74d482b887e15e0a94cab52d87bbb8e472c8eaac8b409f88b81dbf1'
            '5aa179b5e6627cd84148442fd02569f6262adb0ae3fd2c288daaebe8958a8087'
            '8d36a5794cc7e7821a951be4f8615b040d23dd507a6a0b4accc4d4aac054d19b'
            '52c9ba6762081b4f3e34d4c9afdce01b0cfacac94802f7e4163398b3ad3002d4'
            '8d0f95be21c806b42482cc7bac62f7f0d0de660ab608a0041280ecf2dfe4af6b'
            'f3ff6f2f711aade5002dbc6e98810a61170229f9a5d13e26eb7569f198f18f3e'
            '6240a19f48e74451fdf6f512e13f408c54aa7bd9ee5bcf82f9a83fea07dcbf7c'
            '2fdb9659d1f8e98b29ea64bd5f90604616ec54ce659af6ad8261b3f0b8ee7ad6'
            '4d5aece78ba24fca1ecb8ba40e4aa82824c55c79a18cfffe01d53836a0c42564'
            'a3674ab642467d3279019cc8a90279b87a84244037aad558938d74e37c840023'
            'f2235693db6036b908e4e75a0e7e69b9cf50c01e19999c7b023200535718ce0a'
            '996a2988e06a541679e3c7e895ffc83455df63c36af6cf8c74f66b8b7c2142b2'
            '5e540e1edbecd4f32de358d16dd3cde1c1ae9fb0f0d7984efa200ac993b7e5a7'
            '517937d02f80c06e3b00d3ca93fd8a298bb7af117eb7fce378c8197ee5cb86ff'
            'f9e6b0f728f290fbe70ab430f1c57a242bff1ad36181fc3c45c319730cbc4751'
            '3aad43c80e0cf5791f2f78101c561c808fb6dca18b93cd35d99ec6509d6afbd3'
            '64821549916c81415b54e6e1f48a142c89b8e2bcc560f7b7fd38a577fb83f623'
            'c89236d1e51c51b8b744f2f1ede702cac6e2eb7b7ed2d4b3c98f63490608c46e'
            '35d8dd93e97e38e3732a77bf66cb539ed7c9f2c8748b0e344a94e42c16ffd379'
            'd73956f339a06ce72ee8b5c9d63cef8aca5807c288145450a28c787d5f69ecf0'
            '9bbd06223989053574fd7640be21205558966ee3f89d287628d8c013359d51f5'
            'b0c90c324de1e5dde385e110df896c05da82ee28786bd34501b839758cfc1365'
            'c6ab3fa250e07f8bea500e619c6fe9fe81f70d6cdc1e814ffc6409d8fb770570'
            '00bdb53ad88c77efaa84f40e857de657be0bd69553624ce54e57bfa7926a527b'
            'c703a6a4727cad16acdb4858ebae677f741d1be746d8f342c94381f75e100acc'
            'e39107d2a98a77b49cda85799658a54e697f4cf07f13bebc26eb4e740ebfb10c'
            '7e22990f2a6a968f7b580773afc1d4061108c654ada2caf9542475131e8b663f'
            '1c3d884447cc22b9e9aeab78ed73d7da2e228be4c27a1623bd75cfd005b77487'
            'ba84a9b203562d1680f608c48ec92f026d156c3c5d10a38ed4435b11010dec70'
            '35192922250f833c0ac676c3a94333c9f6b713b961034528fd298328a6d49d6a'
            '0764b7bb5d8afb8d5447f4efe653978e754e1c1bd141bf724d77a7fe8dd62ae2'
            'a3805a0eb322008b5535aeff90bbe862db53f3d093f6ab1ff4249b457fedfc4b'
            '6364a471080731ffe39eb174793caeff82f479b07487639b7479a127f356e83a'
            '6dd6da1a52a09d74d2e6b349dc0eca4440b4722723abe7ef8f8e742ad9890be4'
            'ed92aabe3d39a5f1fff91e5ceb74119c7cf9ee8b143e35fb8c52f08578f467a8'
            '25604b63db9a1226832a7ab282893eddadb4e5ad27ca8e7cd01140489ddd2f0e'
            '4feef78f869cc8bce434cb612ffe1040e30d7687c165981359e60c5b6a732ed9'
            '2d349fd8201b60a571be5a1cef42f4d28322b06b652c754f2a00bece410a8843'
            'f62a34153c833953dede9a3fa16d5a361f4c40d4d1c0d7996bfee40a43e38db3'
            '4af626e769f63ada5da25ca7e0f2b48fd188178b800ea30218bb9d5577178269'
            'e81a7ede88f172cd764d66f1348ca98e5fc63c338540601ad45042ec274c438e'
            '4d885691a12b271e8e274a9526cba864a4012af5f49e74193cb520246bbf54aa'
            '07a283b33da76e50e7620f19050b1f08ca1e14a7d849e790b32e1b637558043b'
            'c2b336b372b2a99e5bcff0c1491bfef0526f5b6fb70a75814d4cc596743d301c'
            '3064bbde696cb664426242cf37457440a542e0eeaf8747dd9a30dc2b11c24b30'
            '03654c0453d2971e1db9f01e403dd2eeef14043c2ea8c0989c48fee66fc7fb8b'
            'adb97a0e5ffbecdea4e3c1ee51f0b57598175c860469fee6ab8bed14dc8f739e'
            'e7439384a2042d0b026dc93644ef66510954026bbbde676736443c740daf416f'
            'b5ffcac77f09be5220a1f83ed08b9f50aaa1ebbc7fe65f7d56b99650626c716b'
            '9351fb808737e44d8bbf30d246ff5566c432339f3fdf4c26623df56787ffb8c1'
            '9c4ec16256276c88eddad955c912605fb14ff36918bd6417b32def0e6dbbc229'
            'd22e91ff76ee75b824db8050aaa296eabf8d5c50b1f710a7a68edce642576ece'
            '56f2c17413cd14f3b8f7706723ce07575256d875372f890781d02385e5930466'
            '283de9ce5071d21381673d1a053dc753fe00962f92527bfc37a8e9dd02cbf234'
            '1d42fe707b938295cadd0381a6ac3778e198d5e0624fe3092044e2026abed1f2'
            'e8b4977e82bf6faaf63f8452e28fd830069aba574755cc479570db23ad4ccb1f')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}esr/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
