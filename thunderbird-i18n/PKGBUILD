
pkgbase=thunderbird-i18n
pkgver=91.4.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('4e4fb559d5ea096ef3752d58985acd30c3e45e6becd2f2a6e2973f52c59a4614'
            '51ca53a44744fc1589f603aa00779b52f6e9adb88cbabed62117965db1fe22db'
            '6ab39070ef208360aff29fb48df22dfba0693225377d67b26509ddd99cc4e889'
            'e8492b77324290711dcb4effedc9247a7ab38a320c178beb9f39c3c0e71c2992'
            'df8b29934ded088ff440deb2f79ae230e9a44e9e57368364b14fb094d17d4936'
            '9bbb44c91d2eb2ddfa6349f8815070d10a6d50d44095efa59c51ab2ed115ae01'
            'd8f99cb9ffc345f612e0a537538d03ae8369c435cf96c35a070ec141b02cec05'
            '9e7b2d1d8c1daab6f08eb0500471deb622cba59865424d127c90d031ae324196'
            'fb423cfac40a2e12c9a2e1b3b47dec86fc6e3fbc79e50b19c08b1d3c3d963481'
            '5b7459d944135a3f04a153587eeb66a2d4ec6642398332c1cb10d50c32abebcd'
            '9700745c9047deec525811f8689acfe8369d7fb30e5e13a25b1bf64038cae433'
            'da54d25d146fbf3976b242318cc3c50de120b9b794835f7f0ea5a234fa9a75de'
            '6de7855654289f88b2335aaf2324e97f920684d733989243ab632da65098eee7'
            'c87faedd0095df3eaed3972fa00ceaf9a950d820c74d9e0c784af5e3d2cc1043'
            '0d0c2f56cc8669966eba1958c7e0fdd25229dd79a532614701c59ecb95047d97'
            '63f61e11538a4d205803295b8c8205a503fb0cc0ccc9a90cb1ceebdd278fd84c'
            '2e83ff3422d00fcb9ed24a74c0812143c4b7a039bdc9c4a3a0d1091698ba8ec8'
            'ef1da0a5c36935cce7b8d991ea16ef25b50bbb5e2364efa351353a402aed67d7'
            'e3d22ae23d90115a52d6eefbbbf652b0ba9915fb178fa5e10c303e0438d06e51'
            'f618040842f388f7e60371e12f0f460995fa3d1ac48ea19f4e20cf44b99aa73b'
            '1149686e014098a235b06ed1811b2c9982e7e0c956c86b69b57391ea403830d2'
            '22b352ac153b1b0f27210050840b546d81e04822c3406737983e8b2d7fd7ea82'
            '63f0a75d683f143e272625018fb12bad1c9e06921c1515df180d461f7fb550bd'
            '2201ee689c4f82a68f35a236448e331f76edf87f9b9cf751ee2ca4a13910906c'
            '4efb2f46a5faee9c4b92e0e13aa532100c277a620e988b0138f205689a78490f'
            '66532cd723691daae57b645e3bfba2c045e6a5946bf57b4e6f163849e64067c6'
            '8e215bae732044236d69badfd415e811c3fe51296dfb000270a154939325229d'
            'ee69814d627e1f726500f33a892ec9d6307a2d13f7d73981c0f72aa219c2e8c3'
            '362c6c410c3df9143d4c989ff53ff3901c7c9f2af1984457f1b0927cdc890ac7'
            '29e703672859df874ab4adfcf900a4c2db71cb25827c5b204ce072f27d0d1d9c'
            '5f8b5f7bffe8e098775e557855691ac25bdeb4e217c2c5b1df3039dd5b41a5f9'
            '68f50ae4a982cd7baeb2f212e6a5e9fb3f91210ad5d8e707fd13dc234c09de68'
            '0e3ede78220b65319cb5d89f0da6d64e78c630b8f6389bd04e7050489a9c0409'
            '4264a8d6e896991d91e6a1dafdcfc4aec2441e95f1ef31b79e44a631e690f053'
            '2b07674b2360af13ea455828528d64e32654eb4eeb93e7ce78253ac247447ece'
            'aa84720a25fbf99b3226cf9ce1b54675a069def12ca2698909ed6f031df53da5'
            '14fb41242ec9ebe3ce7e65ace92b942ee8de67b244acfcb4bdf3131cf801bacb'
            'c7e4bbc3ccc240a84ab5dd1f45d624a25e6e93ba7db50108e12ebe2c109dba67'
            'd44e719a4721826947cb49efcdb07be22f17e3987ff553ba29f539ac5288bafa'
            '8acea01cf24692e58bae966b719003ab66a569c7f306e794bb779533e8e44542'
            '4ec88244ee3d8b4e2a5a0e2274f324bfe69ffb0046ba0c7c1967fd1f10ac60fb'
            '591372e2190ddfc0e015239425e5a9c1de5831a6b2628515d2613fdbb55ec451'
            '62bc5190fc01802c79c8147cf4d2f1633739eabc7a1f4e6970ad26df0d1e79d4'
            '8494cd7d452d5ce7e7d68ecfb2adbfdb4dbd3eae545e7cb18d98c1159dda7a6c'
            '3c2e6d730f526d4ca455c18a48af120fb82448f29c1e94b6409829a7ae6cd9aa'
            '2cb31b34856dd5ac1615e553d1c6f850161acc66acbac150d2e699fa26262f26'
            '86fa43529df02d00d7931c05a9a40472a31fb8f06014944e94f1c6cb17c3b66a'
            'a2de53b46e99b36500f718ab8ce16af44d56f07a1da0cc49737e52ac02778fa0'
            '8a01e7e2a6ee43925839fa45c4bc5aa29928f32120aa71d63ea859fc1cf70f6c'
            '22b0485e9c964d1343ea697a4b81b8e31f27f5a4e81de309c7d7e7551ac524ca'
            'e9347c74d097b3e49fee962f8c623784da4c4574ad3d85926f6ffe258823af57'
            '07f3275d1aef91dd8884ee2bb5445c4a3efcfd35f0de8b0874c5d04e55e4b8d4'
            '5c9efe7dfda289c6300d708dc7114c82bc039b74b1b0de6bb28a9d9a6f1b57e8'
            '5f560d17f2075ca597807cd772dcf9c207e9fe47d99aec883ffa8b0fc357fd8d'
            '7a44148f14a9726b01caeeeecdcbc04fd32afdebd2978b6389e87f5693c643f9'
            'd3fb0d1e6e5d74f7ef36cadfdf5c17283356a77ddb78e46d3fa5bbd846579d09'
            'd476aad8d4de423a34dd4af2681ceb9ff2c0fd0efcc5a05b0312206e08e57f9f'
            'f22b1a24223989246b331d8736155f2f9428e42060b98763bab7e3becf948fbf'
            '5a8295a9ca660bd54c456a85fa7af1ca5f7dda5ca8b90e67ae7073b1e0044ee5'
            '0ec35cdb3a9b4d2edae4ffc87ccf57afe47cf575b3f3f67935a2c3587ec33d6d'
            'd516e94a6933ad7b40e904cc5ed98744b51f71be67ac5e9d7116df2ed304fb50'
            '022425fc9fefd927ad02622e2dd1df4575ccd3e3481a56f133094be27ccfc02f'
            '2062e79ae3349bb4cb5d4bfd10d9d8c64b9d8351ca8ca0548f53a824b5a44d0f')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
