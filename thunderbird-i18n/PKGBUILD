
pkgbase=thunderbird-i18n
pkgver=102.9.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('a4203916a95159f50ccdb59893436380b11533076296164dc300d029c8737e7d'
            'ae2056fd72feaa3ef755a9adc3bb3a8cfef5017a9b0e1f9425463d25c7492f6b'
            'c71ddffef11337f7270509396fd66d40a401c226481d8be9fc8c8d0af46b1286'
            '2ead72818f4cf7f12750d3583213807e5ecf119ff4c8b28d9864066f2376e319'
            '13ebdfe76c11dbd509e36feda1290e9e8053cb21f5b23d4a4a40d409ad0106e3'
            '3fb88d542aa7f5c285b94523995a6c97b89d8528a9118b6c23fef43b0ecc1230'
            '6f3a2ab72585152b971950cd1e507194362c7862d836d851c23090b82bc0b98d'
            '83323b26873743555659522d963345b47113b5b78f42d14e492a32dfc267012f'
            '794909b429fc5d3ce315d0ce411402e5a42575c2c23e5df69e295780639fb5d3'
            '4cc8cfa658b5f70a1b60527b43b71a40bd6db82c621d8a9deeee7208b1d0ae0e'
            '3fb8ad24aefc452f83ddeb68d57aa5b48b3d14dc9ff6c9987b88e7a71954e07b'
            'a3220b4f78f34a8e64ace8460f4c163090907ef991dc235d0a28088118f0c387'
            '817f5cafa45116368e5a1f7da045eb3ef21c3e9b5a3a8fbfde21bdd47ca4566a'
            'f75029ef293d136c16c8318457f9b0a5b7b1fd4f63318d0cac79bbae094a59df'
            '745e87aa1a7002a5f4ed52497c83a3c002e105dc9d3e6d85a5a7f0e5e6b73a22'
            'f9fce565cc1ac9cc3990bd16f23e35894551dd78c50e85c615cc223673155a37'
            '8baefe8e3b03b72e20bde39efd804f4c369f269542f7f0e80cb4df2f9225fe4f'
            '66a57e693af041e7c156557407b663574a5bd9fc65747f838a86c6313a437532'
            'd8c6772effca3501ab8b0e776f7cb3faf34ae318e87ebdc38a15f4b38c88a9fc'
            '9f6b18e3ea46b2455f5d8a4a4365f1128ca9669eb35f1f539dc173b1f981a534'
            'b6781273a99e70f72c0482860a5c786b83071b1204387fa4d2fb2c28a0abd99e'
            '9ce65ed231de8e572f553dd499c61b1c9787472cb01baa549bc6f8635f9a6698'
            '39cff5b7fe3e181aab91a2e63f1659e712c01824fd919564979ad05c9a8a88a1'
            'b9160cec2048fb00016d999b32744e919e0e39bbd3ffe611f4a42fa19a6e43e7'
            'af4dd955a547bd7a8881519fa108ea4c4ba771b7ebd55b990717859431d224b4'
            '03a024f5d0c108f4a648ec1f9dbac67bc310c62ee2326186b8455a8efe800324'
            '63417efe62913936a04dc721c298c2884d29e48543647354e5b67f54da94844a'
            'd66b55acce47e0b65ad9f42823284ad9258d6e36cc8183c6746476bde877c729'
            'c91793ab2acddaa16e4f6b8d37f050bc200ed87cc6b76490f09ed4b1d7f51a60'
            '9ee8c65f237ea4396cd20401914f4acb5f2bff6ec473a1d65b233317a0928b59'
            'f458980491c021b1230ae8e8fcf2b53d7926e8dc80d717dfa6b8d09e741b2c84'
            '8e5a6f29e0ecb7fb062b1a5800c90581562f2f1e50e73e886d97b68af9e52524'
            'c958cc71582a569b1ea4c60c979b8334886b6c16960c9febace673a3d4223beb'
            '9f8d039ab3709aa3e2a67de43c888db96953b511cb120abe122e2d8f58694643'
            '1c99db1baeec675d280a4721b4c1fce7b3fddd8d460ddbc768626124ca687aa3'
            '7c371cee52801e0b655eed82ee3eecdef415457246c58c78949d68ca9a91dd2b'
            'a923dc994e2c1eed3123450da1f567d1e28bf7672be707ddb46a086ed5aeb59f'
            '0c49b12bb66d58716402ae4d8b58250ffb2a359496ccc5549388a593e5ac0874'
            '5b41f7958288298897b6bd8970233ff8076c1d4e59f37ae5f447a3312fedd7d6'
            'b1fbff0c4db0ea6dc49a9c7d3d729ce3e2f9c9baafc6c328dd043336b92ba1aa'
            '05f712aa33b5191594b645ad0f3cffdafb2b8e51a63c2b0d808dc1cb9fb1d83e'
            'd41bf97fbfe615897ff7306c1694c955b43cd097fe4458a40cdcf1328516b404'
            '46cd6d383de731eb6bda337db3216866b17b1e9e04db3dd83ff4a443ebe5a26e'
            '3cde27675d0ac8085ba7944090a485231a9ba297616f99569ff15e0c9308f259'
            'e8a7dfd344ac930da2e544f85c23fb38ce0ac7362b7fcd17fa1ed462b04ae911'
            'adf2652d05fd5656d89f63ea8dd965c950a69453ab619760c9d8b458930898d5'
            '3cca147ebfd860d74a29f2a0ff07e5ea90417f148976143d115841a45002b19c'
            '9ae004bbc54d31e6bcabb6ead697c5799249d308755b5b4fb0deeae8f6a4b6a4'
            'ddb7de15db1ec0f2015b6b89e6a93efdaefe2ec5477537ca84909809bfcf3628'
            'cf40299ec7efc0a64b7a0d431ff9a0801362d28d16ea8966498ee5c6604d1e70'
            '922868d532663ca44dc47c9836a708bdcc84f4bd734c84e6939c0d0aa7f9d103'
            '8ecfe14b6b74a5fd6f470c28f13d6151e357ccf31a2fb1df8037e6b7cb41945e'
            'd89d44969de4f5710bd4663f01cb830858a625b06029aced7e1623848146029c'
            '1b6b6258d4926a41b33fec681a1e450e94d80b875890bd90e862ab0bb0de2537'
            'd6d5fddc4df97f3014590c0536db9302e6bf179c840c2512c7a8d607abbdc77a'
            'e6fc7c43c989b5117bb9b34971a699c38118e98b7c0b180321920adcf6191108'
            'be5a7a261cee512bb92c5e2dcf216043486017771f8181375a9e12ab2d2db8d7'
            'de5715610a907f67e6f97524b8a046e6ebe34011e1c92748fdcdfab19ca5c6c1'
            '19da71341df3ab53c0ba611892da7ce0a52ae2fc6ba41056daa3f1b81b665132'
            '7ac7dbc5afcc745e531e8db0713a988da0ec2d68948908450b422d4ee139f208'
            'bea4a839dd2996599509060eeefb66d27ac7e9cbd3aa6f463cb2aa9344196592'
            '646ab75757240b610eee97db0422991116a1d61ea2e9d4fd03f82128f5bd76d1'
            'cbfe44f028e93846bbeb66b592a16e39d87764ad2ea7102b404e3fd888f14c86')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
