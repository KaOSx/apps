
pkgbase=thunderbird-i18n
pkgver=127.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('36a2546e1c542aa7f51a9bd010df09a4ef1c435f983e8f4de22ec39be954daa2'
            '6a59028cca3ed28faa1d312dd7288e4a9fb76515340c9ce22f939e6d325b384c'
            'e8712049b16556fb96f45d061c5b4634ce2e5dbb3768839d3e916ea7673e676d'
            'a10fa37dfae4eab114fcdd5f85734ca295b3027f73cc8ec2937698561226e527'
            '3840f671b0a6be4e10ef8f0925d7b7ad9f9e6f5f5970340841b97b0365cb2592'
            '44fe4f3763c0b47f5848ace996207f7f1e347f681a3500b0fccffdb0e0cfb2d4'
            'e288a16b9d5294553d94213c65587f4ac26cb7e6d696cb7e25d6aec885fad1d2'
            '14b4149d6a9faa276dab102d30a5a44213483d2378bc7a17caabe0deac61f134'
            'aedf6769cf68299d020365ae3da4a9ac7feb9090019cd29b5193ff213a6f053b'
            '43e52d99c8b2fb4b72c8ad8ea0948025f3c69e75d096cef44bf4670ef4935176'
            '93deae99e0e43f53b121f7c38b6876803e215a37db0d6a009793407f726d8e1d'
            '23825d393f2d14fb729814c442864f29897e9ee15648c1ec5d03afa871dedbca'
            '5d511b2b7c56155c2840a41e2e992a60acf8e876b6d1b073a71afefa534f1541'
            'b4276b4a797de5a5fbb8cf781f554c0229cbd117f141ff5db6193e5dd78da50a'
            'c1afc907a2bdf12cfc3a469d23dd2ea42c9f43b567002aa5f0cee09e78e0df08'
            '2fbc05ffabeac73fd3e45ce185610f3537754507942f6b30de9f6fd5b43ef43f'
            '731f22b205a4b83f35b8fb468f2c89a7ab8b005c484a9651c26221416cf1f287'
            '55c57205a8ca8c42163f79729f9d7bc90d5796bba4d3b79a4dce6150ee095692'
            '19fbc4e2291809800ac961e43c00667c445afe8066c1321d22f49d7afad1454d'
            '67c7fd763d2d651aa1a02208fcdc5271087d56cc9df321be0371678d6f8de7e3'
            '230a4c410712093a1b61170afd5c9d5e946ac1cc8c9e0b6e69cbf2fbfa852bd2'
            'edacda5999f5ab39943317c696a95a5fff70504e7853d39f7a6b90562ea2f50f'
            'a5847d83b71bc30bece724ad49cd51fc475e701382b5bcf8c5f88628ca13dfb3'
            'b9b61a70f6bc8163c977ff926a26d8fc5c57a68c3b7b9908df748ef3c7b879cd'
            'c4103dd7e66637e4c9cb1821ecb0ea77702296b81c1627f228ace5776be77ab7'
            '75affcd6f276f29d9d4ec63b9da385f7efdbe72c03eed66e351080ef2f9e818a'
            '51df563cd124ed298d6f01de6145a0e537699512709e93a6d67b83ab65ad8294'
            'f83d1206cc030ec3ab9f06668f43aef9122c6464e7a42644a6473fb75ca6f990'
            'fc8d1d1634621a8be14034b36964d03670dca63d9f4e2e94788de16c753f2f40'
            '9228ed9b1c997e38e9d779ea79a6c04e7f86055758974225c78cec29b5bfa111'
            '4ec72c4eeb2d16cdbd649c96b015bdebea9877d08f7ea287781a5014a3a955fc'
            '216795d2cd5e88ab615520aa458add721f6c8b7d882e2daf5dcd6f540e11a634'
            '5a3fe99eec7c5c6972e9d8f5fe1ded5e65f58aa1fe8b732e08a1ecbac0172c93'
            '6e58b99cb71d648b3706645eb2f918b68b89ec05ac026328d410e031195c0713'
            '65b55af60f4bdb2330fc679896d59348115dd4f75ef08818c9a8c23fcf318849'
            '1d27f27a5fa836d5b912645f02266d7eee141cc1bfebdbf8dc7a8d0bdfd9c403'
            'ca40ca905510b431f0e0488682ebccbb87554c708d63d6c9b1c8c03b05c12201'
            '5831619c59b0309b69fab1c97a4d766238170c9798e6864b880ff6333a85f323'
            '44904c74fe34e65bc24351251eafdb985b1bc35f3ce9833f651658bde8e06cef'
            '3aa6d2a5a44e69192405bbf34f77ebe2e48c0923bb961d89087fa6e51128c961'
            '241194b35f32b9891e9b09efedf3df0f19ab177939cb94ca22a53dd582fe541f'
            '7539589a45a91e611b662697b16ffc253329a62093955df58a19a27b6407bd1b'
            'a9d29dcbdb5350d6a0a17371f8bbf2d487adb184dec43df0cabfb23fa877bc71'
            'bd7531da197c151b08c1d13028075c7b5e8cda78f1a74f2e3ceada7b9cecd628'
            '17a7951c573780cac70554638d917fa178a3277c33d3f474a7a8e1f13ac90b53'
            '66503d416128a6982ee323e36f5ec11c26cdcaac576550cec86838b107e069b4'
            '4ba00e33267629f17377a61e4027d513ca974c6402abfc9e21446c31674e9104'
            '0b60c81b8a67e4ee0f8b9b206a9b326dba9e512f8a2ac0e8ea8abcfa43f6f1af'
            '274fd0f97079466509e87de4bd5862c3c4a3eb030ce94fadb15a99e7683b78dc'
            'a3c036ed485c57128c26b220fe45338525faa24ea6ffb951f52e2c3ac8092722'
            '74d7cb87500bb94d570d3e27cdb7b6872ff37e9f8b78c20b046ca62aa4c2ee0e'
            '7142504d6acc44ff1d4a905a9b695356fc4ef1ebe9001d8beb8e55b9d952dc59'
            '97ba1302c0750ab7ebf9f8435a90266f252d007f0ab375978c0dd97c38402044'
            'f23f31bf5ce65ee9da7d53c5a4ccfbf3566a2270165ab1b6971dd4a7b3619201'
            'fd8f50679c36b25a48df02dcf34d7fc465a5f26adecc76ac935b4f975526c5c7'
            '64630aa8fa41fe20c0613c89c8dfc5b397b1bfbfebc0facca6ea2a9e13738679'
            '1766e448f8fdbb7f6cc4a77243369d1eeb29d3ba882badf35bd48999d08eef77'
            'a0a99294693d46952e6f0538303d639e61b2533b69c44cc8c7d40c38f201f3ec'
            '861079f8207ebff7b07e1c09ed8bf64b23882e5a325c1ff6d63b3872428fa052'
            '8d5df203913877a3565afc5f44622091e4bfe3d0121ac255248bae7041e6029f'
            'fd3011699e9660c247bdc876f661c77085dad9e5f0391d390f63d6afe6444b34'
            'eee20e13bc0ca407558a21d021f9648fb227935e4239dbefb60f8a80cf2c75c6'
            '6d912005c847cd2338c37da56f557424636f4558ba7cf1387e0be9cab8e924b2')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
