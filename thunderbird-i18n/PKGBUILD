
pkgbase=thunderbird-i18n
pkgver=115.3.2
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('41febdaf8a318d6c1d8beb067b3ca4056ec8829780cf722962a62ea54f5aa2bf'
            '85469e9c65d3a9d0a4f912d53f61d1f1ba511469b9321d34e6e8cfdbc8c05439'
            'bfd8478ce8eb6cd0fce5c89d9cd159cd03567e4343b93021b1e064d312af3d0f'
            '7af9a0bf74763c15633b8d6f9bd19c12e3986f3f1c6f255221b9cdd4e6c673f2'
            '1db0016bc2967d3edba20663cbd5aea37d24570878fce8d4e10cf412d890c1d4'
            'eaf8393f486e8d273d973da410db765716cee9182d3c342e249c0d6ad3c9be00'
            '196283cc2c69d28b76669f8404bcab5cfae7065bfed1cb8e608aca838b505a05'
            'a62c27d086bc50b0804d845415ec027874ec8907e5947c9831df8d2d2be1ae4a'
            '4f1533c89f3e9cfc6fc22f7bda05c257e878d0dfc30cc0293e97bf4bc26ce793'
            '80c11466e5362943e227dbbceb431ab87f2511d6d8b8447ea19d75f32740b8f3'
            '27b1d9012db8b650b2bbd930ec8fd31f2afa7cff4ca2558879a35faf67ecc290'
            'fcedced2bef85f56462febd4d3c26faa46e7db44cec242e6e3710bf374d66a6b'
            '7e8da03622b7f59823c384ff6548e4bf3539002114f57f3b959c9e6a08cd3b40'
            '6b50e23a3d713e5a361ff748a57d3869eab2e71e3f42f56ea311385188fd2166'
            '75e4d466fb3e4990e8b743d433910f7e6f45f8dc1397aa4e6600670b7b37a216'
            '320aaae0617f8e93f892bac02ef23a4f50e28b9daed2e032bf83737a754b942d'
            '9102f062d47212c11245c25cb5f4a9a5df996ee716eae111a36781cbaf98967d'
            '1c9b32c6d43d64c65df4539eaf85810776302f792f36ef161ecc449c81ffb275'
            '71c1c3137a942327c0f4be3c93d6eaaf8b0729e28b1755d931826b7fdfa444e4'
            '310401c7845eeacd499166f318477d95fb00039f6ff7252e8f4e5cb5d0a865a7'
            'cfc76129076b2ef76f4a28292ff584f5ec1b5cbbb97af7b1031ec3c1a08d2b15'
            'd59f583942855a6f087c5d4f04819bc062ee6480fbefa1c833afe78a32c81826'
            'f9d1a2b8b5a6d99b5f9c524302db2ed087fc6589fff142940dc20222f807b020'
            '774fdf815fed68be2faf77c4ff2fda76e6676336266d0155dd6a9a0a49ea7917'
            '06cb8ed1e80f1374f0e72a03ccc3189dc020b896a5f8ec35b90a8105c7974697'
            'b55cc7c7fd3d4913e5923622762e93e666022eef59492001c97b5f1db63369f8'
            'f7ccd5b70ac5a45113128624b9e158324b2721a12ed0adc06750ecc5a17181c2'
            '27e9f9c3ea1b9f80880cc4f39ffeaa14e221bd0a02cd98b7cedc377127cdaab1'
            'be5245b224791ab7409cefd87b976a22854effe7dab1d5404d08a74c79f82108'
            '19ff16a52cfb394d06bc9396cada51300f915dcb2de1d536d1a2c9637305c05d'
            '71ca7534ef0c4b0aa4bdf32374235e30adb72d0cc37825db0855b5c1adad9d11'
            '0edd59acb29945ad4a1f2041c0c6b02717003dfe2dea2b5b906826a28b70881b'
            'c38f1ecf8da6bf88dd24b3ca16d063f4b063415e950c1d21386a38402960483b'
            '2933ebd5657a064bbf32993301748256d6dddb0c1affacee0c0a5c84f3ae1768'
            '30218b097c2683c10287af678db239852c12f6402b0002e2ed09bc9affaddf73'
            '8fc8218cf68b8eda38bc3a1b3bc57c849fa17e1eb16ce51cc98e6118cfa3ce6b'
            '258013bbb562fa26f02cd0428269c97d1be2ec46d21ce07d1786c6498b112433'
            '4be42d70902ae309f48582dfeb9de85cf954fec2925506dac7f846690221cda1'
            'b056fb3a95fd953f8c8f3bf1d23cafe5ad86c075f7891ae47da2eae5a318d159'
            '23093a7e599d5f6c50152b9ac8cbbd63552b29b6a96fbfd2b4dbef0cffc92c78'
            'a7e80e37aa5cae0b7837dba9fab6893cf5cea120e1757d6920037e248f91c0ee'
            '51e6335b807f1707535368c374ac0f04c55a118b86de491f9f97ed4d759d19be'
            'e0ab643cb3d1b2fc457011dfcf024b05200e47701633f279d78b8ef7088ad895'
            '4f63b5316e40ce4ceb128f64ecb047d44977e74edd9482b688187fbb7ae8664f'
            'e741e6354e57cdd5ba381559a7dae5d09145190c226c42eef8b76b8dc8b98703'
            '20950d13748c594528643342b402187fa77e443e03d8aa509c30f168ab1bdd6d'
            'cd40b6565f3addc570d82c90bcc2d174a8e633c47edababec762fdb612c2eb53'
            'ecccf7d013c83534d3c38261a3397d0ec2fb6aecbb30b0b1b81ddd4a43de3b1f'
            '39a8e43834e8be51f0f576044baf4771eeb4d146933c0e796b30935c912316cb'
            'aa6bf51564621699a78dee97e53a75321d3d06c7b7b4482937fe076bc5dd7ac8'
            '515e2c4fc5c760ee0c068d795878891ddc02a84fad9e7e59a8c5b2e4e02bdd0d'
            '9f0cd5efaa315736d87c5524b0502b01f4f3a3ac63e9cc1cc1189175a728002c'
            '4e3e7ba9941ec14aee6b12f9d841165af144544600d24eb5b30d62e0f1584ce0'
            'b0c182d86321e129665bb471437aab52c965c8f4f35d60e52f8cff5d1c0eed30'
            '3e522011683e51e79d193918338f43fdd8d3135d7edf2f51f340d6383c40e258'
            '3fcc7b4c368359c5dddc1f43add32f25d2c8b7f99693ca0e183709c8c8598803'
            'e56589533aa1a3e6a491cc51aa38bd9c872913bd5b992dc4c05aea8367998d52'
            '33840fc84acd6383a192996c9ad333339c1dd79e1a1f3bcfec4dee6792742929'
            '69dded569cdf3ad61a5120f5cffb458a80897988e34148b065de479f82c14d09'
            '5c35d66873c88459cb652c702fcb53fa233995b8a47270c796b8b45d5d18aaab'
            'b9b071cb40fd7548b06b476ce9c1bec0b9d60dede6ac141b567bb1ffd5eef817'
            '19b5065dd3284f3dd2364c6fe8af66a9a7c5a960b8cf5b30a7d4427dd91a4f58'
            'f3b70d63e0d3143de5e63d7d4216fd6aeade812978bc06443fa09040ecf611ca')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
