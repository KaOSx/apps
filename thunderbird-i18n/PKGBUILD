
pkgbase=thunderbird-i18n
pkgver=78.3.2
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('9ae9484fb86465c1b12539a69aa7ab914bdfd9e0ace336b473b3bbbf15ef62bc'
            '253aff70630f4b31624d2129828f8d206da391981a223bb584b235f8d0108c8d'
            '6c502b3370c8cc1624c3969acb09b0b404c4ec80c6da653fbfe744d929c7a9f9'
            'ef65cb67e4eeed0d7affecd9725dbdac15b7475ac4a72d446f59902345f00852'
            '2caf2e51b131c01bd3e3cae8bf889343008c67a70b635c8c4ca9007cb5de9c31'
            '4e50841c851e17e6bff40eaa4164c23f1571605e5a9b3a9201df87a7af0fd007'
            '423a0a276a8147d248264ae26cea275af87cc18806392d753554c4d7175a4ee1'
            '9cd8ae1c9dfb2f86862f07e517addec2585ce8b6f277e59087313203443fc8b5'
            'b3a63b09338e0ea74ae1f853762dbf4b7ac5c820e687bb9d532914d7082bccf6'
            '5c2fddbe61d0650a2d9dd5b81dea7177153c22c9c72ea1b37c69b66ceb8398d3'
            '17dddf3466153f560f9e2f57353673604f3d1ebc4fc6bb905d5c089361987675'
            'f8a00260e57b5f546188efaf0e0f25fdb01e6f0138043668ccf906f31053e7e0'
            'e15034796285c34162b358dbd5c5559c295707d01f7920703eda87c1264da3b1'
            '7a782037fbb3759b6918039e932ef79a77c06d70cd538e79130d44665adba463'
            'd8378603db907f7099a1e7e706f4668532a6322ea73735b9a81c7e119e83d29e'
            '4c540b46a8f602b67ac5118d806997737c78ea4110087102f15495566c06f2e8'
            'd1e5166e237c44726c22bc83c1f06eb21fbaceb68eb49b44ba9e9eae46b6e278'
            'fe9e1ce88e9a1a762e1abd95cc586c8dd50e634ff7334fbbf276f1b8f58b7cec'
            '2b92962bef5be5b60f11eb7bb419a720088bf552107fec9a386c24ad3782b8f1'
            '1cef40deeadcc9f77ed6dbf38e63c6a2ec8c65a3b5ac290f68cbc25ac5502c92'
            '51424132ff91dc3dbab45c2e28a29b17520e1dfc0f7a87babf9f19c0cb33cba7'
            'f0f60f36c832eda95e2c7c55d776a21cc92177b208201fb6cafb86523af1a5e8'
            '6a3e3881452da1a5d649702c05d0aa18da22b020979149f8dba39483d9f44a6f'
            '621060eb7f489679b8f235237a1c953163953cf98a907c934da613c02e2991c5'
            '2b6cc862877e27e93954b9035a8757c2ce34d5acb9515d66db80fa45c9f05ca8'
            '35615c30f6f7c73dcf2cd51441a0fe97235ee898553b6786c66fd8a8bc52f854'
            '74289faf6e1e5f2630ff712a2a37bb08f29662a99f3204ee09a844a349c1503f'
            'f0a4f15c37384d473498c15a9c834ce7ea2189c5e49b2a98d4e1329fab5fb188'
            '5e76eefd4120d3a26282064f469647361de5bcd54874e953c55c6d7a1bd275b7'
            'f1087c290a78f5c969271c6412cd45dc96e1ba6d93598071190f6e8a2d5a3f2c'
            'cad986a5c11ffc046ff70024a69c1fba6c17e7ffb58113f0c0d2e3395c01a683'
            '46266429a4de0496be3cb058da5a872503e75202385fe0d8c1bfdd86741d2ec3'
            '5e295577fbed4fca37d394ec4f9e430c49efb6e89d9154b8a9370abf120526ac'
            'ecc29c216c303f0575a6d60251e2cb9f5b584fbb8b7fb1a3a5411d9d9d95fdc8'
            'c6eb23d3881268361bdb023aa44505567bf85cc58b848ace71c740904282510d'
            'b2748f790bdb052dcbc629bf7f4862f71cfe0183eda13f8da2ef862d1f06a62c'
            'd75001690ce5022dc38900dfb427723463b1327f1db45586b43609db54de44aa'
            '058e4035f303a10d3126782ea175d6511100242f6736bcc250bfebf6fd18d418'
            '3da7f607cf1adafa81fdb892115f9e61faec6becf3c4d4d7a0f10bb17edbf2b6'
            '850d6ddd56f7f308f3404f15a5dbf082920017bc82480d92803a806f8b010e00'
            '11a3ff5b6a0d2e17b232c555cf53551b1e7215c26a4dc880a1c1a390d6350533'
            'f2192b361bcda632338ee1109c4dcc2a12294f0b34caaacbc8044156cbefdbe1'
            '821e13b1df337d3db37e62fafeafb7ae19720d00c24a7f2700d56c4457b69940'
            '91c4f1ecf94f4967e00a9482120bb24563a9482ced0238c4e1fae80b97c255bc'
            '9125373be034fb1dc03cff82d876b375a7e7452a6830adc8e9308dda3123206a'
            '307be825788b578332618d0b86b47a32406aa1dc6bb488e84493c8d52077c87f'
            '63a45bb7757e891e2720da035ba7e73333c4142d6728f8b0d3e21b2de84e00fa'
            '9b528a25a12d535eb35fe06b78d5e8ca17d37d5125e54b2c591a1d6a575beb88'
            'c1c703bdda2d912e172843a6524e556ba3884d48e956d012b968da0dfaaaba5f'
            '236679eb896c5104a2349da803639883a31c319d0d9541291bcb2d92edfa8634'
            '58be8374b6828481adce2c01eac498d1e598008989a039a7f57ecbcfd9a26322'
            '358accadb04cf389ab7c90720459e16fd383a3be254973b13bc272d9655aa660')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
