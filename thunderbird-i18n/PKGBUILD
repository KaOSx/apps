
pkgbase=thunderbird-i18n
pkgver=115.6.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('bdb1191a01816c43272ee29af5f09ae5699978200a0695c01b92638ac8ac7dc5'
            '399efcc10b9ebd9c53f0c698f9a4772b034254f1922266579dad0fd8cbfc4bc2'
            '81f6c88b9a6334010ef850ad9d4c22159185de23163646e0df7235f5c236fbbd'
            '7f541ea18da34ff3af3db12b4b0dc4f92cccfbe7beda2107cfa4c548462ac4b3'
            '9b19356791d3231cb48072d51d814b41abcbf7255c062fddb036fce281a3e2f0'
            'e2ce8176d5acb8ad3f1f23b8c0472b61e67093b0608b0542ab6667665147bff1'
            '2e02b9dcc19f9866329744878db2f6f8fee194e60e06ad0899e2b3130d8af397'
            '7591358d2d6096f4ec3e8190a09cc2173aa3e40f2d53d62a0b731f5dc3f3e59c'
            'f74ad3f76d459a77e271e88adce5172417d13dcc128358cf015c1e8bc43c3e5d'
            '9e9322c3fb1dca7e05b0baecca75f34f1ca071fd849243735566ad7d56166119'
            '0c3baa5d5bd9feab22c6d8e38a04f9590238b1b44349d613ddd79b47ef8943cc'
            '3aa05b5e81b0df9d3baaceb1f29e5c566d44df256725eaeafb0222d6726c8e33'
            'e8e882b73d16aa45ac932dcaaf3b6231fd7ac9169ac40893d7b17ef9492e27e4'
            'aa66ec7d69433f9fcbde707ff07dbfb9b76939842f296058a35d807ae30e9cc2'
            '64ed7ab9b2a5bd718cbca949ef96432bb6d974c384f9066f4565d70b54e7b963'
            '608eec9678d73787305a7665345099bfd80a55b88e13c37374c2a8f815a81d68'
            'eb138c7b90950226b5f9d9d0c87ab7b4d419e5f1753ae0b202add10ec99d823b'
            'a277d69694f064947ed4d46c0b4cb7d1270d902f29fcb62509b6ce53e082babc'
            '2e6aa81497cca3756de7bc1e1d07f77ef1434a0f11dad5ae4d379e4d857460a9'
            'd4bc5e6c91e5fe542890cdff6ac78810c1af90bbc160d24a95e573cc2bafb2c2'
            '3639910530418af80f927682588ee75c2ebb7c22d70432515a197c493a9721a2'
            'b583840f317fe784bf8525ba0e9cdef0c567142e63a8edf2e71203b7c69354ff'
            '9325580d077018a19c683540e29b67405cbe323ea408016af23327507016dfb1'
            'fdae539ccd9bcb5067c8b303d5e135126de998be5bac25a9a0ca6b62f1397662'
            'ade743e2fc964de514dd67ebc396a078e99e861c376694c62c494b75d9462c88'
            '62a043eb3a255fbd97fd8cdfa457151c4c523a361d85867cdec682192ebc5e59'
            '66de8c9d65482edbccdeb00b1c860ff870e548e018bdf2aaef6634eec36f0656'
            'c463d6862c32e42b87b2a4219780f44cefe1e3ff1fcf2f8ce716d9f5731c5092'
            'd006579e7fab101c85c6631859dab40662d96ea5dc9ca0545d566b45a29da438'
            '24b0265262e48b14a97b7798a5d166293720ad81c2fc989b5f63dcbf386a116c'
            '2a54c6c3c36c10245b0052ffbba424845dc6fb928d62429e25f0d6d0fe140c88'
            '958d83b07a24adfa1ad77aec681b26852cfc04a078670fecbf9d42917a6c9574'
            '52125d93e5a6b1ba59385e765fed062837b6b0e47a4cab7d71fb2d22e2402f15'
            '6c1ec7493c1cd697df2708c1d9f34c478c06584ad49a2bf552d4b339e1810dc6'
            'f5cd5c4b1efdc26719ffa64fc60a3545c04d067d98c5268cbb0e9dc66d1306e4'
            '618aeaf50f179fee4cd3c2ba3432c59e6d8c9b4b401eebfbc9c9f021a06f0177'
            'f813d0abfdde6f39df09b4672a309b3c6f4f7a745b5f9c79ff1f443215e57457'
            '00a8108de909949469474e51fbc199e258878764662e6d3e044aebe42e48fc66'
            '0465fa1687c2064091cc2e89903192888ecdb842b7cd28d21b4238cce09274d7'
            'baa3f38d162bddf9530407c9f936f9f5cae380f758d35e75a400ebd8077c0811'
            '7c8e54f01ff8c7456bc02de7345ef102fb3e5da4409fa0e09025bdd8e1bff5b0'
            'b28b680a51bb7a4a9bd470e3b252769c520e4d56d9393f648727e8badd7478f0'
            'fed3f4be8fcefda0515e67dcce8cc62ee514ba0cc727008d274e5698f657ddb2'
            '539d8502dfb34e9b026538377e3d51b9f44d3b8e16cbae1e33a2e635a9c737e0'
            '9ec754c488b5192f1b9cdbf4884fe39f69b626e674bdcf4f441d557f540b25d3'
            'c987cc6086efd8688521799a4e0b33078b54b73d30c148162a654a9f5d5f8234'
            '47beb69abba5443f82bcd52577c3ee0939b5e6dd30b8797f65c192d328629e77'
            '5b613e03f6586b30deb02fd5c182b1aed55327ffaa66bcc90986550ae03f6713'
            'c3c433edbb12414c1778bb19a7aacb326036021f96d2380e1842da56d6befba4'
            'e971e5877ab379d4fd2b8b8f8beeb808772bbe38698abf0d0f4adff5867832a7'
            'b7bfa27a697dde03ed83229aecdcb6c8b3cd258481e2874bee9bc83a8864ca44'
            '3edecd8b1aeb152798bfa5eb869495f7e2641fffca681b81d09d10f4fd4b823e'
            '4469b47adac5aa8d389d68d2e7787106cc517bf4d1564b0c62fd29a72150b97c'
            '72ce9380db9273ee3d6197aeff2072bcbac5522a17603a8f61b5ce1560c0d508'
            '9fb55a71d23c2eda7a6befe441839a72215dbc73a0f442b8a4fa5db488df0f71'
            'cb782de6d1ade6f6700819e406bac910de9cce26abf1fa62fc98f7ebf058e308'
            '568bc2f01646127ba22129084c1e60f3bf18f765c0ba9a8093b24a352ae98fe0'
            'c4fe48526175dc5e605337aebc8e1d1e2f67f4aff5a964d09552f20ac53f4ad0'
            'abf1b92e8a137ae6f08247af504b05cbe98c2abc02afaba1a2df6cee62d167c1'
            'bbf29d02333ad8bf4876cd1d6a8e0bd4d859558c56b96fc78f63e2ac3f9ae01d'
            '4dea9a98fce0e5f132ff2db3d8612105b81fddacb98cc3157ef3a4c1aa9bbfff'
            'd2a79fbe812157add4e7960333f9911a2608df06ce6b8e127a1892c2eb7316eb'
            '8684bd502e38cb2ae036838ec9244ee30b3ab03391fafd57762c8f912239a8f1')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
