
pkgbase=thunderbird-i18n
pkgver=115.2.2
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('461a125d2ee950ef1050f81c3c475129f6d62a59f69c8dc2608fb7966152ba90'
            '20c25a11fc51e57e056a1d53a6c5ec35f46cd275d6f982652c4998bd2180266b'
            'c9df27f63b26ac146eb1ec14ee93174bf48f383c9407dedc12de999a1686084f'
            '2fd8711242d1ba79d9f0b1fd4f1071304a9ef4f6a2e8a67a880cd9dcf02733b6'
            '3edf493effbf6a2fe22b0418912b6dfd7eaeb07e5bb37b9210077a185f51f16d'
            '0d387f4482ca74b8fca1c7b3e2130f83c9594acf06f836f9d5c3e2d180075f9c'
            '30aefa80a8c674e836ac88f6286f559dbec5741c9b45cfc5bf8656f575e3d5f8'
            '20d2971f6bc6c74e81d600ded76182a4b6efa2ce230f345cf139d0322e8fdc5f'
            '2d7d2d39f037346f1b3671112424463ac7e328fceed247b20a5db97e1bb8f93e'
            '2cb108f81f7a6fdf55596a0e6aff86cef573bbbd67530b7ab76802401e44ad06'
            '236a9ca2ee25c7f5b47ddca8b9f853de3d32c9e5363db003f8bb2a582ee5b364'
            'e65eecc93a46423d9bf84833a6c2fa5b37fd6202d68034bfe0f9d402eed9ce64'
            '66e6e987802a1ab3a1ba46e7f7dc3c534ed9919abc68c541e5fef849711150b3'
            '163fea86a1f47b984549bc2c51a6192367df04ad38fdf4c5dced234123e7f0fc'
            '7bf95a53c533303c84bf95f97b83bca9ee83bc36847c0238369326c53495c1b0'
            'e3d05d9335673c5d4e785c24dd867c74ac683d72373ef37642d83f773f281df7'
            '6a9033e5eacb01ba82dc5484e3c7e6f3a2a7a32263448ae1f8f8a34de2e2664e'
            '663421d6d08e2a83abd2c010271209443b01a6d7ef9482ed26b443612678aed6'
            '4adec1e21e6a3ff0dbcfabce699e0a8653da66222be90c281012bd7d3a64091d'
            'a5b1b2b3d06855b951c2c417f6b3f6c89c77d4e9576818978de8f223de5ad313'
            'b26a2bd2481f4d8e91b3f58ad6ee32757d94fcf5e9b6ec8b05e8152d7e521d3a'
            '3bfc876af971e99596f4b9201dc11aca31a05f4e991f580238865d4be230032d'
            'e1f9c0d44463f79f0d2d95929e1378b83de43940b2b309b743787869227c6da2'
            'eed807ffd8df9aed1b85c7343d44747a047a23ecbaee8ee010ceddd65ba4cbc5'
            'fa50bf2323e64ca052535420014583e0f6fa578275eaa01220dfeec4f5ea1a90'
            '6007afcd324d347766ecc2bcbe6b812206910443f3575d8fe8bd62a2fdea8147'
            'c9f0a756d96177b41a2d1abb02bf893ac4bda2dae6a3ffcb846de05df820d332'
            'c87a6a28bc4c46b5133c29ef0bdf6e7af62755b5c9e0ff679ddd16f091c8362f'
            '41d3db6874a1314f24d6dacde08268ff405718fbda7774b336c4801008743e0b'
            'c55a91cea10ee4be1e895a6e5d27c40c011eb44433dc7bdb993a9183bb23b05f'
            'c5d1ec1bdfb8e51b5b6198e569e078c115b7f07329411ffc2b580a130a4abf0c'
            'b952d8bbdd2b76d6747e98189661ca6c8c5601ecf33d4c1e8dbd67a2a2d48045'
            '60e9f50d7a46690a198df27896c29962432b758883d56b4fa615594be90f0567'
            '9305ea8aa2a6de3293cca263d1451e933fee3f73c0348a4ac4fa11bd263b0847'
            'cb71fbe28eb6e11096b6d01ff5115518e9817103a38a19cf4dbbb855df0b4f66'
            '44b530dc1016a69ce4a9b367b792a0b43efaecc2cfb14006efa024d764c71ba7'
            '0e3c9193147e2d00202e99130394643dc765b6df9c3fec917e7aed1c295ae14a'
            '33a7cd436f348bd57eea9fc20c7f1de2f4ece31e256f34061c5363f241f4939e'
            '3f0d5add00e53338c945af22271169f2ef9fe95e611aa5892a862897a5459ac1'
            'b9cd188829e8d297b015313b2d8968cc07dfd696f15767a738f9df57b2fe5523'
            '511974a0f80913de151d244edaff437b4fee3d5a43246b8a0da2faa6973fff76'
            '77e8285b7126be27f99e030e04de85fbd011b37965770687e5a7052d3c5cae1b'
            '9800b7dc978efe73b29973b5bed0ae1a820be8efa18eb45efb24af129205920a'
            '1b7a616bd140b03859ec75c72a203b730533a4a3dcfb82f6e12093cb48d48862'
            '719372d4a1093e0be5402d8dccdbbe5ab0f7de2f505df43697be537945f559c1'
            '5f49f87dcbd42ab517961cddae157a6863034ea043e9c8cdc38160bccc8727e7'
            '4f6a77ab0986fc9c7634400b8d1a856293bad5f657de080b84392d427bacac56'
            '9429161fdf467ebe04d787f836c71f7148a4cef2743083dd9b34be0b1c21ae28'
            '2539e28b50e4a4f31d140fc41435062aaf7ae8c7b3770d8e281f8e33815ee7a7'
            '767af3ab37d2d62feb7c3908cc260e778321070ee8ab346edac1b6c5200b8179'
            '69790d5f9ae29e1da7b21b3be5470913ba338aedb8f39e8b48da4cd02082c6f4'
            '3e0ba7ecf1aa6589da782dfaa0c63a54b2a617b66e68c0aa933eb2a7c7c0e63d'
            '48d6feda5db046f796132452f78bdad14c7c8f7b951eb7d99f807909e4ba436d'
            'a3f6207bbd38d58617f111704381442a02aa88a08351aae0c0b6fca2d14a9208'
            'cdf4173ddc96dcdcaf78e070abb4f0e88100ba7ca6ec48e538a60b07cbd94589'
            '70fedc0f52ed236a34903cb7a7653518500373883481564b8ba7a5d54d8698dc'
            '4af742c54ff2d805dc0f0aea162d2a37e98e49b0fc7a5d7eeaeb5763492401c5'
            '361c02f7d13c09ad14f5a530d6681ead908e2e36d4fb11e5cdeb0f55da7dc58a'
            '9f9299ccc461f67a580557e7b9d4e5148282fac3ed4073f46ad558af65659a27'
            '19a5af20fcef4bb5150777ed29a64c4e79e0fafae5a73c89f8f1e3dfe4369f84'
            '68573f11090204b58150232dd90f6ba9d734c96588a2c1ab589f885f1e95c385'
            '4e6da75534f398d894cd4f248f0e3fdc0b19e780ff9c5fa38fc086d4c9a55ee1'
            'a7bcfb564c1ca9ebf308a7bedfeb049e04fb7bf16097e57b03f93c2e9d2e042c')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
