
pkgbase=thunderbird-i18n
pkgver=102.1.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('9b19b6bdebeb98c1799df59060fa4a283ca10b42ee22ca4ef460a399ea329391'
            '3f9d1313f7ec224f107e4630dde1fda7121d7179249cce8b9410b25738b8a8dd'
            '0ce3a02bfc01cf7c5d5c3d168cc147483e00a2d4649e7f3da800f474cbf577e0'
            '0be0db6d08d09c3b29cca23625c8611b85b1268cc229963af1be7867f57c2945'
            '6f779d2568c13e54459cc05429968b31cd3962259cafc521450d84b73363f219'
            '060b33ffb9e2531f45288ef82ff36df875320f0b1a8a0807af9a070b8b28a201'
            'c5369c2039ab3f8020eec68acc75b53e54d2aae9c95e8e93a004e9147332c14f'
            '3afbb6a2d0e6ee2e9111e7c6e4915f2f3694d4169709caf6ce983581df0015ca'
            '20d1def45c8c5db5a909571a1a7b9670a07e5dd9e078cc5e014d1c4d5bfff846'
            '0aeef8970d959202193ebe680de66ee45c66ca91dd7f16862871e7f85e0bf79c'
            'f0883495f0e0cca2f5c901394546454a4174fb685180cc1b8ad792ca600212b9'
            '6b0f4af32676a6070d43d266ce849a68da5dc707f8b3d9c78ebfb5ff850f54a0'
            'cd0b27b04dbc98c6602dcb880462aa9faa8c9a8db026cab8078ce0deb345ce94'
            '72a8d7133464f32fddca2567287bd3f6f999a1eb1c302bbd2fc0d47659c012ee'
            '0293d1fc2cf3f576fc42d3e259aa4815dd2c1651ec9667d50c93a831de5c62bc'
            'f1902966de21f133202a7c769e2fde4d7d5f92c3a84a24fbd7f79f23b7a96e08'
            'f72eb3ce2820eaf91c5fdae6fef48cb99b0e6048eea529c2fea1de21b695f0b3'
            'd7e99c6508cc11e1d98bd060b76f56a115042da7ee896016c4a55c64dba97452'
            '7a339815c90689d71e7dd0d2bfa0c2fb2c52093b8d12f269718131a88729cdff'
            '2c9b620687b37ee2ef7d2237f91ba5f50c0f910986d99c2a18d6182c45a0983a'
            'f4954e32f7367cb31b0f33600a2370463e3b74c0d9e23bf27edf47052ba23265'
            'f52d9b03bfb49c3ca23dad9b1b8328f3ff376027e57f0f2130b1419935d20a29'
            '7776ff5520e52929323520dcc68d912167d8286dbb0183b077b37721c07942ec'
            '05b19a207fc298c0e5f42005d9b3a981540d1c7734c54b34817ad958e6436abb'
            '2fbaf4c71e7bc09d27660bf1368b192ae484f767f33eb6f0e0cbe00e9d43bb6d'
            'd86a9078f7c4cb7fb121c626bcf7e7d2a8fb2f0063ffede1154101130caf8caa'
            '2a34a755a0466334796b7eeab7950966ab53b31cda735786cc9605bb0bb849a6'
            '0acb0bfdeda4d7249c89bd43f011529d858e5f82f286ae20ea70561863f55fca'
            'b2f1172ee67d0be121eb0f8570023bb682bd1c2895c0998b99ccca9b126af8bf'
            'a3a1c7d12b490bc620a4f1958dbd6c60009c3e558062f27f1ce550e2fd9049df'
            'be096094952d072830f5fa3e7aafe6a14ed249b8376250fa6abaf118f29a83ab'
            '287fb98ea6c73a8185e4fb283b191bdb8eb61fc1ff81ee2ef49dded021ab04a9'
            '1565e7ade54c09d62d24c0f49e4459d9411c3e0d74a6c1f5dd13effd5d98c16d'
            '6e9acd4f0e2808b8bfabd948cd34d3cc85213cf0dd5aaca7e268e95cba46c902'
            'cdc0e331b541c33cf3f203299b9918239e8525e079d94cdba14358088a5f18b4'
            '1d6ea78f453d7e8a31f664f2d2d5e399168e453cd79bfa441a8b1eee0ad3a22b'
            '4917dd178e65fb0dbe9711d60c62c76afbf1ad7229cd51a782cb93c32e2d5f90'
            '343419d3bb7f4b80b54c029d66faa867c7d249950fc19a8b1d51c19fe08efca5'
            '4bdb20b788c730184a1ecf42843a6497aa3866029c0fcce9b8dbb3efafc69995'
            'fb16c6cb0de9d4627319febaad8511e09e197b1bd71fbb12b09a5c5f97a9bf32'
            '01e9475b7a692310c9f6fefe0ae5a10832dae4ebb7b23d19ff6432fd26803bb8'
            '2513626076619531acb7669bb173428bd1fe74aca070614a731cb7cff35a5e97'
            'bd87e9667c818ac3177a9833ee02fdbbf835cb3af423c491a2640d5fea96c21a'
            '6d734519809792683eb3d5419b43cf901c3c585a9e25d1cba0213498abee88ec'
            'dd51a0beaa375d578fe922a81b17242c7e1ffb934d261cc2ba8dd7e95ad61017'
            '2b9a3ca88a7f7817ed8a9effda10253f1e8d4663cf9e8a33138442002e449a08'
            '6a4236eef79d92abe3bfb7504a89e2a689a13977de02ce03c82c2f0e9eda2970'
            'ffe27176ed91ace0a166a1f5570af16150630580d1529b874b01f38584e16479'
            '2f827b4b46f1294740c9b5a9720b8f43f0b8ef0755df28447bc265ad1730d74a'
            '400070fc64be61c50eb34929ab3865b064e60f15771343084563485ddcc20971'
            '3c9efd423cbe118d3cf12b4e89d304982afa7f7eac18520788977f47889d122c'
            '6e047679ac56447aec20b130fb3db6d42f6f4384b9d068554b3ec9431f9120df'
            '96cfb2a1e3c2356e2bf59852cf95c108991c05663170be4bf740abbfc3497dac'
            '223653cd7bc9f2f0edc958b96856d717124da9eaa43f79c6639fdc081224fb95'
            '43b0f6b24f1fa3cbed396fa981df05e26a9cfa124ae1c52925137b28cd2d0354'
            '1ea688c5b62bd972c4ddbaa285e0eaa297d15e95f7198f96ff4dc0dda1f3fdfb'
            'daef347b0c5b701630b3a5440aa24728d79305543588283ac09dfed3e6fd5434'
            '0bcc52ae1aea95282881148159e5950bbd4c765e0c2fa568c304814a53eb6737'
            '922e8d06932c1b074134b2bae0280be227ce59f1a989c5c45baf6190df035e6a'
            '807a18a68b104157479907249d0d9581367167ebb3650b4838c6f3c24458b9ab'
            '77f2bd03befb377f0c3a4cc4189c2045c4c8e076448a188a82fb25e986e00ad8'
            '0190a24ae1c0aab983d9b1644e9f683af2db85ac3de4081b5850208ec808f7ad'
            '265f9de5f21ffd6f206c481d57417a5bc36d2ae9ff6e73d9972fbe453113daa6')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
