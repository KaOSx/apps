
pkgbase=thunderbird-i18n
pkgver=102.0.2
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('5e96403b26a750be47c981ee176e94d3cd48e7bef0cef030b14b0604be344705'
            '365e1f4a86a220f3d6755ef4f16a05212c48a96ec5f9258d46a00a77bd005b40'
            '78ed72f02574460c1530ef2dc8e608407476a01024f18b27a59742b28afe6810'
            '95b0e54dd4ce0478d9eed075d169805d58aec31cddf9096e70d45bd47b82dacb'
            '8253c54a4bb9c753c2c34b644ccb1a3a837f11d7ea6a45b7f9c3868a57503cbc'
            '8121aa130b88b121b5a75071455ed6011a836f877dd0a12ea94fe09348781a7e'
            'ee9e5954914f13d6e4ee16ca053dad175600a2aebfd7ff7cfa248f1c5ff8adb6'
            'e7206ddef81dd43feaecb29853e43c3ca6a926f9807756572d3a471dd15aeccb'
            '5c495b368a0d6ad67fd9f1c79835be373bb47b1f8ba3351e48eaa4c266057dd3'
            '982a7b135982d13c232c48ec08121798ccd68cd9c59049379ce2d12aa8328287'
            '6620df194aa3f060aeb43c315bc77c365aa386d719017694c1c836cd601fb815'
            '6d783353a98535baa7052345881fc79b658e25f7b7ce500d2e904195973a5835'
            '3552716ca078c4c47db90b9bfad33d1a6d76953dd9d8539e18a31df2c191f959'
            'c51601f13f6b8e2952fadab21f364d0828da72abe6f2e891e7d72cd3a6d2e3ba'
            '2da0809665075f8ef4a3e87e0b74d17dbf4b863e584fe6b0d2ad6905d19d1a0a'
            'e5c8c1e8d0f3424e235f69bcf13efe2cbf3dfafb30811706c80b79d44ae11d2c'
            'f9e57b484e748c9b2b1a111c9febfab2d85f11670e4ffcc687354df500d6ba65'
            '1ddb3354569136487ad595b9131b6f3ce1fadb09757eb11cdbc0c5c3da2929d7'
            'b8364a65ef752da5e745414d98f070bda855dcb37ee83ca36d275163ddd71233'
            'cedf99c9fcef642529d475583019aca9f048af95dc178ca0a28f1cc4001d8d72'
            '7f8e664d8113e971234ef80655fe86b7d0f7d15c2f0ae73e1d50d19167ed64d2'
            '25e4caf345f86e965b50ccb912b809aa69f92b49b9a408c17dff38c2dd3cf3a4'
            '4291a33f8ea86b1021ad35b09ac663dc42d919459c959056d246f150a95afcae'
            'b274381d0c164032a0c33601e24605e4df9110cd84c9a947b11d8388a7a2b37d'
            'eb670b42dc84d22a11b10a563b4893643af3502df844ca0fdfc467158fdf1053'
            'e7e549bc652385c058f771777310f02723f3cdb5299b1f1d8f48374bde2eed5c'
            'a7bbd0e3823bc1e2e6919e2793013faccb8230a034952e3f1a6c24e9e92195bd'
            'ac9b9232dba11ba4514d9579aefa7c3b8397f7b577b7444bd38b269dc53dbc02'
            'e3fa02ae60f800f3d15336ad95f20261b8c325b3a4b75d2a89a2c09fcf078569'
            'e63176a60aec93752bfdb4a86444dabedc2d56df7803947a25cf34370756a048'
            '082548ce4ac0d292b0d775f76c12a224907e3bdc65249af0ea8d076f7e692da6'
            '5c6ab34af71a58fd6c905c5b975e815e04c2735b1f71456f421f3fdc0f660091'
            'd0e86049a7327ee7175faa5bdb4d57776b7f61910231ee44e5c5e6bcdb303077'
            '30e93c8035288baadce9a6d0884794fa495e32de64a47bf9a04d92ba14e26230'
            '64773cb81acfd582b0eee1dda594ea7b2269efb38c1199ad487f13dbcde3167b'
            'fa7d76c7afb7fdc49f9891bc3f72954c2ad8030250effab8e536ebae9608d27b'
            '12bd687891a0324234a3f928483013bfbc66f126b11d7e88ba7c965be5727166'
            'ac096eb74195e79ec5e48c2014f1b5848265bc125468b5a6a7aac61ac7bd8f78'
            'da001a3c98a86b10aaa7a46ac98ac38e9816e13b80111d56683bd58204854a7d'
            'a7e05e4343d636e081af7697fecfa4c65e883bbef1bd170f3a941f05e731757b'
            'e5db8ebc961975254e543fff2aa38e3127fc70f9ed52ba515449bd5ab2ec9139'
            'cdcf0daa0bd503472430a09f47255c872ebf6c4484463890b1835ec22ed6702b'
            'ec54b851ad8872710badba8dacb9e056e31b31b7af1a30c4d86d4a566a99f173'
            'e1924285842a8aadeb5b260eb993fd77f45cef57a7f462230970693d8733831c'
            '7eb9a502577c8fb2d5ce63eaa2c2b7e67eff598777a275a2f14ad89bf750edee'
            '532714d0fa43f6111ead771eb8dbb1ea44b2600daaabbda90883e67d1d1e5907'
            '73ece282bf83a4536077264e180ce10093b4afe3f494befc5553476b6318926d'
            '862366159ea230ff60c88cf685b43f398ae01da5f12667f82842e3221da893ee'
            '66d7bf881040f2748522f22d260a496d09051913b4b3305611d550128948d556'
            'a55a7ed8af607a0e1cb8ffc4b8335a4385f830c8ca51f3f3ec0299fa14b7671f'
            'e9c2ba629c07cb9621eeebbb4e5948a5abc0d22609acb66689cedffd7ecdaadc'
            '963cdf177e670d946f97cd099d1c3ea1ee043838a1e92e98b5506bb929c021d1'
            '79eaa9bb1f16f7c2a1dfeeb20365678f1b609071a844e9200a10b22318b94001'
            'a15ae1756e04ea5cc921f18e209982c2741287d1a16f8dabeaf3cafc53fafec7'
            '551f5435d1aa5f5a7665eb2abe0bb17cd0c64854b4fbdafb8fa3e5b1806385d3'
            'fdee55957e89fed82320767f7fcd0ae5e8098de16c330106fb5252b7cb08be11'
            'd3a11561a1f833e705b21b5693e783bee9f9fdc62bb47601577afb9ad0f450fb'
            '74a9867547ae98cb42393c294d9975c57b761e12d7f5f48b10e1855a65291aae'
            '9713189d4755d5943e66c546dc141eeb4389f25bb2be3f765e2fa4f6e6e1a365'
            '643cd522043a1015f720b2b58da6d1c39ab6fb3e486a623bfba5aaecf956134b'
            '594d16eb746fabd2386226bff777691bf14d89997f3ecf4419302c0dbc0d6591'
            '2f1ad408fc2aba6001877a1a38133f99e79c9fef2e0a38235b876158c803950b'
            'ac841e2b8897c0d3bf2c839a5f827a03566917671fe3099cefe6b330d80a853a')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
