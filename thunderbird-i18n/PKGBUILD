
pkgbase=thunderbird-i18n
pkgver=115.3.3
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('17489395f48a9b6d673950a255a8b91b94d37211c1fd199770412ccd6c04f1d4'
            'd897680c3bbdf36c378a8517bb2f11fe55ebf02dad381f876b5473fba4e67973'
            'e5935ba370f081a0b1ca789789ce41de69f1d1e1b6b810234a6a88e98c2c89fc'
            '260ba9c32aa5773658f909e0402d75f8098d2e4bda6e43c2276d616231126e44'
            'd9ab857f52a70b5f42fb24e045c49238c2f9b3cf395af2c483e05c8c1d7e2c47'
            'd199b891856086117910bc10025178a07062df33239e8aff374d2cd5249b9420'
            '4a886de1a90eaeea32b9ea78bc54553154610140d5d2be8d4678b5dffe9f6635'
            '54f22714c1c3fcdc295e175b9fb5a07e9ea77af417981cb1ceb40862a2c9ffd8'
            'b7b3ae37fe2c9ff2b8e5831afdd53e220c64897a1c434005cecc37ef5cca6504'
            'cc57e1ed8f78e5629da2c99d8e661de85714c306c9f366192b75a752cb16777c'
            'cb966a97afa34214f2d03468852b9018c8651e0f17b9b8110049650be2e94afc'
            'e9d8fa1f7a6a560660751dcdd6ababb347feb938c1cb3f7c90293125b61a30fb'
            'c642e19f4d226e138ad15d55317390922cf43a9e38c913b265fbdf69a79e4557'
            'b6b815c6b55430a3bdc3515ccaccbb1908352a9373d00e8381b35485f1ed8626'
            '318ea16a13bee683e913141938a7125114a9b2a8061fabaacf20b3a98dd7587a'
            'b05fe89bce2127ad36f43b13083e9a9b49d47093fe45f2d10be390bdafe3e824'
            '1602eb33122228df8de6534cbad1a72eb611232699686f6918fbf982611c8374'
            '28f2e2faa9b72f4084c677aca0216b01c637b99478d8e32840e771eca4808c61'
            '7fa02bbb0e9de09131e7209e0c1f7147d439f98268429f6a180b67c9030083b2'
            'a2a205debb831686c2c8af6713246303d745e46d5cd2b36359cc2785bfedcd90'
            '52e9f3b86fbb20e2411048e0e248c75dc9d8d3b8bec05615d8d074961e8c7f2d'
            '82480a35a6bccc6ed90ce07804168a9da058ad52400d9a1fbd3a06aa44c7e178'
            'fbb03128c45b240de0bb96ba08be8a12868c58b50186183f62285d0720b47a49'
            '9b630d43042a98894648162bbd96e4d1f5c69456872790cc89277d93d5c34d52'
            '3019217502a6d7c54875cb2d6d54e2ead8e28a04d09fcb690892ac2a8afb2358'
            'e588b8dca47c2ad01821a48629a75d871684a533c981119a6e694dadac905f6a'
            '40d1410972fe2aa9818802911eacb3ac158128e41fc547203aee08630abace55'
            '722624e9d21ff6fd52ce57e4643fc3cd5e484c662d6b091c96cacad0aee427af'
            '23b475895c2437eca3b01b6e3c8a52348f80e2dafe1c7f69d380dd71308b0e7a'
            '7ff98ed237dc0dc3fbab236d4df35a8ed0d8767bc69c28fb1c5c0304a6da0f7b'
            'fc494ed63c54e489b574e9a80168463b8849f85adb5e660518b585328f48abb6'
            '3ed37e161828a632e9c6d5619eac14aaf5ae74af1f0c836a41d8adb2b3e52d71'
            '80fee4f1962d2ac925c76417fc8e4fb34e7a4f62ccec29b99081bea720345854'
            '1a573bb31ddf09247d5eb6945216e389668ebb7b041a44d3b5f52073c4172581'
            '137b79c59d9b492dda0476ad446bd7f872c92db7d2d628f903f486e338315482'
            'a864b2ec405598dd07a110ee5d6be9a5728f2283acb945f4ab504dbb5e0382fe'
            'e5430d6c41ba4fb28d55ddf326e198277435aafb9164642fc854865053451664'
            'd7f96424ee135d6c2f9f7509eb7425f8d617e7704a399e1b079a7d9567206cc4'
            '0fcf89d1b321899c062c2a62e25e75d08d603070130e49398c14347cff371a32'
            'd43cccd818c22a811a4be7d08a5a8cdfc8c14872c66ad56ee7afe0433ca5bd6b'
            '1d05e3635372da7cbde81d9ee7fd5a707974353a1797d3e0384f1d16d1eb2060'
            'f21713229e7e8e163d489353410476588ee2e9a718ddc057191a758c8f854eae'
            'eba704063f17822cc9914a6c4cf9cf2f45660f2b1a1abd5d12635c847ecaf1d7'
            'bbacd9038577f76f1070a1e1631cf146faa2dad22120d03ec173ea0243311bc2'
            'bf2bd04ab77577ab09953844234e93cf675d542cec0174637aacdf89914be87b'
            'a74bfe7100162231836ac49c6143dd78280b35868feda15cd03c25feacbe3701'
            '326122045876004b4da47f6b89ee6d1b614906a42d1149325bcd52c8d1554c58'
            '5b0b49bf936efe188bd5ed129fb7dcef7be89e7ddbd108e6d870ec64fa0856bb'
            '7030a69199e50d0eb084528d42d41fafb805b8fe01756bc4a28ec35c4bf60631'
            '3dd04dd42bd9ced67b116629a7dad06f6ab695dd669c9415b559cbe6e16e4059'
            '7c66edfe6b12743534b4648cb3dcc2805eb3a5935fabaa67a9d14084056a1e86'
            '35969e6a2a5dc8a9bf36d096f835cbd77d55f70dce1f3741d32022df8d0ed851'
            '63d9a09340254da38c8291fe252f05834a68f2827c4684e09bddea7351d2a5a6'
            '9a8aae3133b074933d17e70dce2ad34af35f6e35d7685c93e457171fc5f9e661'
            '509069181151ddd8159ef3d5c357c706d9a63801ea874cb73b03a050c20c5363'
            '63c8273cef3535340bcf0ac2a086ff0a655f0901a90ad485559389016808c762'
            '0238838c6c94631715f7013400f588b07b0870369695d8c88899d979418004ec'
            'a3a9309e9289713f37a205869334e013f89759ea06ee56204a9c65e267a008a5'
            '931ac30f5e9821d30e8e4835a381535d7f7b923fb98bec259c9134127867f808'
            'e5208ab570e6178aeeb4ed25888c43639310adb2c3684130e7f071c62d39ddb3'
            '4b0eabb739fc8375b1fd110e5c0580b6b6f8820207544c47f6d0001937b03649'
            'b43ec65ae268e0cef2b69661794bea42d05c9d0a5c2e95202142db4177b5fd11'
            '75f0263b6c38ef9c67378be6f6665340ebd0a295f1cde4760b0e82794688c558')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
