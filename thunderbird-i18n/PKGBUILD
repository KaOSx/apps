
pkgbase=thunderbird-i18n
pkgver=78.1.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('51cfa21079cfd1967d9f907302366d971495f891569c50450ccbd3920590d9a7'
            '1ca4282a181eceb44e63bf33a1e5a502b8c2e07b7dea78ac1f04b375981dcbad'
            '18675abd52d05c155f8af69d7c6b1b7c86ca9fd868ec0f744f6fd1918a38a9e2'
            'a79c1f28aea4b9a3b9e7cd65cd43f19cc7b38bacdd79aac15a33d24732cae22f'
            '4b548a7a5d1a4b98b80e6de0ae449f496e15a5693c3fd87709905acb81a2fb21'
            '34fd0fd43d837c0e935017aa728932cc841ad31790f684967803ab1c725c4866'
            '21c3b5197c6a07ed75b02cee8bc088bb51779f739c3534e479b3d56ce25dfba6'
            'a026151489eb3d0a59317f77e60b8d69efb8a88482c3c2d03055d6ca97c87ff4'
            '386d5f183762a4bbd00131d129c5298505d114a47386425f9bca22668a68eef0'
            '9fbba4513c4c42110cc41ae46faf78e757fcbb63b825aebe3ce3d4b8c0b34760'
            'a40485046f3e028e6361a86f7db28c1cfd225004932eb0efffb33553463d6f72'
            'a0a5e860b23ce04441dd02633a58f1a0724ddadb7814ec12f126ad71f20e2cc6'
            '73f1247e6145edcabe6f2082a1094f32bcf9eeea622bed15391ab67b18f07006'
            'd9d292586e9fadb609e8cc801e1fde91670e0f3e012d8f7bd41401b828eea002'
            '5bf386d3df77f27dcbc0a51187ef7c5972f2d667fd60f33df1e83f492613f458'
            '9f475e2bdc48f2fa6338a15b4d1357bb388709693ac2f48f461c50216ebb8908'
            '352ef7177a10b1b5173a9356545c48eff9dbc28a1f3b302ba714ed6f379f684f'
            '5369e43499ad151827bac07acbdd75dce86c79634f91d4017156a5c9c0fb8205'
            'a6cc961de1826ffa08d6634b53b112bddd0345ebdef0ccde38971680d0cc745d'
            '7987b74ee899ffae47dcdcefabae149727383e467954fef12e0da990b1eb909b'
            '19f47096aa9a31139271558ee35febc4cec656f420b02b5792021028e156fa20'
            '7a46c376d2f1ae7a4ca0ba5bf772b3eaa00ba432cde4463e543574cef9dafadd'
            'f4214499a6283084616cbdf8abb60732a83bd9d886e0078eef47e03a5dc72cb5'
            '208462a870ba6084905956a2bc8ef8314f5b92c5e010407b0a8c0321ee1a4524'
            '6cae9961e2fd4219e6d8dbe6f8ec452e029f8dc4a718db8aa852851e4592be18'
            'c98f5203902d471dd8d5fa4cb769dc3123d866fa0c5c53a385cf2660299d184d'
            'f4c5856e7376787a20fde8fdfc7b88d58374064e991b51333b7058aff7439ca4'
            '3e64ed9b2e945e32fe9584c4af739f3747e1cb48a546be4657a8da09107d7a1d'
            '16fc36da6e23b738122e86d399b387e23ffa355d8bada575ffa91c3c97a8ed51'
            '58fb857e56d0ea7e2ccc468694fc31866f29fdced9565b51fef491af2e55dfde'
            'fdf498587e33a871d9c74aacafcd85e198f31489d2722100569094c25a3d767e'
            'c6f5310d7d54f2121a1bf8a424632f2f1cacd54a7b2de22f102c5f8b2292e8ce'
            'f11d84950c87e2903ebc90db6ec8abdfb533bf64f274c7488ad7e2b11b8b9ce7'
            '4119880fcdf8ed4f27cb19090a4971c9fa3081486a14318bc4ab69d050ec5be6'
            '0e606b79f75a8a45e2c6ed70f040d6e36067023d9f75da984d7c3dae49817435'
            'f5e8fcbdf2807383623d87f8f7e340fb3c0fcbf3bfc62acfd7c8b53c963080d6'
            'e37b66bf8f17827803fa30293c3aaf8d82780a8f6bb2b6a2fac488a1347f07e0'
            '6ef73b5672f73064c2374b2f06071f20b283943e26b89111b9f1ba143ba82df3'
            'f8e7d725ae799d2f91439577f347537d1b9d70b9d12f0d8b0a7a56d146fe7941'
            '7cd1c880b68c55f1056ba053633acb3eaea219ad98219efdce31081f72ca1fec'
            '1ff898cbd9cd6e9f6a671de1019e30db88654eee469db32b6051297e0aac5874'
            '7647c2ed5ca940822fcc78e6c625d4a6bb2b7287028659686433daf75297cd7f'
            '91d6f9ca3584bac3e3a67d87397e74a53daefca3e32e988a5ba28068044e646d'
            'a8f3a41e986d790aed850d7c058b3349fc0c348b20d8f3904d8312bbae045717'
            'c2d9f4743f951a21c44e0557fc46d71ea812d31517f63da7f86250e297e52f61'
            'b51dfc2fce7de4d9ed343867e5e5d4b47992ca206c02a842219beafadf2516a3'
            'd93e6756b31e9cd631652d8f58c81d1ba5e55564c35d83f159770a479a1bdbd8'
            '144760e5e73c107cb2644b8412ac5839a617f16a00f2d22690acc3fd4666cca6'
            'e1e2459a7989d44ada6b0075dc32049f171aacbe20a761876096475cb85f5fc0'
            '657a57de201d32b55d4ebdd8e37ba1265a851b9dfa9e998064d28ed888ccdabd'
            '93602451b1b3289d3342b2971c9288b7d1adba35ba71301943fd4d2afab6e3c8'
            '4f71e28f6ab9504f154c08c0492b4c10c5baea64adcb81c55e1bfd10a6f97e84')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
