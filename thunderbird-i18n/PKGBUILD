
pkgbase=thunderbird-i18n
pkgver=91.10.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('f0a72666a90d6d7627ff4478c81d08f88d26da80ce7cc6e3c2f76332515900da'
            'f840c45601d5c7fc45ae71961b04a4937c92cedec9dd7166b59a1174c0fd689f'
            '12d36fb686e288fef8bd7ec7c83f94cd210259f79f89c6664439d10353063db3'
            'e6155789fbe347b844077c988b11927d2db734a2c74b0364c8dc23e7a6bb43b1'
            'b7405ceeb2e089688019a36fb571cb89c4e051bcc77aa941607cc77060223e28'
            '0f7db6cb02a9d5b6946a70a2c9b60d41aa9d4f508bc50352a7e4d2adf8843696'
            'e291e2802143a736a9d5bc2f7063059757064abd0865b008f582cd7ba4870060'
            '2a2dad1f09cdb54bc0f468ac6354265aceb66a4657fc05f8c222e4ece9b718a8'
            '7568be08c5ea866c8df997c291ab66f4e6e0193cd37d17346f1e2843561f3114'
            'b761ef3615e6f96ab63aad529cf5eefe489d9e033b334008152d5198090a145f'
            '0de25c494a387ccca28424ad031cfe4c193a68dbb248c4fd33e95bee4ec73f5f'
            '401d59149ac6bf64a80455c1f5cf280747967772a98f5de0f827cde324ea8591'
            'c0e8e6ec17710d4e2e123251a89631f8e17e5dc289bb7cf46f59929dbca6ed0a'
            '82198d1e091efe2448951d8f1e6fdde32ffcd119c564b6ca5cccd3cf2f9e407b'
            'b0f0ba073362d92af16d7560abe5b7a90beaf650be4761bedc03c13b60c77ea5'
            'cd9e4ef909cdcb91619c6232609894fafbc8ee6c9aaa8f0d3437ce651dce4c56'
            '73c7e36796ebaf59e9c9b89089b111a52dcc89db33eec5a3290d5650e15d8d1d'
            '1993514111c5a398aceb50103c5363483b16c95c22d6b4957751bddd71cff151'
            '0c6525cbb12cb7f6db1e37f4664db4e75e9da4000c785e16a3675f7ac9a27ee5'
            '545ffd6d9e30afcefed9a58dd6b7ea3e296580f02e02760dca469d25f5c4d399'
            '7a5d64ecc29eb6548f8a3b6a4959b3706226e7d20a11eaf303e11f299b77b00d'
            'afb0626c1a7e9019f64f7f321214bd8b7e1feb0b11ba7e6ca4727b4ac436a744'
            '13e915cf31a5f7d529a172b2ad9726befa6ba623e25cee214a8bc187705867d7'
            '676a5d91246a70a9012d33362e75bec6a3501a63eff648ba02afec454a6d2f1a'
            '2850a9dfc5df345f0bfac72c2e1ad1a95ba3302f76a90792eea35705b53ebe6b'
            'e1c6b1050de8804f05bf33bb287dc9d534a2789e127464ce7feb936422d80f6a'
            '27e151ae5a17d19c2ee45cdad73e96739d90225bc3b29fd774d3542b70eaffeb'
            '3691cf0693d57e227d620224a8423463aebea349d9611402cf55abce90f4c994'
            '66824da50553791b2e0631040cefe99f3e4ca682db781f7b9a96b60b5e51321d'
            '036b267e32cfa042c05f0cf98656810b6275f23c08263d3b626417037d222a8b'
            'd60c9356722bd84c61ae13b5cdef4139e6be97173d5ddf4875463879b598713f'
            'b8b664b84454a1ea428f0c23d21ecbbf3644c8bfd1d84ec26084cc228f3fb9a3'
            'b41cb2296a137a47c84d8799052b71f7c3753ab3a132c9b70f4ff99519db1e6b'
            'd708f7dfde6dbb24066f0ace7ec3afd096f71b6c90d024a2f8bdcd12c6f2b5b0'
            '8c7b082ae6b6c80f5325251a83722e4ff7d4de5deeb27e3778b892abc1070082'
            '9fb9cc83899b43117cfeb90df8b6e6ff6ecb256081574a44a09e894ac6f14caf'
            '82d294fab2f48e311d92aa47863a630b47d4537a716c31ecf6640fbd90cd76de'
            'd23019d423d51360e3ef14a7790d0e7490bf9c3aed86716883b9e4be730fda1c'
            '0d9b49700da7cbf119bf4b74a0095dc5e65ce089a358e8baabfad14b1d8562e3'
            'b1a58cbb06bc52eb3d3aad5b0629956139b60aae98720221b05f36a621b6ef92'
            'a57609e648f4a5bad56028663f73d7b7d99da19ca7b43cba33e76ff2b8f9ca54'
            '536fc18e714a69a1a8455480db940b55d345dc4d642326694ab7c544ebb3a1fa'
            'd87586686e2ab71c8f39f0d818307f46f7ef17e6ea148bb45849e4b0cdb5fa74'
            '746d83c71714853927a7f14f99590df24a22db9eae0ddc6e37d92593195ca16a'
            'be1e0d7bf508d155770e1536968ef59c0b9a20bebcf87645657e7061a4f4e484'
            '4a7666d7f6e6e5c02ea25c7b109d71c159668e80bc55a9e91f8b4d6a0e96202c'
            '69e387ef300490207a194b2772614496d9249daef81b6792b7af28958c7902f9'
            'c563d9064473bbe1b27b5e5daca2f281d643d24b3aeebcf7541f5d559998cd3f'
            '80ee19707e5aea09b95e14b8b701dd05f079fcb4c3fecde93f29982d12bd9bbc'
            '0c08e1715a69b063fbb585af3bdc0a70f44ba8332fad213abf525b7a62c67c49'
            'f9a1fe117eeb69284dfe16003a55b6611b5cd2055cf7a6acd2178c7242c0ea89'
            '9ee732416dca0edccf137769826ea6b9aee2299fb26e2314db96f4080e1c7e76'
            'b991a90722c4d227ae128b45c021cf0514724f19a0ed9fcceec67dbd4c8dd0a6'
            '151081c412173eb99e70f91b1e3544525fbab0e215f592e500d16f4ddb8af598'
            'ef3303569ccaf00c559fee0f8ef5b812ade635504bbe8a739df0fac43e704c80'
            '68152b16f22863be88e407f15851cd7e7ec9b3142d33e9db91db5b07720cba0a'
            'a243a14a367e9807bb92bca71bde0ef8cef9f89aa6b9c2bf271012a70bfe0a32'
            '067d1c9d5fa0762a254b47abbb36a81fdc67ece63404687893468e720e13a7ca'
            '30bff97cdf77e434e2a1bc61a8997988d2b40dde4cdac6b1c9db99335bb5494a'
            '3e736d87a9ebd7500ba8f27eda67ef3e993fa58753574d59f560525236d79774'
            '827a7eb154e8338e86d27d3be0cd1dbaf0d064eb4bdb36e749d62091bd5f5d0f'
            '8910594b2db4a11ed6954bc505c005d84eb188397377e1e7c819b03a4ec812c7'
            'f1db0cfdecd283deebf9b1229c2e1f792cee670f05bf0bc17144ea26a4586be4')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
