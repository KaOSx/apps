
pkgbase=thunderbird-i18n
pkgver=102.7.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('e72ec6099c9a719cffb5f83a441170d76553f098f20f33ff3f455c596f1fe09f'
            'c5216e972b86c5d259e03c4071a1a23edf6c0acf198568a4836402dd5d86b65b'
            'b2b33e7db1e7c362d56a2ef7264b206febcfe2167af8b2259b5971d1c64376c8'
            'd083c913f1dd523ff25346715775ea1ae651129991bccaf8062ffe9bd26ba604'
            '2b73fe334f444a7cb38bbc104ef5cca386be00c3dc316d4b354e4975126af420'
            '292b8272839bb22977b027f517233b52774889b630dc8f8b83d5f46c6c829415'
            'e7d08bc5743e91c6bc9de9ec59d45325fe15869df323962c5297e7abdac8937f'
            '2f370ff097dd70b664285deaa454ef52be7f91396efdeff61c6ea4e6fb12e7d1'
            '07a85e75939339aba45646c4aaaa17c57a4deff65c5a6ca6152e5179353b6e01'
            '421e6384ee18ffa13261d960338e4e1a2aa985db346e1b81270d2ce5df797518'
            'b550f913d6d7a25a821ed1ec3dadbe830087b56720b869b9acdfdb5571ba46d9'
            'bf1c81d9ddd6afc6a260c554243e74f03f51f5973bfac01bb72687ae355c67e8'
            '763f8c1c430b3a6e9308a49c16bd2955144a73d3463935397c94c56737988e60'
            '370d1e9f36053bdd839cd42db37a8a7b4544f85c19ca066463f56d0849f8186b'
            'a0070246109cb112d61eeee2227bbe68405d030141c139ffa916594aac7e36c4'
            '473cafe4da8a21ede7a511c85be50041a0bc2a586c4b3d70b63e5fe41f099234'
            '86766259ad8f13f3116aeede90ee500aea692b6627bb0afe8d7c343ffbfa7a38'
            '10a023eff1b6ebcb469997c98cefabd5fb1d2ecbd0b58a178fc0f0a37d82d98f'
            '334b550c15d6001d35e2a9bc6e827193d660e75e7d425822fe6879e99c695d24'
            '3030e571f5da309967eff4e84a56bdd1c864cdc46125f826b89c51c9270d051a'
            'aaf54173904f015fec60808255a10f116c323be87a14789dc50e2087cde8746c'
            '17700c2b073dbcef0f67bb9ce3084c42a77630035697a6777dc6618a548c3c3b'
            '2f4c905fb2246b6821908e2ff7996448dfabcc47983694f91e0c625a4c8cdbab'
            'd5997f7ce0fdfae91f1f0df81166395160d75ed678e8cab7f5a30b4de331c1ab'
            'c1940d3eda0b93e0b5454750b277a857b0021b10cbf5be6971a93f0ce0b46c35'
            '2c8751f51796deaac380a7ad194d12d505591f231784904209128dd6fc6a3bb1'
            '3cbc8e6a11492e6b9ebce38ffe533e4a4c395bb5c8ef7a8348c8d77f0805e110'
            '7749fb6d5cbcf7f5c2b11789a9b2acf8f18a9f917ddd497f54a5728bfac6eac4'
            '3f9a18033f886f5281b19a2804258c0b54625b07a938c87817371cd0c5442e83'
            'd6cb8b5d4fae4df64746fb6f6e813ad80e0783fd28662cb9bd1c72bfdb66e60e'
            'cea5d4d1d8ee318913c424c6160ff33b5dc098a85c88f3d90fe3a67ffee8f9f4'
            'f0b8bfa637f47cc5c4a1c311f40fb98ca9748d99148419b353ececc2a25c226c'
            'd27a06ed577218720f75515a2c2f54ca17f785decc81ec9cb6aea9385c509e0e'
            '0fed18edf6104962eea8d8d3d61fdd4d59e3a632d33ba6024ab9230aeac4d013'
            'eff620e85cee79dba4b6c44f2805742245c0a7873c3ac153a48bb17d6aab8b90'
            'd5e1252a4f4a933f89c6efdf59a6b8faf9e7e489beb371914fd27b26a0dc1f0c'
            '97ea54b6fea4e36c5b0284a4a6d8e9cae940ebbb567769df2817fa5163e806ca'
            '6f71035cebdec0f79cf9437ffae24be8c4c874ebdd0c8b12fccf3cc37850e5cc'
            'ab21121f10e300d08aa6e1a3bf3be859c17e783a9bafab66dfffaf0dbe28d3e7'
            '9adedcd8b35aa32fc9fa039da9e60189f4496d4bddf1f5341f973e43c1a0244e'
            '4fb85bfbc0270f58c9da0f8b282603385d42dd5ec0681c8bc62722e6d04f97d9'
            'f200ee5df2aa84b8d624430b16713dcd08fe20961305b9698f19c606533ddde8'
            '342cd67432539d7584a396a95474379b9e541a85e511776ecbf2c77d38278805'
            '6e8e0f963cb5100898431e90d17914077ee191b9f0fec85d552c66b80eef9747'
            '775be5cb5e5fc59f0039c8448e0198b28d5cc7894ef18b57f9f957d95c14fb0c'
            'bbbb95e01705d87f4b5bb0d8fa2ca65a66cc9e1adda854b0e8465033f40e5957'
            'fcbf867be4d73d962982891af4d899a571a960d47e46c9872fab0e95916e4603'
            '06ad3d3cbbba0979bcefb247f2169da1f56c28eff49fb12a02aabb8100d84b43'
            '401092753934d98d3b6b0600322d37c5d97321145aa39df16db8ee0e063fae90'
            'f252f724b9929fbf863752ef19a0fb6fd0451cb6078afa796d7c29373e459b90'
            '361142de714f64d48d3d5c32446068ebb9503dd533d025900e9627bd850910a5'
            '3ffd2ae401014483072b0de067b5437a10afb110730a848582bf0a71d2ae632d'
            'a54b235555aa96208c047b62747d7b6e410e927e5a277c5249936e8ff19c20c2'
            '883fe27f358390e8534c3a3b68460b62477e55724799f83a691c839ad77f8616'
            'bfbb61c26f2531e2c35e79de4fb011f79e9a1bd466e8038189baffa798ec8552'
            '5dd7e0d87885217b9917b4575dbe236a3edefa6a460e4288e8e4fe9ca11e619f'
            '332fba72d72d33e6252349ba4ff0ec752eddd514bd4b9ba97370820639dd56f1'
            '2d221afc5dd8ee317f58b043e54d3488c7ad9f6949be78bd1dc2f8d5c8cc5328'
            '69ac752ed88d43872c32c81cee164f49180c60ee051777f07dcc9b412d613690'
            'b948b86440df137841ffb305f60c9b87dab3e657864a5e2d77d541b9ed6b66ba'
            '4d76ce4fc14cff4291fbfba5df63fa4b75b092f88481fcb868beb9282bac285a'
            '7062dcdf5c315909c4c0fd377d066fe46f605d968c8b07003609e6660a9adb71'
            'ff73b9fa61f74d09bec982c08706c70afbcf3bdd296a286507a16d8d6e123c68')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
