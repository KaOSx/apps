
pkgbase=thunderbird-i18n
pkgver=102.11.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('d49c284d1c9397bf9f339aee1e5120a810949cff40d0d07e1bbe1d47c7369260'
            'bcfad1e3122b7e3eb3fd6bd5c7f43ccabff65c84203038c659c539e5dd7a6961'
            'd612cfaa9d08cbf2d77f7d9d24aa0f4e162f4fe2842b4e7ab4694a4964b05db3'
            'df8dc59296a5868a9fdea514ff5d98778fc16fc4257cc9b292b5037732dbb12d'
            '98123c14d1d678653abf1ad39171c3440b0480d4be8523966663d0e58f9a73f4'
            '42576023efe6fc6b412c20c0cce32264ddf8f5175631a370a8049bf369592750'
            '7d96a7acff96d5c5c55134bff04a285d4579c6480cc930ace5593d73020a3a0e'
            'edd87707aece72399f4fe2141e6cd14af8a59f65ce452b36ace1b578569c3379'
            'eb7414bc92f1c0e95b83283a675dde03e02f122c5ce0b553c7f7fda5a986d1cc'
            'e36359779d123635b2d18707a6c93a9ecfb4dab3528068921e9af863c36b63ba'
            '325f049019898d7b0256491cbfc53002aa5577bb297fc152c0822ceb5781e328'
            '60d761ea71245763ae7ca084229e37045a733402b6b391323dd6380ffb04a70a'
            'b77c75c5c25b839d7e1640865244c62c062b753ac0def005532085e7c8196c3d'
            '91f91e6574971ba6cb03ecd152db6ea91efb3f3c893484843e62d55e30bc2445'
            '60b4ef9db2a9de85f87334bd90a57a2afe0e508d612a2b7655d8575a8cfde8af'
            'e3806cd850758f6c102bb3bb0603be5464dd91bc7cd4ab64175d77fab824b8e6'
            '7e76624a39837e08477afa06e67bffeda5ed59069282ed02d1ba2db56ec50e7d'
            'd27d417d86240edaac0e241bd4003196d1f7a68b5319a0d86988effbec26b978'
            '10b6e0cc6f9554cc2abf81b9e10c0f6c73d90ca80ca40c19190ea5ea179b77d7'
            'e41be65556e850d1d544016d7e5560280429961b9441e45dcf3ae6d404e6147d'
            '0139a0eb7ee38f9fa61f2f8497564ba5c064118118344dc2c42df4c00b5f7f98'
            '1b9e59aef2f317506a21fadfafd2b3fee65402517810baf0e784380698788133'
            '8b8c3cef292e73277d3a7a3a5a99f725725bb558f7317af0fd3cac86beab7ade'
            '12cad0d28933b5177d04ef183323b3c81e5276ba0fe642501a535808a7627b3f'
            '98fe4663a491f46681492eb8bab9eb0e5b151cbf6533f952c9fdcd31546cd692'
            'fad019c710bdf407eeb5a5a2f7f0045942b016ad454187e9f9a4a41aa4c51396'
            '399c0d5411060851736eb683237cae6e7186d23fdfb68cb3664599fc91c0eb63'
            '239d3272cde975fd167fec4a16d8b79813ebfea831391cd65e1eeaf90b3401b8'
            '1371cf91ebd1c6b883336bb21e0f7a0dbae6dd615f37754c25a46309bb02f5b1'
            'f60dd17637215932be1693198c12bd05f2441a24c87137fd8e48094a240ed47b'
            '1096e19afba0448cf0ab1ea853a6bd4c00eba9fa562abdd26fbbad85c5fbf897'
            'f369e53515594f217c2221e1da3974587552ac4bb027f936bb58a4730c9150e2'
            '1383fd4848d69e39b81dd5aa20be7393a58ae517d230e18e20616982a20b6984'
            '4ca9b19c835f9fdb4bc5a06fa97e64d315400d47fff55237d5f013119a472a27'
            'f48fd38932dd229a0485f66dbe4939c2ea4455cdebc4f9dd5a95405e00b838e7'
            'cf80faf53110ff03ceb27c9d1dac48322bd685625109f81ae050d7a23fee14bc'
            '927478cee969faa6a74568d8be55be42eb56f7089c9e3af6708fc6233be0fa66'
            'f762ad9ea15c239ea55b81995acae91d676ec300d71008678dbc203aa2386d52'
            '170dc5634cefe9ffe8cf5f6e5dc2014c8ef430a1c5baf6b6b96c3a3eb88b64fc'
            '8c7b025b90e81cc24a14a859e0e2bf852f68a63723c42459abb8619e4f23de49'
            'edd0f738c6e6acf7fd70ee8dea8940d64f1fd1cb954e2ec1570bbaa24136cf34'
            '88a6f1eb6392a0e50b8f0771cf1132ce76ab6c93cb13f408baaa5d613fa796fe'
            'dbf12d69a19d8c920ae42741e85df28375e4aba90d92a13844515027a36b73b8'
            '48681bbffc07d16812406e7f8d6e4afb697f2adefc04c6ecd5a85534e4e98d18'
            'b255f838372caa2c717b1acdfbce496f4435a469e5f981753084878dfb97a435'
            '57f41032f04f74f84cc7b8fe9c19171a3fc539a80c5434fea5e372325b834894'
            'e2d5dd95b78c4126acf35eb15fe0b283fba5499e4b7d1948a622f7be0964ac06'
            '6e58f054d109acb40921ae57cf0f6793099e83edf57596f576033ba563a6f8d3'
            'eef15077f10b973f1016afc3e20ffedcda4ffc211c0cf0f430e9d79aef2dfe5b'
            '61dfe21405e514ac84265eca75ac5dc7b9df29915e0a5a39ae3641f2471d263a'
            '06239467cdfffce88ffa1d755abab17f657d2a87f239a0c652fa55ddc78caf97'
            '868bc21a49544a515ade72bc259dba6f8d5f78213e806df1ec522e9fd449e8c7'
            '948e505fa4e6ad6c10626fa60364ab5c375fd020337be76d1b9691637133fde2'
            'f705008f7ed1cd99a82368a04976664775f54ec14186221c8dda6a3844300ad0'
            '7358dfeb154d8b020acf5f17b34f7afce0d2c64800f04652f018885dd482b07f'
            '9366ba57447bc49a4f0297b7f1165a7db8f66a14d4b986b7b1e6c85dde135c6e'
            '5a3d74915e5fa16e0345061211443b96f5fb89d7936a29be563dd095a9e49c96'
            'eed62fbf3d9cca4b96d0ab56897f0de1db773a3d9c5e10614f5d4d17b73fe76d'
            '558a62ff6e238063c0db3d3248a5355753a6aacdfd5817512e5937304d11b39d'
            '082942217787a7f079328a76e76016800cc933aeb7bee69c00db76c81f9cbfc4'
            '329984b8f3fc625c6db7b4ac35722932dfd49d307b665370bc5c9f64eed2f78f'
            '372b4e86d8db20211d05a55c7d0bab0c8d6d91b550c6f0028637c8064abbd1d8'
            'f14783435efad3dd652673c08ef53a9f2e5e6759d3bd78b112f4ad3f3120f20e')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
