
pkgbase=thunderbird-i18n
pkgver=115.4.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('b4e1c960267937b2cde31a04f55b74915811cfccd19d4ea5f7373075745276f7'
            '8b0373b63848dd63887cecfb3e4940fdd138f58f3ebcac2126eb41c8db1095b1'
            '6223413fdf277461efe488dee021951275fe72bdf2be1ec4a2a9f29a27831227'
            'e1007a2795f70711bb413c376c35a20d00d928f76a7e0992c172eb17959c56b1'
            '082c5eb3fc106bb0d7c20893b9e83cf5691feb37442aab2db65c328d7afd3998'
            '5b640f59cfa096e42123b7129b9c126465720c09f1b38e924967bb960b732aaa'
            '66119d6a9bea7a930d588b37f277a2f956df2869055ffef94c802f9cc586536a'
            '0a309ceaca0f98ba9814b63f54127838178bf0795881f8529796d6f0f79f34fd'
            'f244013cf27041835b6ca087b8d8db65e1954f9f50927bf11a1813904d4ae015'
            'baf11611e22473f2e5014e20f41cc5bc88947f1561e3e270262a1bfae2d2cf97'
            '5842792b66e3eed7cb7e7895ed75731735ad5b93bc8160da688fc69062aa6e6f'
            'd9288bad08dabed8e6d47cb9dee215ef796a459b8671e2a0ecf607062dbb2e21'
            '15339b7a6c1e0a584178bdcb3ba40a88d89c2f91670f2217c0c65587da8e6a10'
            'f5884936f6556482464c77e84bb1ff0c8c0cf5a213c67454383d61ca76379b43'
            '5446947f1ce2b26bb6fca9b90cfc85641e41715638fff12d2873e362fc752d75'
            '722cb6dc90b4d2ed9203dfe20adba454f935b4e5f333794fb89855b16d3a7167'
            '8fda2e85672dbaa3111a22e27b0eb75723755067adab54b231709126b2ef6dc3'
            '17a4a42c56e1672b6d64ac94229ca612b7c6bc83ab22c0b8a60721bb607fe0ec'
            'a4ad8f01c1ae5984ce7805a6b21ea78516b6c02ecea2776ef19d9788e2be0740'
            '89b9ce852ed2dd81b2330a2435d835e4a5f259370867cac5dca2a46b9b84f5df'
            'b1df107f1ee993daf1896c8483a9983102bc8baa392035b675ede9d28623f57e'
            'd42f8043e1559a1c2d498e5b4aa83bbb52e21dd0ff9531cde7e967e3889c5d77'
            '2a09975c4c9141b01acc8f623749b3d25aaab3d4ec70a259ad3502412b3ddf2d'
            '931e3f6edf8f8bd81cf08b65ef8676053c2807c4f2c94be93f9436e0c7e87f17'
            'f31e0d6fd5d07cafe58d0fe0fe4891638b827e2969707ed8dc3a50b3a38d1bc8'
            '29daeb302f6e703ace24f7cf54d35e1d13196ea26bfc933e08015270ba7ad43e'
            '80b86e8f52cc7444b8336b3741a9641845414ad368ccd4572ac6b14c34cbe34e'
            'a219571717e6ae72540c28177159f8f282d116bc4c0267dd4c5068aa84446a99'
            '917928b0b74861bb1fab9fca91217dc960c656b858ebe39903af918d24fdd1a4'
            '862c839f785cff050eb5d6e43d2dbdc696320c709bad8e022301764640a5d51c'
            '9351f87ae543beac7ea3e00536ed8da2207b4444c0af86a6bad5cbc3b1322c8d'
            '6899c4d40f4eb4601b27cf43dbf98b7f14b30ed6b509a04666e9a475b65affa1'
            '030ab3ab5b0d28f8457331526d648375bfe3aa847977277eaacc07ad86538077'
            'd63fbeb4a48c03ae3fb0e2b34e2abf6048aabb69198bc246847033b3dc69f7de'
            'b8970c75ed7e0cc47954913abfb59e0072f098de60744510e34a1608bc6236c9'
            '71eb0b5870e7474aa3288478c55170dc291e85e82c9db0ae8a3f3d31d7d2e936'
            '76f7d95f5b7ccebbfef250faa26f483281b1d622ecf769f9260f18c9cdd663b3'
            '76ac12176715d83ba3d8a68f46b9071cbe8abc2631c00bd3cf2f5aff4e89f8b5'
            '1175a365c82ae30d7d55d4146dc9ba379548e35d50c960a975e126ec2cefb1eb'
            'bf4d22fbf4ca2f63244f25ba2079d961e3f68ad8a001d68de9e55b619dce4871'
            '4eeb665e6b5d2cfcb5f1baff7890a6e9b84a10f2a09066a0d6d606636d2d4461'
            'd7af3ae3586d7aad8c6a526c2e519716cfdc2c034b1e2f32ebf79d7684d22e0c'
            '9aa4aba6be2e54d9199977769aafeda0f2811906d87092c96d99296aa334680f'
            '72ff73b35abd36c1bd1782d1fd41c5d5aff2e7c8dff968fb0b9bb5f53572bc5c'
            '359313d419d9a8be83ff37f19664236eef3533b151a955f13dc63fed7490199f'
            '9fe5a2a867c6aba940f5cee92d636d8a04c3a44a53576119cceffc55f7630f30'
            'ba2947c671bf6a5337e5ffbe2a591062b19a8eb9227298321e1bac0428ae5970'
            '4480384fa67847c97733d2376bde2a1b95c111961e52f0ed9fd897782ffb0f40'
            '51e57bb22337526801347a6881d43b9c19ec64553f903cd13138fae51071c1c3'
            '8a549380f8de5f77b92ba5322b73483b3b9c5d8793f9f3065fd28f1f059f4692'
            '9aebe6808463258fdfcfa419f7cabb7bb74bc56add1bfcb0ecb91a28fd9c4807'
            '67ba12f9a571d839adfb729ad085f61e43351b829ac2d9b40a6f7601141bd676'
            'bb7e3b728b2f904b4dae798122e1ae3ef1f34de62f01f3f5759ba70c091ac943'
            '3680d1540c3b9edfdce4a91a35a4b9a407b89d0745eeed859e7ef4e3045c726f'
            '4520bb78a6c17fb942faac64a4d9195221677e9591dad3d1f023602f341e3097'
            '7ab1aa44ef13bee47ed67afe3b029d93127bac82f70b49e9b483e638272a1c24'
            '7143d315338b71ad6f2d76ef99f810ac5dad70fbe291dbda577107ee301b5609'
            'f12c188ea682c78dc5cfbaf3db9ea13d056db069cd671205dcf9b2213d78a7e7'
            '835fe08282bdda7f85e58851f618ac531426bcbcad577bba55197f7e03c0806f'
            'd9fdb3aa211e12c185fba73f3cb0883b0389469095de98449f8f1fbc0ed7d679'
            'd36f2f121961149d3cba4c4f4d1103a2efd316eb3676771b84f4a7b4de7daae8'
            'b1eca2b48453848e62c1540ecf1ca82c921ffa150953b8a4e30d170620bf2a4e'
            '7b38c4b3bd436db129c9491d1e0dec0ae97378df4f6971a1a82a176975f75211')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
