
pkgbase=thunderbird-i18n
pkgver=102.2.2
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('5dc6e2cdeb92aad85c10e88361dd1b31cb72db6076201d1df2839b8dc10e3f4d'
            '44c7313abe52a4167bda0c4c486a8e049f2ea4d0a2bfd1da9844b02e1e241b73'
            '6c967ea16e27a287c115f021d8af36c5e769fb50440e17d162aaaa783a0d4936'
            'e8f0f437a6a35ba8ef871414a77d17244037756da93c89ce10793124f776ce1a'
            '13072f95b901dde3a8e48beb0f0df4837d013bc0aba9d844a8fa3a567b85d683'
            '52921c24b73dc68f044e5658bcc681f4456ba9bd5c038b128133cdf963392cae'
            'f02fd27529b79ef1c2675c3d724b58b52193a28a729aa8ec42c388129d5ea5ee'
            '13ee3282e8e7b72f07ea8e9d3197f27246549b3fdfacf4d1389879465db251f5'
            'fbb82a4ac32bfddcc12969c4c7c750ad18537522d2be2d0527b96984f14e0d2f'
            'f9f13f7bd71e9f61364494c2bcd9207abd3303884e934b892a8595f9e964d87c'
            '949cd420615ecb1ae87b9caeff97ecc7423ab28e165db2c1e264812676e9b459'
            '3d70426d723f9f3e35ad4bba96ab1c9b3aa3f2e9eef5331a0a28c191d5623e66'
            '688c6164c8f68ec4a1a988f6cf125aa4cfd2cf311ed4fdf75b28c987b03535bf'
            '9569b76bd4933013420ec60872919238a9e0e240121fe9b1496bc08a680bd405'
            'd487ad3d9bb550f71bf1f246d9fe41fd5f7998daf8c7f60e9c163597808414ba'
            '9fdd37cd3ca75e566cccf4e4eb9d3b8c3493aac63e8048261980662f1dda9ec0'
            '1dda150598e470c5b9e1dd4e4512941d18feaac79ea851fc5926d2b78e8fe657'
            'bcf480316325137fddcfd29611b35c7efeb367866f140cde9dcab07242710716'
            '6bba3c0ee5a3c32dbfda9621735bc544af828ac0e5da8683191ac4be43c1eaa1'
            '6590f52e786d2fd4d8f8be59acf1913d039e8905f32dff7a6a52155108c0878f'
            'd9e67c0a1b26e7eda809449d7302e92433e5bb8d9566abfdcbcc76b09b5d8322'
            '27843aa769152e5e8e3138743a2f8a4c8e3f7f4b53f7e44b49d8d01b3fed9ce6'
            '1556e40735fc15597d127b86a6a4f1bac97b446a28d02f0f2dc563c957964c18'
            'c4d0aa88c02ef95f4f1b4a4114c73e1695322152a8cb59a5ceaf8a2f34dd1c32'
            '307c49f3f1bca398eebf5a832108d8797c27bb0915bbd01f01ab87350a3fc82d'
            'db027c142f48810f289545c35410460eca25b335ecfe73595f122639a52847f7'
            '3c0b4ba220f3cf3e80a9a02f9b6cdb975659ccbf1a050275786dfc19ace9ea58'
            'f5ab4b80207a5c12d99869df820b5438d7fb74b765acbc850dc926c9e11206b5'
            '1a39a73a936df770c604e8cff01795f87912a36a14faecf5e6aa08bc6dac177a'
            '4a374ab4284cc4fc5d67358be00ad7f69ac0904274eaf247eb1ab8bfdb2b4d50'
            'f5ec89f3a3db05b333c98c781b26fde772f5c06995258bfa3f11e652f68cfe79'
            '43be60e01a7fa813dfcfe5135557ea740e81f635b8e99e2144f87909879930ec'
            'f7cf89344f23d4a54bea66365e93b372ca9ae69a53411cb7351b01ca283f1876'
            '8de82a41fe900b36e65e52b31df5aad815b3e8fd758859647b99e111d67e37a1'
            '4659180c7d0156c190c45047a513e14fcc6042060d3d5d5d81eba14a8cc8e695'
            '1139be52b613375041e0c6500b5145c648dd3e835033bfdbd14e81ef80f9ddbd'
            '6a03d66c348f29140092dfc15fc5a87b6f824af0cdb103d0c1dd65270211bc2e'
            '0de981ada27fd666ca53a490c7d30a8eb6f324323f73ac34eae3d0f7ad46f744'
            '53009e7556b88ab44657b1e9259247a704e12ceb6526cb634651d717f77fe450'
            'bee4265cb6aad2aaedfd8bfda4f6245c7d2a2b41dae9482e9dd9c7d01678f585'
            '3fff54b1fe8c2808d9820617d31eb9135dbf1867741a5f174f9bfb478b4c7ecb'
            '79c26786c0bcadd1fd1ba0afe04a0b2dc77db56dd163cb99ad582f997c27051e'
            '3cedcb4c9459a84f287a51becd2353ce8eef3a97e2274fb108805caf36e30598'
            'dbc3203805ac6b33678814c0bc80a246f45126993ee2ce9dee8a545e307f4397'
            'fbebb40af23d46a5f65c0074ea96de87034a5d9cf35efd03428d141c3839c248'
            'abfc3e075a0c9827cc8209b01a0dd4fdcad1417ff2e30706b902e8699e42160e'
            '693622b1618c53e05ab6cfd4b938b9e0ce8edbbac5d47cf68f56be80a46e62b6'
            '6fcc7825f28cfb36ffa1eec758314543ad3752f2787b0342f1260e16596c391c'
            'dec2b4eb254d3be2ee86646672b5b90b3a56963fa5738a0879aa410a23586dfd'
            'f0c521e8223b2d2c0327ac52056c9bee5ab3b7d3b6aa4c53132fd94c560fa7f1'
            '9cb2eb56d12d061c301df4ed95e22d69fedcf325f1b47b4e916261ba78b34ca5'
            '47e15535f6ae09a82cb83d74f1d740f32108ccb640a92b8f265a7e420794b70c'
            'd8abef0a29108760f08076875e2e124f8e3f5bb7e1f1c9b9c6d4a94db49930e9'
            'b2fef629c16feb2ec84b3229f41f047f63cae97e5c080c039e4ba356350d7960'
            '3644540dca6f5d14b1a8c5d6067d8b2159a8e969e0a46b050cdb5bf2d033728b'
            'ba7861e4b3ea39a7bf8cf94e6ef8f002777401530807fc40222b7e5e0142c3c0'
            '4ed205d87656508134c946418bc52a9d2335507fb9b300a8ab43cde76b39ba73'
            'c808a7d83bb7651a2b30ab3eee02cea67bcabbeabc3695d79eae0f232580341b'
            '346dc56467d0c77b905bdd3fe3e8e3739eb03a38ebf5204bb58b528fb0618609'
            '08043bf8e60b6fd40fa357864382132ac996c9f1353a5773793f27ab11a5bd95'
            '4f5d1461def84ad88ee8eb168fec972f7221081da98b36cedc36cba038427cdc'
            '2ab99145f7d0e36b69503b83b68938e2221211f2708413e65f683f30ae3c4b7f'
            '791a752a70ef34915ded2e69893d308f337129b239083df06a1e4f3c5016ebd8')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
