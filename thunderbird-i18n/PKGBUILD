
pkgbase=thunderbird-i18n
pkgver=91.11.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('1644e0cb6509ba74f7ed55df21f4b116c15d58cb3d0002a8ebf0873638e800fa'
            '55cc204abbd0b3f4f724f166caef44b1b0c9d1eee2d7e185f510ccb4a669d3f2'
            '344405e91f487c2bebc1507a9569eb174ed80097c2629bb956220ba94f948586'
            'ad311554db871800a80cd5ba31bd8b54dce3595b77ba9547dce379d624cef067'
            'e779ae8c6513d25976e020e6f56a3b250cf08fbbab1f81187ab081bbd8ff293f'
            '91a786d71f82d9c2ea568879a8a42d66ec82ff6f89033795d97f875a06f214ec'
            '562fa840b232cf18080508519e4c72eb37001d83f772138985eed88d9d524178'
            '87707cef2177f5418fa33d7c02fdc0992a3f89c69aa8e51d84237f917033185e'
            'e0a78d8f1e9952681e4f777af7f3756b1b49bfce68ccfabb40e5fe1bbf7a9a33'
            'e736b7547531670978db3d225b51f11600ff7ddb1b98b562aca904a93bec2528'
            '6a5f41fc6f3df95e13f5d60702fcf948c82af36387add9e2d747c2b5ebcf02e2'
            'e04bff3d0dadf1c7f97e6ae0b70b3bf6b7e5bc0cc3579c1cb343062143588c34'
            '48c921999b71243ef90f029fde936a63229b46446b566262bb3500345ab5cf54'
            '22f3d9a944cb106668a17e833262be0eff06932e94be861f1b219268b2f2350a'
            '5813af0bc2969a87568fb7e3ac24ccd4b9b4aa562e08546062e5c9d3aa9d8ed2'
            '2454b43d530cf19d53752b0f1a061badab1d5bbadcc8c1a0796e1d40dfb980d7'
            'ed4154de6216ca8c5ecb6a3a4320a8518f2443c50692e37df58092f29755c656'
            '9b688e4013acbb9882319e663947ef571b33b5e2c1bda9994e5f878642c697b8'
            '0cb2a973b4640ec9cb5fe0795f32d0675738b963d7e8bb76a18616eb75c12b72'
            'effa69424021d239f50d6ea786e72afb513db9962b224d37f7a5ccbbdf3fb674'
            'a6a5572b063bbed6078e8707722c79ee51316deaef6bbe8db7afec81ddb339f1'
            '3511f53c4aa6315e1296415af9d4043fcd3745b8011b34dd575fea45f5b5ef06'
            'aff60f0907b562684c7f26ca6a9a471af64a5863b6bb93e421558de75e3ac7e4'
            '4e12511d5e2fcc06db03b7d6edab8536f2e99ec7cb066f22e1d86887ae2fdca9'
            'c326ced5663ab19e1dbd1fa220734c6e9e8aa85c1228dd08ab371f7bf9112874'
            '59bc8e9463aed13d1ae4f9ca4da26163405c97cf000df4cb5c86c0672e7859d9'
            '8d5acf98095ee642b9bd3ff3f7459d8c6f0073d641c7ac536ea518745bbeb90c'
            'bb9f856ac582317decf7c1d734dabfb212b8cc46f4f74a26bc6951efbe03e3ca'
            '9b2efee7729b1ef398e87e7f6bead9ea3f429e2a9991a284b7e11958ecad35a4'
            '11942dace39c35eeec10a6eb3890e532719be3514d024c543b15136cba61fdc8'
            '30d0c5b4b70f6d74c5869dc6be81e70e098c0792b69cff58d82293a0fab9f685'
            'ec868b3b79fa3faae6ca08515e9c245efafd0e2d001368b37b7cee1e123a2ed0'
            'aa2b8a126d45855130885c034e7f05532476ce3a76fc084ab852742c50c0818c'
            'cf551fb9c6433cbaa5b1ee4d670c93410e6b6c4f7482e4a0a22f8453c96ee1df'
            '5a43539c8eb04b537425f43c3ae54c3742b46ce2bfbf4a77aa753f2d8cac18ac'
            '409a3ba62e717c87461d586d6bfd742703e4c8d0205c73b5018a70e732f97d96'
            '6316165f3ff28eea50e4a2da567f09e6e83f39b0e1b55aaf67d9775dc3ba2764'
            'c98cdbd7d97a3c6e6ca50b2eaf876d818dc97ae7b735ac44df1c2d9951ad69b1'
            '325fbb8519833d7e36106def7834526147e23161e5f8118536d7b18eba4ea883'
            'c6013d9da88d4f6999fc8c98ae4b89d27283ea2cb3edf204a80991a4d8ebf8e9'
            'e3bb4f4549f8c98dfa5aa206f5411bf5d759fc1cba1b316c105ff887da15bfaf'
            'd76f00a89db802462109bd7f02eb19449ad0d9ea7e1f876c8e8b30b70de17e35'
            'a714bcc1487a2b884d7e991afdb58fc6ce9465d50486a2093813f957332569f3'
            'c865a15315058275ffc5d48befeed25596ac4216384bf1b4204dcaa194c07555'
            'e0d78a4401a410e77dd27a39676ec1503a52e61a2595baf8602bba3ae8e541d0'
            '2303f1bc7c1da1cc6a400f74cc32cc53e8001877d3aaf6bf7ca64d6a1830aa50'
            'e6e8bd67aa4ca4f392a3af8d45b19d59e3d5934da41b9323441a018ced08df37'
            'dc30dbfd3075c24f8c21c084c88c626a625224178cbd1ff30a8dac5d0b14f1d1'
            '6cf41d88a3c35786bae7d4d057b7482e8ebba5221e47f4538868f287880e9f1d'
            'af8fb9614abb96f2c667f6573f5b451a3cdc704fa6ac804335f3f34daeb7c971'
            'b3ce2884a4eff3d671a48ac9124d7765cc54ae8c13e7e1926b0e941c456c8f00'
            '92e1795cd420e60b3a05034684a9f06d8af53018da974dce3f2785c2d8bc13f9'
            '9ea46102999ddb48e2ed86b3f6dccb40b4d8f35a61f2214d407111d70e0d5017'
            '1340adef9b3ec77253cb6d6816679749449e7bb83c733183ea1abf4836695174'
            '14927d821508dda4396b248a98badf4a3e27ba5409eeff15dc0b1e8eeac6a3f0'
            '366b9ef23ac9903c2680818c438355b2c16975ba768699f02ddbb0add9c0ca16'
            'df973b54be4a5bd05d437ba89f8cec4c5316ec6b6b0098f6c40ebcc5ce6f3220'
            '71a2aa76b03d135e3b66ebc5278fa5a849979d9a2e319dace6c0485d60008c00'
            '86a3828d39dfe41f3707de54bf8214aa4744f538e65cc3516a2b63970b781485'
            'ffadfe6ef108d7f5f2887b270edab70b7d75401f7534171a29db8d7326f266c8'
            '6cb67920e856a39f2fbb4340336c31c984fe180f57fa714cfc2ccef3f798510a'
            'e39e8c66d38d895d69b1f3020ebacac601b3e486c0bc45362941614243275511'
            'b513f2214ab861597da00d94229dc1145f690278c57321a6b4f8086b87675d4c')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
