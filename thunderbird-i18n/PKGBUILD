
pkgbase=thunderbird-i18n
pkgver=125.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('7b79779f2f9460b1aecd872ad2ab7dbc0c8844dc709ae98fbc9eb6b65e86f07f'
            '71c9c6ba256e20508ea1c30b8006fba1e78948128b506c894bee3f09b2565863'
            'c912585d5a75061e0bc65f30f786fa8e8d023d02c320f79981343e9646dae688'
            'eddcacfbe9463134c86dd9cde082d2ca164274bd3b9ce8940b78606b0a88b3ef'
            '2516f74eed9a1cc2cf7b5732e6ee6d6d576a079ac049d10bcd56d8b2cde1c3db'
            'f05302a0e3dc6898e6530ea63221b6774c06b833403541cef82036c35c609d41'
            '401aabf2dc6fe61464a0b788533abb6ea18bd152de4d8ea9a952bf85a5eca26e'
            '34e345f7d0d24c6582c883fd358e4d92f721bc2867fa979a93c3042e461ad587'
            'a56f0bca874d0b152e5d9dbef496e23d732da46d685328803b7bb5259006a86f'
            'c309fbdb2c33bad460a71d984ff11053ddaf18960c14c33539134f3960d4e1cc'
            'd7c4f2e0dae8d2b4ec6eab97c253d6053b7bf9594e87ac43c790733a383ee2ee'
            '24b329ba8bd0b14ed0a9cc7c53f1a44fce87a669f90453d95de718f74f671c2b'
            'f6faa9da1a4953b194b34ca1729b4515f0751bee57c28adc463ca2af1832ca4e'
            '14665acb7920c97d8e8e55a99978ae7507d20f6a0bc6b902c1abdc8a720026a9'
            '3b66e40494cf21d06c42522f05e116c97e1da8c04a73f29431480926dcf48dac'
            '23f1d588f80b0ea3e134f576010e60e8f8836b5b641cd6ec9d5694fd98d0118f'
            'bdaaa215a4e65d82f72fc54421ea70af9df8de7128ee39f3126b5bf79ad07cb5'
            '133c960c65269caa8abe8c1ed3ec3e8229324c746644f16be97236fc97d14af2'
            'f59a6b4ee46f4c01a20ef351df1dafe1cb5bee5b3536f30482c7370c060d65eb'
            '537dc06d729b612c39ca7d2f3e305dbe5b35b8dcaf314fe566c1bcbb34cc4932'
            '5f93fb55331a1c8bd0671736c1a15d087afa991006e9b8e5e1a683e0fc4badd8'
            'cba66bd58da4103d8900b69e8df882a8aa0b5a0c624f531dbddd0a4b58a025d6'
            '697b70231313ff704a82dfd4274c0f2e3558f8f0949be5f130b168df4c6c90c9'
            '028e148f75cfb003d150562797d646902bd3985ca1c76971f22964cc60ba7ad8'
            '073b25aee8df33d7b081f1035475c94f3a8d259966866b27490e20af78a4ef21'
            '65d0d73fb99990d5d47410a9de383bb32bcada92e4f7b6f34ee169384957fcb8'
            'b033460696c8f023ed596f2295737e550ce545ced2d6f91af9d31434aef5b11e'
            '7d0f1b2e0749bd8365670cb3a9d81d9db9d60c3b2136697818880bbe1d738bb3'
            'e1ff4b47429e5dc1c1e6f35200ec9449f00afbdeb1d99e1c1b1808fc79acdaa7'
            '18f7ec6ce33c5c81c96d9d57713de6ebd8e949dd5e78d316be8596ff444e54c1'
            '89bbfe686602101d253d70b056d6d73913b730104d61feda508ed368544f6cb0'
            'e25692eccb0da5c536afc3ebd0743faddee17e88226b62a466e732a1fa5cddb2'
            '18ce7f4b0ed65c1bcca4fc6d0a141d5c4a23c0e112d6f29650e5f9d2767aece7'
            '88ee7fe0e16846979c4b6216b100c83ee1011fce8cff6030d0126d0253d75f1a'
            '92062d13fdad3d84ba1b305d1242e16f1e8527c2ef569ac5f469d0dacc5118c4'
            '312d9be6a0ad3ce0bd3d587638e22bc70d9f3236cec642d0c675d7563d4c1bec'
            'dfe866eb44d6674b271701bbf18544b83e3430340a77b486840fa3b4f5279f56'
            'dc35521f182d25492dad16ee70ca62ad962a7651f692620e0ecf3a71064b13c6'
            '99823254dab5c4d62cf2a0a669f355056d6c26d997892c6b572bf4c1109104b1'
            'd8ee30947ce93888e692f258e24df0ad496a681b626ea629b64219e93e923e5f'
            '9a4e47189d5d8f8035f18dddf7beb2942f4da64877d310ecc3d21fba5fb2a7d4'
            '46ed6fc62da91818b7faa0b8ad4d4cc9f18675008a957627a71ec73b73d086e3'
            '1da654daa0119dbf957fae1c2442936763f4ac7b07e65528017802af0fc44726'
            '70e1cb65a1c97eff94e4dfb30d68e78ea76079ffe6613aa45dcd5bb657f3ff14'
            '9189f2669f923ca600b3dfd6aee0c012d5a8c26527bbb26cfd7d340d7fa1d3cb'
            '0a9b65b5eaadb2d32f85dcb6d6fb47953db378f1630e6412e632e92750e4f110'
            '6f3505de736ff647182368046d76f2474d0166ffc5c6f7ed33b512eabf087865'
            '1a6f93e5a7a58500003d90fbd19b44919543a80fa31ed6ae829623d3b657a362'
            '3787f2756afad837cd890377f4f065d3c81b1a3ae3063b5af91c60f99179bae5'
            'dc58326a18b3e27230c90e92a0fb36e5db435f505ec052bfa1400e9c6c04449f'
            '385e02a77abcca622060592e56105e6f02b2fb08a37c33450625c56a6859903d'
            'e45e07d416df4a9ed5ad5921cb8523adcd3a60d0c17ff65d2fda28c3d1f3d096'
            '77dcf8e5e1ada5437b89f97bb3b4f722b7e6e7dd08050f7b07d5073c0822a304'
            '066b1c210b7a03e227ae011b348556d27c7e50bd8a12381c9a3f3020f840f6df'
            '8804c5ee6d7bf4c2de9d8ddccd6dc1bb9da717c720dd9b78247aa793df8dc69f'
            '118dfb832c86198fc27181508c7a65348306cb060ca0611ec7558f00ad28252c'
            '849c6cade5f1d071e90df537bd63feb0f464cf66458be0da64673a818ce7bb9b'
            '491784b329a0c014285965b585d846f7f889cdf1d14595549dc23e69a2d85598'
            '0077d2c0445eb4546ad97c24ed36374058c997514f212e0c3c80b7719b735150'
            'b65540269604aadf53b7c43b0df303c71cf9fc17c943ca6ec0e1b4f7209c362b'
            '87d138e83726d0e05fc39482cca04447ac52106183d67f5bdba586c693a9239c'
            '5d34ede471f36fcedf1755f7ef1b379035938cbc3cabcfb38400ce317cf9d33f'
            'b9df3aebc97e016727c66d7347ebb30f3828d9ee7b2f8ba9da85433dfdf50bdd')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
