
pkgbase=thunderbird-i18n
pkgver=91.7.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('4cfd8b5b94c24a25a3dabb2b872e714895c37d6d756941618fe75570ad336087'
            '5d09979b0722454ef9b8d59116cf8107ce527e08f412daa118d67671a90bebd2'
            'c2d797884cb6d8afb64fd46a8bc4c16b5fc11ac1d9e35e71e5b22fd9682ac613'
            '34e785688cf282aef441983d792cf67bae39121831e92f3017a6278b57b4225e'
            '8b0f28bff4789000ed4513406370cb39e060791fd4d52d8501fb26f9f51dcea1'
            '2c65678c22f511ef88c8dbf66fa41ebb70f8914815dc86eeacc46764e329109e'
            '01e51e0f59c280b0763cca8c5f3b16923e131b3dfbb961b37f03d387afd2fc0c'
            '8f20d69ce9460562298cdbecd277dceb43418611bde9c51879eeabc1ee98ff6e'
            '6803f016e1bd92942ec66d9252abee516aa9352ab5de68228f10be9751f8f750'
            'dcf02aa22bb1b346ce9f08af1713424629e0f9ed53d81384ddb0e914c59962b7'
            'f8dd3355d1a651bf45972c209582ac936bbacdf210aa1d14d006d3083d99c3e5'
            'adecfcc22223923f1a4e6c0af2805939cd55d011bd70b05f392a5e98a6ff16b7'
            '495046e69aa7eca9faecec60775bee57745b6e4674f3e35a02d5b3f189c3fdbf'
            '30bdab7e6cf360fdc25532a57e76af60d6d5865732c7fb4586f3851739cdf964'
            'b9d015b9af5f005f2216488ad8a79e45d99b82f5ea72a9af3675224f4be230c8'
            'ea664caa4487cb21690d4c04798aea99c13ea998bc9be9139d0b487257b4f574'
            'd11da89a5343ff0a047d92582de3572b046f4a1c67ce47e8a44ea21ae2316783'
            '82facc850b8465e80b114dc2fef1766bcf33f0f1e6fd47a282a37405e8dde8da'
            '49f154b3665fe412c9eb89c16e0703a27ea8aa60a31333fd673f61c13bafd352'
            '4e718273f2fc3113687ac94da20d8963528be7f3867e5e5c950fe6ef627db930'
            '13fa714c86a129f8995176453d5b44dfc81e3cb5c4c3e4cb1e20dadd5e0d55aa'
            'd4b3dac658230fcba33b98b1061e0e42de3c14af1c9b5f7490fd57f6a96bb5cd'
            '9acb2856527aba10bfec67e6d6a3ec2ed3b1e15fad212400fe8d35d6183b03ae'
            'c0254475af9894b082a1a6ae8e8b2e4fd1101a5a20d89a6230ae0d90d4f9d8ca'
            '58e4c7787590b2ccbe7bdc82917a9e7411277eb9ff1babe03f2b6ff799809f24'
            'df07c9550b503acffe15fbda60163c607c272d3cdf3c0437dc144942917df5a2'
            '899808d81baf65ee1fa50909902038fd128174155919386d62d139ad251471d8'
            '9b8d635a234a253f01a7fbeaa0068596198e74e751736eac1c3189b45846658c'
            'd753c6f14563bb7cd04f116d66a74220421409f60f6c12bcab14782fd021f6b7'
            '06682508d46b70ca1741af68765fb41580a426d2797de16a4b547744d9047757'
            '9b304786ec06fe0fc1a63a7634187f75160e42f6c817a61c30007f633b102cd8'
            '8ef117a7cf1f0e1d746a40557032d4fe108fb12938ffe1e071f9b5be2dea535d'
            '39c329a29ca2f52b3a5e7462131a8fbfadfe4622d4f9ebfdb074dd298b6f93f7'
            '728eeac890bdf8c4d96d5ba7f42a940acc7c3e7f7fcdc9e7f271baed8896c10c'
            '4d33ab9c3ae40d101be80433f6ed0647dd9305fc0f535fa2fd61f9c2f4bf46d3'
            '1c2d33d6dde9e1bbd8e1ed014937c815f468e779b202faa8c528d116bb6a8f40'
            '7246b7149ad1afbbdadaa1ae34eaf959de923d50287169d98f40916308ef96fe'
            '2343e806e0f49ec2971201435e3a87f99cc37a1ef244a510d0b3833b999907a8'
            'da01e6f89b3ce606d0482bd2552b2438ae6d5988210bcff16c931e6bf7c34978'
            '2f65f1480d7cd2d56ad207c209c28ca77a009a0f62b58832cf16bf50fbc4d674'
            '57eee89e9e43f9b42ad120525bab0eeac58745a585e3a244d90ad62e3b0f853b'
            '1572c17e68b84305266cafaf63e8462672a774970cf155772846392315765a4f'
            '4a4125bde265ab939bc96a3d68f5a8c8d358a35dd2d41eb864bae07b500eb3ac'
            '7e1284052285460f236b1a5d3630162dbeb290cbe58755332f7a07d058f79ef7'
            '4aa220c59a136a583c29e2501e0468a14cdc7c234b2b442c896c9b5dd862e7db'
            '82b1ccda91dc9766ac6eb3d16a9ca17e677a1413e66c1ab0d3e612e5ab9e20b9'
            '95fedcc6478514d88e54baedbdcf650a32b42c596b8ca0da37bcdd38477cd46f'
            '061451f2e443f2998b6e3c268b3eecd1ce7912474efbfb05cef83b589150caa6'
            '184b60e811ee6178b38da5e8ea47b6140a8e2f02a5f9b17c6be14dd384ff52b4'
            '1b76f97c6d41fdd8eef13e66c1127547d75777b48ec4a4d4221c83436287e993'
            '43b264659b123051e9cf52bd0a8ad8265cf044ce0ca8cc7745a540e114d3aac5'
            '9e44dc7708aa7ea3b30613366137c3d63657527936243649dc4c68028cfdd0b9'
            '43b1f66a745a7471c892f07f785e34f53a9a50484aee5a75a34e65c58e23b893'
            'b7cd018d064d9d0a82d30e9d9df12f65e057ad9c5074ce5205960c4ae003fa19'
            '41d6089550653a055efba3352fdbd179158dbdd35c3e4b9c3cd7e0d2b7c3274e'
            '568ede892c6ba037835717c81d58dad939563d0696056de33dfa9573f87ab9a7'
            '4f5361ca7dd7eb27a5d2b3f3ab7d272b391cc878f1bce23915173066d8ee9647'
            'fa287f9ee3c8b077ae90532f57ba9c699bb7ff393c0d444241e907b7b05a3a53'
            '1d61c62f9cafce515378a1afae51ccaf775019a6a4e5aa001c8343d8fcbece33'
            '989e937d9b302b1453d7228f7f32c5f5c94dc04c78fce0abdb7125746f0beb90'
            '718205029e1a4c568549d5abf837804fc69aeeef29854b57b9002a4842995e9f'
            '74047a73e5bec8cc6d78e3dd6fedd8daa48a7cabf32edc8322a71666d45ed669'
            'c2bbd6535c466dbb631da431dc58d57739a16539b3fb8d310b9001bbd599ff1f')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
