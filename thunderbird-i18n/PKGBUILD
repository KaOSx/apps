
pkgbase=thunderbird-i18n
pkgver=91.4.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('a89362ed10787a8a46f30597a0b2a1a53511249e7d4ea28dbaff7f8e6a769490'
            '846b3ddc92db216e5a55d656823413cb6ec50bff5622caf470524c3d5efcc9a1'
            '1947c5c25810b9e649b546978af991ffe7fc2b28ed95ddee5e9232e7932632cc'
            'be47269e36d252fdfe17edbc87dd6dee84891bb69aaff719e68545cabf801713'
            '2cc3a95be058ea671b46655f7a8290a46c76d3e7611186dae720b2d93f8e857c'
            '3354a4daa52048036c4546452547c60e5d6b912dc4c110c6151daedf65bc1ac2'
            'ecc402a2afbc29f217f1ec6f6510cc7cef3804fbd5f9c7f0391553279bdc1018'
            'ae12625db25468c5b972613502e5d8788bc194de9c0948627e1674a3ce3de933'
            '1f09386420344f8a191786686f5a5050f2e345bea4bfaf6faf212500421984ed'
            '05cfa1f57be194f4d89c3a76591d1a2fdf4a0c171d1043a9219eec36338ab647'
            'e4342cdd906931236bec568dd72f491dd88d79490d6ecc67051684aa945fae23'
            '1687e1e777b3e70b94678dce9b28b7d8cacb5854c927e31fcaf7cc634786ca92'
            '4401c8eaac41ee721edb44f1434927e30d0f7af7d12e4cd89e1294a53fc4bc68'
            'c2cb76944583604a93971de84743c9301d0356da1b33d7f9a2573d82c5ce07f4'
            '30aa91cec60edb239a30004a017b79605efdbc9211ab5456563daecdc7efbe85'
            '36fb7dbf457ebe2f997fc37fbc7c9d9799aea50b0aac780f11e27e6919b672f6'
            '59c1654dd836eadea2995d1ebc127f1fe27c5609fd78948f79f5c7b44251d8c0'
            '40a0e99f499c7694465506410af571f83f4fb7fe82e1b17798cc9c3c1eeef84f'
            '57498318ff32e286a1bdefccf56ecd0af8fad183261e2185bdb639f5478dfc60'
            'aa450c5c4bd654a974543f2ba7a930c4ec5fb4607768de78c7bf0ff0be2fd157'
            '3f1e1743b1b399a9647599e5800d99517aa7ef407312e2adbd010aa3ba782b82'
            '7a9a53fc22895a166e861e9f2276db72b56d8789b7d6a39c6edb581f0c324a15'
            'e5bea9105da0c422431a709a497e16954c7c441f5423712577f8eb3dfc625c3b'
            '09d1a65d2c3cc3971747bc6864e98aa01138d400245af0dce124b7f1e83c959e'
            '1eb78c8bbaa410f13d84d882bc9782fef5291d733d72e055b1b3ee12cc2c8323'
            'b492c2bf4e406d90dd7229aaa34255cd766d8a908a97bb0bc84f55d44268bf4b'
            '3c155dbb57e4613e664a51f556997b0552d75f386545bc243c0af6374cd7800b'
            'bf2f4965f16117bad062430c4a13b35f128bc69e6c188fe036e372a23948f3fb'
            'c9c3fa6bc50bccea0f995a827356f63d49eeb502bb1c95efc2aebd5adcb650df'
            '4a8f156a98a2581441cab088d6a020327cb6e3fdcdde2cefae0abab729205110'
            '3de5dff113007ac834c96e4d04740a8c57a07e9a1f161b2170f08c8ebf78024b'
            '9ef069a6fd13daabc984f3774af032efb4034c566f6746c5d0eb08e6494b67b9'
            'e304aed6cafbe2bd0fa79c792319869d3743b5ca68187587404b1070322df053'
            'f83c1fa54297a7d5ace800e1acdcc7ed41dbf149321945852678c1b265a2468e'
            '73f82255d3ee22fc05039aaa1168cb641b31bc0fc4c9dbc4f8e3f603aaf9f317'
            'c34d2552a37bb0b1f2c52517e0b6c555aaa358ae4bbb32cf79de18c5e35c3ef3'
            'bed527305b335fada0298847a8497f7714537fcf8188da12a3db8e25d0c1775f'
            '72b844a4738e2face22627fcc6e13c38b5142aa67da86150bfe3ee6ebd21c6d5'
            'e54ea2e950b9f4012d778a121e0052c0e89cbdb1df9e897f9ad09db7720954ad'
            '59dfd2e97abd2a3c161a7e65d5e01f534839277581fcfd4589862c4c442ede87'
            'ef32d9a919b44333191c26a971f9b1d8f1ff176113c3be3cbd0881f850ed7e7f'
            'd5a145df2b0e2a00aa480fef40288aa5f5ec5510d78e3724379dcadda30dbaac'
            '71065f969083ee818c21ad080ffe450c80849db6ed662144e81468fd70c074b5'
            'aabdfee7615e464370bb438a7409712669daebb65171a9d1d555f644f3d38038'
            'ecda87847ccf3702554d887aaee4d4b54ccb6562f701995e6103ad5cb60c0119'
            'cae39f88719b450f989b79a3b8fc2621228775bc6b6348688aa412f98c5229df'
            '41772d343f250a39bfdf78cd25310c57ff91dae88d7794bf0ba01761236e7873'
            'a9e8be80dc11869d9cde4d66fa150dc6923a60e60f85d78b5289900cb0a86048'
            'ecc29212d6618b3b0d687e72f8b04e352cc2a13c02d33bcfa8893e908fab533f'
            'b4749329ec892bb571ebfedfc09c713ed7bb4b0fe91c81db92362b2c683908f7'
            'f421293e2f674eea9eb3520aaa363ddd0d7554564cb9b61f915b9b3b7cf6edcc'
            '6d285af22b0b9167edeeafa47091c8144aaa9bd92ffecde3a764fae812bffa51'
            'cfb9ca90270e60af410b426721725f42a175eb0f7d466d48d6ca3aeb89abe8e0'
            '3dda75a6e6dd02286aaa84d466a7088e3b7492798277820d080db8242261ddd7'
            'a86ae793f5004636c79b1be3d1b43390f5c6ebedbeef8d386bff6190532333f8'
            '4324ff6228d3626f755d171c4188837bb5211f564c1434795a919c9aeccfe202'
            'ec3a9f399f1948882bcff336f5cfbb35af69fe3780527cc7bf752110d2719d23'
            '463d6dd18182a476f375e9a281de539b317028529bfc6326d00fb7ec61296675'
            '28d7328b7347428c60384d8b13f7f0573e841004744d7616520d89d714e509b4'
            '12cda3cabd5bfe25f8fd9ecced8e7f71ba2a1df55794b67dc96efa8235b8c3d3'
            '8aa333791460ee02100c01d4bc56bc734ae00d37dc6260902b36b7185b199bc3'
            'b82ab1b9258f697238a6147bb7648369a777987441dda93ec63495d2505e63f4'
            '0a2d46bbbc487696087f7325198b6c7ac804a83b2dcab8fd3dd55984eb330199')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
