
pkgbase=thunderbird-i18n
pkgver=102.10.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('1db702455e93a9430e6e7a58a90bf242b968be4865780a9b7705aaabe2f3560c'
            '78204ca9bcec497e667f9d3c00aa15afb127e6190f354f98e1fadce5d52f5f3d'
            '380229d10ace1db34db18f2bde703616fefeff6749154cc30984e2ea19b41fbd'
            '96bd89546269eb6fe71a7a3916813f28c1fb8f964f4a095ad1af87aad71ba6a9'
            '9a58c7891f2f3f99e3e23861fe6676a624e4eb33cb21242b37f7c22cc15fc8e8'
            '98eec2fc4acd4fcba9baa8059cee996b05348a78438ef4f9fe41a93b41e63396'
            '62b0bd3a482d73ebdaf821859a4e8243e9e751f897cd0df6478e8ad46ad09035'
            'cda5a810892245143b24d499816fda3e72ad99bb50a38e7ff1a304a20fb54380'
            '9230d12ae651bcbd627875c8cce45643c7ff311a9a269c4f9e83afdc845b3e58'
            'a08772017b260829da7fe28c5737a1e9ab1e33a2d843a9ead1eae9f0e415aace'
            'e76f8918f03229053011e69464945b09aae166675ce18f236dd58fe61f4a92e2'
            '9c82e228950bbe896eda20a3c257955c889f9b14a04648baed0665d01ce323a4'
            '81efca4f27c3f051528083d48f942da0f429ee311fc46f271c5eeb52184b6a91'
            'b835caa47d8034de6187e1c9fbebd5e5e0620f38e1baf268e62d1b0795e9d5b6'
            'b1566a73c03460a97fab8b5c2f16ac79d71accf9f97e88ab9f2271a26f7229ef'
            '03e5b7a1a669fafb8ed74da6b3b2a99fa5bab6401918f38124fa62015ce9d6d2'
            'f105dad619deab41cbf48134692a1d06c3c14eaf1613c8bfade3ea7c353d96d7'
            '90348c518d53743b107f2752cc094ed46e471c8cc147db8cd975c9a565a91582'
            '0115337d746b2a2250f903b80e48757adc82b5b0f5de0fd3e5d71d10fc5a49ab'
            '52a87adf0d4623a19b423ec8b3939aa704cedc469a705a9d53d6d9742d0bbf37'
            '850c251a3c25e0315489f24f4685bc94001da34edc01adf1d60cc301ae02b0c7'
            '54eafbbbc55b7d90786372a7e046632070a9f25a9bb984222a2a950b11eb4a35'
            'd18d84fa1875763215e46506d164a72861ce02871240bc48e42f5f3270f89665'
            '492181705e7f85eb27dcd83e78b3f5ef16109407461036bc67c0599d8be027a1'
            '8780eb90fe295eced93d2e38634965a377f105e3525d8cd0d24f3e2776383cff'
            'f6d1dd46b51c45fc12f56de9cc321e73f5ba326f0c84d3aa4e16dccf25a31e86'
            '0b4ddb9983562fede5f0d9ede474515b475775bce2eabf3d3bb884ec053700ec'
            'c66b796ccfa07d6dc99740760b252ca2254df9cc6956e36e075379bf598c4ecb'
            'c6d67142f713c52800cee0717ce16006b150f8f64fea5acbb5608fa0470ce397'
            'fb8dc0d9fcdf8188f8bba82d6b10b3f6c6e7add7f1607e9363e7ad1dfc711ad8'
            '619966dc21406d0d80a98bdb049a0b0a82b48d747003db8eddf17ba19fcaf40a'
            '08fe20be9d4ab775561992b14ca680c2ee457ddcfc5f4d4bf4cf02cd8cb116da'
            '0f7b159eea1b086c543126bcb157ecb93092a91d9b9829c61a7390ac5b07f00e'
            '36786dbaa9dd35470fc97d79fb7eb215ffc39309897f8daae58f3d7e0e14948d'
            '3d63d742d447ac922599ce964401c3124cac31ac81d38511b73c148b1522d2aa'
            'b4c945c4e5e47db4a50dd25bbfec4f79a7549ed7feb3ee75d20e5be36afbd70d'
            '88b061f0ed9a56a92998f0f579ae8151d5414bad16019f785e66e91f3ce6b56d'
            '7dcf227c779a88cabc167120026808ea9ab2d5f5cd6c5fd10e046987fb12be10'
            '0f5f00893aef53d73e367d06c6a657968b42cba084697ac50f8420f46d97704b'
            '81645bd7ce60df0cc35d9fd6b771b10d49dfb1a56f18a3ba6d968742550e6773'
            'ac934cb67e5a859428cef5c9e9fe130d8a9ddfbb2f2453c4a81c4a68c27113e4'
            'c764a0e7e3f91d439d8282fa09760ec290409fdb2a45f10d8b19fdc19fb6d633'
            'd78cbf6ec2fdb6bb2eaeec22b54998387b5dfb780dedc404ae3cf179e809ddca'
            '3ed24b85eb2fe20a52ee9f4d93cca72647b2adfed5539d62bda278b0c0f6771f'
            '0097f40182c2d4cf3c898fb2cfa1011e5ac6b687dbc01fc839479d3a62dada09'
            '1aff8922215d664356db20205d96c7b4eb142783c71bd7db81af47e8b6021942'
            '91a658f7b70c10db811471240ce5bd32b8f91cb85bb3bb7e5568d1e7f53aa47e'
            'e61235a60828565cdef87be2e76b2a7bae04e4c573c3080d2e10d2523abe2879'
            'cc48e8c9a0cb846f0bbf243e71926d50b291c8828997965b8399c490e7da5208'
            '1c22c74cf1c6fe0f07ba559caa117008848c84f0bf7d079f9e4db1380cd3e424'
            'e8282b4fa2ff768c2d42e5a857a59b06cbb2999cf5f57527df2ce2a94e79a5fc'
            'e1b44beaa253a2dda0494b9dacad5d4c08c70ccb0e33741751da0730a0934c2d'
            'f563795702e95661e371909d95c655a73755e475af1e80af4cf0fae2b6e375dc'
            '445fc60b991a0ed565bddc63f51b7bf978725506bd932f3c17d114f8a3120295'
            'fb6e132a6dd84840c91012bf7c759841a7425ae924cea7f2bbbbc7fc783ccfb1'
            '02a26b6694aa1da3b0ccd8349578fd030f9ebcbc26f7b67d6892d3195377bea7'
            'a4d9f5ebe3cb02f934528bddc49dd437183bc5fb434f1f0e348f58d4132700b4'
            '24498eb421c391e91dba3ac0fb0a3e42895a1479c2675c0e865964a7f4eb1eb6'
            '5eafcdd6a26fc6a736855f65dbbdebd5b200f2c88a3336a4df5a6256a1a3caf8'
            'f0f4b02a852eda3111686aa52e35874b69cf79c2be12b4f1bc8b7d4ff2cb9bb1'
            '8a6fe5980cb596ea81c5fcedd8da024dc1c9cc6a6d976ba45e7f237d936c35c4'
            '794a7a16dd1c43c479cfd9a62c4f09c24d547b944cf001ea5da9adf908035812'
            '5a4e87aadb9ff6250442ebbd4535e6a00fb8728a4667fa67cb23f2346ea5b652')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
