
pkgbase=thunderbird-i18n
pkgver=115.10.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('852800551999d02a9e4dd45445179a26c7476e8aa9d171ecd002ffc387dfa09a'
            '10dbcd0997e56d173e8a311fb964759dfd6bf180d116f83ceb9473cfbfe1cecb'
            'acff9b6d66d76ee1bc2372635c1ce8bb635e84f97be9522f252725422573897a'
            'ff5357e3542d20c6c7c32658233a1c25a230e173becb4b7674bff49d544d419c'
            'cd4f050fd79baf335fc58a7f703d872f6437c7647d7e9934606394d4cebc54e7'
            '40316f3ef643a710830b8de558e1a9b279de25d377a4d6b8fda05f9b4424e46c'
            '53f5cdcdfe61792486a5af7032570a4a4f8e02e439010c8220980adf2751c3da'
            '9d17b632da85dec7caa64cd0b54c1f9525ea65e0d941785c0b85374762879dc5'
            '50aeae621606b870e3e6edcad6a67159d6cc24d6900bd34ebbf146cf8472736b'
            'd7ba44f4453b9b8a273ebdc95699943be58c55db7c2d6bec75e213c20629c9f4'
            '7fa03ddcc267f53133dc508f9d26078a2088b363b8bd8d7cfc5507ada3836017'
            '3d22855b95df4be6464f76c189608ccd3864fdca728a97683bd84ed3f18a0612'
            'f5a63316e03380140ca6e34e5665cba52cc84de193b11fbb7765a2468bd5a563'
            'c356c548aa9de080dcc56098e92a43da4bcb0227f3e14c0a9aa77b4dc69859ca'
            'da94b7ecb6b79e73e727559783d2154c1c54c5fb6807d18888573ce680c219f9'
            '93e964635c45fbfdadb6b84f4608f3e728322f61c329977ef29fdc28aed7bccb'
            '02125219dd71eeef21ee5ee4bf78674b6558bf42027aec5a3dff7b00ce00bdda'
            'cd10e118809c6d8468ffc80d6fc7867574a5790a1ed3f37decd88b60a3406062'
            'c73e4a727347c9eca953886368566dd889a96452c9a7dae4722fc50829044c24'
            '9bb7d63ee5d48dd5ae317692418ccd897970d568488b628f7e6aff16733334b2'
            '483046f9ed20528d8497584f0c0edadc5141fe6b2533aa9dae91aae9f947f801'
            '0ea8de2b44c449306c3e881f3189156ea72685e866f0c2ee035e6e4f61895217'
            'c5275db9b386d8ef60fc51d8d8b0a2fba4b4116449b4ecdadeb89bb3d3bea2f2'
            '6dacd4e91545038a5f521af7c77f862c31c50bb748092a4f56e66721398ca58e'
            'e0f8d11b30df1976fe71bb04d7c6890350343b9de565b63d4efd28f5f5fa9607'
            '7aaa640caac6a7ce522245315b6918c8b05ef6e78cf3a27fbdd5aa4a37483bf9'
            '4299bf02352c005e60fe9d8a8f9eee689eb617cec71b4555ff491a814e43659f'
            '2f91715ddfe3669bcf5a628962b9aff889ee191cfb425c2f5adf0b0aa983f339'
            '5811325b65378efa16d870edcd13cd0b20ee600759763bb95598fbecfed0c8fe'
            'e55d8bf018f1bb6e600580db1db37f3a813431ba28dd736d76e65e23765301fa'
            '8c40f08e43ba72d15e4f33cd50baf292e875ce446a8ae6a60a1d80ca2645d73b'
            '22bbd89e18d37803ed3b772f401761c6894d28c5b26368ed81dd2ae522ba28bb'
            'f715264ff9504a0e486b4f4cf742142e73a1a5c1110fa77ec819a89086389f8c'
            '9ed4e2772c3a37754cb13973263ec35055802b86fe080a79e9791a0ce09d0398'
            'd9028986e44a14b5f77ceb76ce3821fdf051cee41dc10de22aa33f50fbc94ea0'
            '64976dc039d49166a1da01d8d4c49f4c7f6974ccb6f542a7b685c17e80d08370'
            'be402c1a62c05f3edbd1e413079622584f3b3744ceec809d174885780814b2fe'
            '4e611c785a4b5caf4ff083b39227ee29f991f769d78af6b03eb269b0af549be6'
            '065e5f6fbac7f4d76de3dce9d90fdeecfd4e19e161ce4347bcd4021f5545d386'
            'a5b46be7d8123b6cde7d32be284f982416bc53da8bd8cd212687b2912fb7dd68'
            'a1f20ff5461dadfa449aaf3dd1f359128cb01576fb2b717e238047cb2c288581'
            '8be90f2c12b29bce49c76d084b074a64c37475188061e0db3a22e840b9e462aa'
            '0b102b22d2316e75590c6366e0ea4ff76582bbd08fff41eaefe17f38ff6da1f0'
            '42b02695aeb69713b4f5398e8beb54ee676e143d8bc6576c394e0f186307a142'
            'be8c8ea4578b91214df76ac44c600fb7c4b320028d4f92222a6da5692702facb'
            '85de46b1d98a760d5e232f1059f2931dab156da99cb106d2570ebae68070c47f'
            'e5479a8d418b5f02f302ea5e5080eb21ca8610d1bcc7cb47ca7d27abfab0e12f'
            '3edb46a82472f7a8a776ded54a70fe80b8601274a159a7d484da453acbb233de'
            'c8cd326605c4dc1b60883eca57fe645a0f57616de13117f2d87652dcffbcbc4d'
            '26369f32b262c16397d51923944bd943d8bc37c46dfb80836eef3853492d88aa'
            '616405be23ff63b300b5110be500ed0bb74dd03ea9fd9ae16a9100a4bae0f552'
            '1187c7af6ed66f0cef8a3766be004308add4ea9fe4a3ce0d564117114d89deb0'
            'ca4701e0c3144022738a3bc0cc6298a087f7defede75bcfd8c995ee6310aa324'
            'fe6e3c258e6d9ce412230d3bed3c81e75942a4491dfc7f2179606e6a32d1643a'
            '79ac1261514742c961b768a5e5de3ea193b3864e9b50c29ff3c253ed4ea7d415'
            '6703a02594987da8d560faeaf60f73ffe3156263e26a6a655c47be9021cb090a'
            '20660fdf2c7700897665a055ad8aca1df17841575455e536783d15eabe41c179'
            '629415a4d662ef6a67cfcf48635a40bcd7f0b44b78d6a7afff186bb09d4e00fc'
            '391ba3cf64e81252974bbdcd96fe82c690e1b3cc859d1663572c10d8cd7c1125'
            'dad76f0738c7fd5fd340d3816f100f486248ea7a67cd2abe2daa99d7664e3812'
            '1665a7d1a5f63ae10026860e508615d019cee30c150ad566e4097bab4fe6beaa'
            '0a3e55e526fb41a41a8ccedd64e219eb64484abe049fa99aa062dc31441bf1e8'
            'a96c12f7c3675df626e90e501146ee136d9ac4f5e5c97ea023fa47842f72ebb7')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
