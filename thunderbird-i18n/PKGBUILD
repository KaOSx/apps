
pkgbase=thunderbird-i18n
pkgver=91.6.2
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('816a1e10ea86e94de7fb3ef9f7b8d331ed5d98364ac20c9a47d2258e09e6f035'
            'bb9852c2564e394759fce2a3f2c7707d5364e9719837e72bc70c23288ccc12b3'
            'a66086cbf5f0518a7772846da5c72855d5229605ab1b138f17e6af4135be501c'
            'b47f62aa25472ee5826c591b29cb881a117dccd2f743bca9e751dbc6b8ac4df1'
            'ca846003b42810d670bef7588c4e892f96ddaf2219185ba02e5108ce3c73c601'
            '9edd8753111b3b9d371091e2183b2dea88e5a45e421260315fa9ab21cbe11f19'
            '588cfaab093e20392bd8083672e8a900bd5b77a7cc2b5b50ce46c9a66cfee778'
            'a598ea5f58f60ce0175dea7027ec443d90460e0d70217995db2bfe91ff53744e'
            '184d1d240ffac5235e619e9c03343419159008351ede74a43388d2a5ca559f6f'
            'e8da4712ee5808b7cb096a148b0ceab2d46ac8f3a4a1b97770f0f411daf6b9ad'
            'c3bf42bc49facf0f2bd993c282cfd5fd422c66f7e0569f7f9781b114c0dd07b6'
            '4b900d03c8cd13027639e212b7ac67d399cc9bf4f1d114edb44cda0de48968e3'
            '279bcd4805eff1b2e6c203e951616e57e87521b72f607f3505068715f1e1c787'
            '5ed73f3bc4172cf1ddcd91b43420b224b920b996855e1097fe79209d764d7133'
            '543aaa2ccdb035b0a1ffbb397a4cf5f02191ce19118ea35e856dd758a6dc3715'
            'ee31785a137c3277c8ed63c22a199f33a88f04d64b0466514d04897aa628806e'
            '5d75a858b07e71da81c3f152e3377ebfb560de003febcf15be461b417ebb11bb'
            '100554591655c828aaf6eddc0f80796ca365a52ab00668b8997a9307410f61da'
            'b5f7f89ccca8e95ae24bd57a697fbbae3b00141f0b7c3b2449b00cf17e98be4d'
            '508bbeac70feb87ac7cefb47677da709369f4efd06d2fcf23802ac3ead2f1443'
            '413f4c5926204bc226bc9ea2a940ecda8fad905f4023686f61b1bb3c654dbbfd'
            '40b8e5cdb610f041d5496f02c23d359898de739cfc0a88fcb2e287dd6f104cc7'
            'a60c5ab9f43caa5e6b87229e60e05f491cef5dc5ad4dfbed4c4ff799a7e2210f'
            '0fd9bb7c74e95d6cbcf8459d5a6e69da979ee62eda6091c7e5e56091e67d8287'
            '4d2d070abd9bf4cc858fa1bb504534c85a33b39848826c3e121c6ec1304bf462'
            'a25845bdb4cc096c1be329f145ad0604e47ece80f11bb2a3eddb06e50e3fe1c7'
            '1374e2d9f90d6cac88565813ce813edebcb1ba61f79ec4aafdcf045775aecb47'
            '7e161ff230dac9ec42998eea503b3aebde343e12b2e2a5b738c9c4bd4194b82f'
            '5ee88098233b53dcfbb00638e0f089903f2d0d865d0daca1d90e0e847b756921'
            '8d8c17fa87f4463dc2c87238ca53067161f508b5c128eff82407a12bced13d35'
            'b019f386b01a3de74f3783c88483e0de25d24607e7ba7433f0784bc57775d7bd'
            'c02ef428f817801b5dc1323845a72cdd2bca70464fb4b722769d934954df5c6a'
            '933cc84ac8d3f9493b6c3b139e3fdd5741f05dee140df67c97e2ef82d93e3148'
            '550fcd8b22aab8cbc3ee80560288f9cd63117a7a3a8d69d40d41daa902271059'
            'ff8857babf936d267d3ad0b9666631e1803bfdfab0726dd4fb718b9d135af69c'
            '741945371f897d5175e5393be1f32bac05abd7ee25c051798a63a2c162e29cd7'
            'a40b0d52c5e5e7e224dc76f34b475dcf368c637e4b28406eb5c5a67155a525ef'
            '2cf2546e5601bd51ad94e14fb6d9969fdfc73e2212fa585470c72580da37a280'
            '6b3431de613b5a0759d9ece730cc843ba8de02d6856efd01776c3a3d527d9d7f'
            '604c645c39d7738c599be7b0c9f50abd331396b0a089f54f00c2088010a63b43'
            '00719a3da7b40681691f5cc53cb286bbb89965f15d867f8fbda6780d571682f8'
            '0d25332bb1d12807f1596434c7b95ab80cce64cfa82373849e5c1c8cc82e2250'
            'bd1a95fe656d827f1dd1194f1df648720bdb8b23010a919025aa63480937c2d8'
            'a0c0e8f02e793dbca726f89a0d5d17978f81146e45ea91a9f943823b48700368'
            '4d0c6b647c4cdf41e49393cf0bc1404c1395cbe38610403619509ff32743bab0'
            '019036f0f7d3a664be290d7391daf58aff3ccb62ea2900c9cced05dffd876a3c'
            '5057909326516489dbed92cb642ec17a1b1cbd491a4facedc0434f6e3a125cb7'
            '4a7feefe0af53c37d43755e604d48bae32ba3608237a172e3ea2e02817f3926a'
            '50e00eb5a131f25ed5c9e042bf9906a88475117a7c6ba6c649f1b6fcc4e08b9b'
            '2d391d9c2b5b50207045cab4a8781ab7e3c85b91de4794d33220154cd7406a82'
            'cb8e9687b3bed3cf9fc603734ff4c731c19e748c17efbe480e6778e21562c378'
            'cba97d2f14c5fe3db9801e9c7f78fc24bcbce94a93aa8c0a2d6f6b421569b0e5'
            '665255b62dcd30500bd2f6b868c8bc94df873cc73307c105623d9a6cee803f9d'
            'fa970a0d4f83a5edbdb7f37002455e546a7a7b1105cc738313f49fbb1ad2a620'
            '7c45eb4c1a0f44706f1db234fe14cb79ac50f63d135cfc0dbc10eb1d1a14665a'
            '0f67c9b61bf83c207993edcbc9907dec7eaf86b080303b79965022144f73d030'
            '662c059291c6d36556e07a6eaa7453693e543ce6a143863698d81ec97f90fdfa'
            'a001793385600e50b64c7ab8d8aa730ed7bd3368b8a040b63707e90f701cbd04'
            '11bc60d069bab961f7731b0778441d00b017ac0c5d2054ae47389d3e6543a72e'
            '805086b34e92df8fd501ec81e38d0a5d8271d335aebadc1c734226d3e53039d3'
            '76d4d6c9728cb91aa900ee28d2c4017e211588d875d838fe790a9c0335bd6cb6'
            '2a49e491c39dc978ea0fa1d6863cad0eb7cd85dfb4d9db1971d05ab04f678994'
            '8c2e79ad85369c5f6e720e8cc5c33766b5374102331fc02f8b721081139f963c')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
