
pkgbase=thunderbird-i18n
pkgver=128.2.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('f5a955ce09519d53f4dd5b3fe88bdab9f5d4e3d615035c9a1a0736fb40fcdccb'
            '433a226d618cc060fe41c870706f55348c8e6cfa8b195e7f2691f09a32194bbc'
            'f65ef16eafae45a52b42097827594ff641d812f818d6084284638151ff1ec8e6'
            '42c4a580b638835eb18df69b032a0e8f6e5d2da71958c892878366fd902d5ba5'
            '7e82a370b0b870941a4f031cce425039a998459168daa7ce25802eb55590c765'
            '3eaa5ed72f3ac19c6590d8c6796be48a02bdbab353f5e80fe3eae32e5c084528'
            '6a5cf1d37b637704626ceea0ba012e17e5cd58e57b788f75ba3b45546fc9b9ed'
            '076b95467ffdb6af91cec3fa5e95fb882a84db608bfae0bc51a8a8b7331d5ff0'
            '8b852d73f46425677b695d96d6338b567b81f835732de5f0a0a7fd2332c2600d'
            '8fafca55ca9d79403d63c72bcc5681f98ea550d897bc9771fdc93c8ac54fe044'
            'c6c6bb9ab13a38078622127fc562b424e86226f95ae33f49425c8ac3dba36ec2'
            '8a4ed50697922adee0ae0bd787e9629f9c3067a23f7a8b07570b600308bf12ff'
            '75eaf892c3cd590a92cc908d94e00a3c96c705a81a85a577f9f27e8f22412304'
            '7a0808e13b4ae56e0b5ce66442ee3486d360ab54710f193abbdfe47696962c94'
            'd1f412e98b0201e2da9fedf1c9746a278959acfcdd551eee24cac9ee9beac591'
            '9051bde1eb879e65c8c6dfbab2185425627d4267a3fbd1b1ae2d892b168bf00c'
            '33a3f308f1b3a384a94fb930f92858f9dfcd8c0bf0cf38e71617158925fbb5a3'
            '0ac12a71e63d577410a211f2ddebc6bfa24e3c5ba0799dc25ff255ea61199872'
            'ecffb84f057423fcafef2fae2a5c840602d9deddf7d1839879651ba2e198eb07'
            '55c468af2cec5f5821d6e6a6d733dfc281cd861d3c7113322df62ec90079565b'
            '31f833c3f7258104012122591b53042bbc08227ded09fde844e8c8f67487e655'
            '667e4e112e128820b95691e2ed79c035d0f44639f776f0e377f4e756fe85753d'
            '91530d65815f0b63d8a13b28d73851d5478dc4aa8000f9b2bf1f47d9467ea0f8'
            'f9907ae6dfc0a26074d951fec89f2991d36b084987116eac5e20daeeb108abb1'
            '5a32b79bd5168604bfc6d12255821d323f8a1e1f354a1657310e570d48bd72c0'
            '960cf5b7405d37279ffc66187267ab0c27001fae7d5656c75a6df71430ac1433'
            '2fc67bd25a14e9e2ed638abad86978708ede719de072cb4fc03b0a802dae43da'
            'ef4120231bb44ccbbf5a2a4fe1500bad4b3e215407f4d0e2ccbbfff69c1ab8ca'
            'f0efbcd82f705278c75d9e11f0e897b141e320b051a834bc20fae3ed00a0970e'
            '8de9ea4b9134a22225238815286ad5baedd730ac0c3e1d9cc22c04867f135f2a'
            '0e6737471b23472f665c1d1dbfc5832c6216806109b368546185ed211eb9ceae'
            '40eee53b844eb65a17d324c22a23d0fc10682967f0be92c064f846b73b878248'
            'ca2f1803ea36936e479bb408babbeda399cbf306b2e266b0fddf81e47edca980'
            '3b9539b5dcd2f907662e0dfdd6eb16970c4ca14e448a65aab85db8bf6e317b4f'
            '210f04076bab1b0d22c70fd43c93ad041a9050aedcd1627f8086ada5c12bcf63'
            '99316e041e53e9932ee226abec0281c6a3798295a04cd9ed6605f5b780192b3e'
            'eb88028b5c5e3ee5101db905a41e23796a48f42640547a36d31ff54067376ed0'
            '02554bfe02cc0d1771fc2cd9d0417d0eae5924c9d2b45ab240c269a5df745680'
            'f9aea24b4cdfb3a168e8e4ff711b445c5d857ac18983f7b9df3ca0411011ee24'
            '5e78af20e855dd6d77d0c61c82e4b1efaa61286ebef406ad00733c5c7f96f641'
            '1d8fe82b5d2b33e6c86f716804e5433c517c8595c0db4e2fd883ec4ed2703ebe'
            'c9d0063c7e684d7f8b5959fc5b2b5d5e4b19b5af2c526b91a68d69937e146da1'
            'af89db43356f7cf285e5c0474819228daf68801cbd2a391ffab9615cea7e6e54'
            '6af65aa5c17101c871e9ac480be946d3404f39f806f34c4ff0a760d104de4f0b'
            'e6a03187068b10402c14bdeecb41ec4bea4a0f8d89e843b051242dac0dae0f31'
            'ddb122b882d92e102f82b3b383e624865146e900e1b1d6b77775712507865639'
            '4022262547fc8af4868ee5baf8ba66f4aa6a040a679337642cdb6254ea093321'
            '1f6b036839c12aa571c9fe97f8efb2f37e8d7e4ec0b39aa87e6ba38ee8f36076'
            '2af2d2bde9aa9ce77f7af39ec7b4434f2c0b5e09a2b07a7ead20e5706c79a6f6'
            '114d51b7d2cee7d40f28e758475f7760d630e0a9bba52cc97795db56fe4cffeb'
            'ac0d777c2257f43cee4a3bd7818f9963d6af552c474fbe2ea088484cb331360a'
            'e760ce5d23e4731195d454075f8ad2b44d2c60c5becfe240aa2ffeb95998b41f'
            'd0bf9336bbe2276bef81627ba88c2b8d1b99c31ebf4248d1619dabc55b63dace'
            '8d04e222b29ad2cf4f84058db09bd21241e8b2c22b4ac966cc3264e7f7aa7e53'
            '3d625aef74417f769c92bf5d6511add07be898d147ffefb72b6a4d145fb69f99'
            '4df1f1485ad1d06f3b734ac7a1c362adf6b9d3c47d4729cab859786052a5c4df'
            'dfd220d0c7afe283f5fd3ddbfbf3487bc019febbe400864f4ff367829f0d790d'
            'ead2c7caa4aa08ab67617e60e0370e5852e753d4e4f8a8cd0232015267eac846'
            '0af25955d93692fe16bac98c0c1aebdc467ba06d4189a32080f27331ee6c0c4b'
            'b2e3040ee2a6637583ba9f65643080d12c6c698ee704d39ef8b93d476c2e4498'
            'ad7a4f3f9eb8b9a6b79f6e861c19e4cf303586dbf5fe34f5cc1dee726590ff68'
            '5aa3cb75d8ec31f8d486e2a2ca4baf418260b6e56cb2ba98b971ae2e016e761e'
            '55cbcd87b37cc870ece559a17ed924e14a3ed54e350b44a772f15fc436375e7d')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}esr/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
