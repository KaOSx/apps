
pkgbase=thunderbird-i18n
pkgver=78.5.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('7a9fd971f275063f4daf975cb46d404e20a68d1fd53d785d9d74df7eb7d350ba'
            'cadfbebe8ab37a8ef2d914c0a3ce2a0612e8acbccaa4073026e0a890644cc69d'
            '20351d424e62fb7d4a05cf472655eb81caaeb1c044a5844a7cd746e37c16a260'
            'bc209e61b8a2d9e21736a0101eb63d11b80be6866be3cc516fb76456a1c5ab2d'
            'b27fe05eab83c46f5f69e4da5012aa00d5c67b89546c581b1c676c4b97960fea'
            'f3d56252acce168e6b54f766f3ff44c7392210ce66cf966a3d82735fea331e67'
            'd044b71a9cbd114346a5b700ccfc5904cf420e553b8ef458e0b4b3fd6583c14f'
            '2d130ae7e6add5ad7280ad3d6c03aa3c7808c3e9c2deeaf33a671e20e5954b98'
            '2bf9279b86b181625bd07382cdcfb775d57c64d254a401251eb3830305e8b497'
            '91da3f757624d9129ab6d3a7fd71fed8196cc24220f81cd293720ca4598b86d3'
            'ea0040ee0b3b7c5d4a84e62ba04f6ba817afa14a250c3b414b5c54cc4403d1d5'
            '28bc22dd143e52c52e1fc7485f525ae5582dc4b6535605a9e5b8642755eeca3b'
            '4d3634baf6fb134e8e73347b6c9b1e909c4293f03a0bbd0bf33166d15f58c93b'
            '50ae7f8f14cb0b83737e66d8a15371ec179b20e988cb3ba124c8038bebb59887'
            'f3554a294e54502c577054a27273d59ff3fc04d121a03d12298fbbfed9518e08'
            'f25a633d564e376c5e64a4983783efa5646e4a3f50785e416dfd0298f372d8fc'
            'ad03d78137bad436943c0822ecf98a4dcb14378500eb52139a64c6db74dbb73b'
            'b7ea870914e96cb3847c70fbfbd8c436996de84c5d9ae881f948ee18dd40aedc'
            '623bfd2e4d95394ed3504672737fd80cdf437dc00f5418faaf50fb02ae11f6cd'
            'f2a3c2c587ba82551734ebbe2950990d56515e6dd211e6f65ef5431a11586f30'
            'd6715d8ddc162a0d1f21a8056e51b63aa523b1825f5a11afc81dca1f3f5ff942'
            '4ba53650c0752e54d372f4a696b3656e7da598af8f4a3b613e5147d2d546a874'
            '03875c87218214bc7914777ecad3872aa4506df849d8374962fe75da2cbd04f8'
            'b6e976d8467cfd1787a0d6ab9559d7dac9e3ec47161bb1fe9760db9ac310f745'
            'feda00b71b3524f73d75a25cb55b80aea8ff15daa6cf71ca7b638ab395d24989'
            '70a97f416147a18188f68ceacca60cb5633543a7211f49fa1b2b45c71021eb8b'
            'abd63276e485e958ff5561ec15f2e82e6b799a5ab7729d20695c5932e0329f3c'
            '960c8d4d6bf07cfce59de3fccabd3d72928562c6a0a3038f25434b44d3c16e43'
            '21b67623fffcd25bb4ddb8431a5e8d21147cbcbc01ed64892a4d61f80a5c9392'
            'cf94af2c12bffa4db0b7918ffa64923ae49695b25539f7552bac43723f52b773'
            'c2e81c401a42e5013c3edb4744393c7746a2409d0051675b9ac4d598bfe67248'
            'f73d0fb64b20d9116b0178ffe75c7c222479a55343b0a27e0f5cd3e7f3825a98'
            '92bf9df1b6687cf7d7c6dc71ed6aa0ac4e4e4c9607944801b55211d241ff45b4'
            '6caccc098904345ba27b79348d3ce179531218ea859becb57775eb8d0d2dea3a'
            '7ead9fdb76fffc907601cfc83b786ac9a0c612127f7c7719751147b1ea89c219'
            '7c40d92f371d434a5e3ad87c044c798071d420d38eead5be4c1d4f5fba592d41'
            '3357c64d5e74220c04319bc4d626e6093bfb43a81e24949999e8e15a01621d5c'
            '8549a404aba683a4eac87ea37196564c1a2e7b72e2ab8edae9460ce22a05afff'
            'c84969b868af7d6df9e330422cf3a41f54acd5af80d9604f6829d5cb2f8470cb'
            '315b21b7fde4447f01b31fa72c2d9984e0b869a81892bfd08c49f8ddd8d416dc'
            '8e5566e2ba944eb3039aa10d0fe52db6060dbaf6ccece2257430b0310b4649f2'
            '0d3adc43fcf3b10361f2ec09d0532b0eb84ffdac325f94aee98a2673859196ce'
            '894683db5fefcad73c67aede6dc0fac9eb8968f280ad384c539f849620a64f98'
            '7c73f803d24e9279552104ae88400422f8327920c598b10398c0a33caeaa4c9f'
            '95cf47bde7b6734785c743d0443dcf496fbefa259fc644e6861565bd35f5896e'
            'f98b1515973715eea65ecce85973a906d9e1f35fde91ed6b410fcc7e150e2534'
            '35c44569364f49b55644090a93046ec3a6a07eae3e61ff931dc4b4bd7088e600'
            '65d5cb4edfe31cac936e7fcb9f9e42889f2f98f22790606444ca8c36225ef795'
            '60bd4bda97b9d1c680c02b1a167792fb049e2fad655b70a84aa0a5c362f6cfdc'
            '808c6f723036ff1085b1b6e60470ea23884f903620e215ac4252c898acec8f6d'
            'e341c14c3c82c7b0475d49b708c6f304a4a813219c98a08d1ab3664bf6e47c60'
            '6a102e5da7011b66231f38c979783d5eed13b56ea338d6a666f44d24313cae72')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
