
pkgbase=thunderbird-i18n
pkgver=115.2.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('eac037390dfb6c1257201743f54b5becb4096003f76cae9199859a77a0e58864'
            'dbb9e7dbe083c5619efbb49f6e056a9c180b576af956ab0e821ddabdd6aa0d4f'
            '54deef5764b957976a7c51976c870d129ef2197317fadfefa27fb6702edbc1c9'
            'cf71ff9b4510758b53ea88d58308a84bab80cc8b3b1429d96e14f1046cf4e62e'
            '5ad7e1ab5d95ae46f38202e324d6d77e7df954f09b43e124677ac560ffb026c1'
            'f2e65e78c53795bc4337f9a5368ebe2a7190f2e0ecec04245951807810303ac6'
            '70a83015024c8abf05aae45fb63dad21cab73fff184ebd6172dec7b9f50a7eff'
            '49ec9afe72370582d9f9c9a56afa9327dc85a6d6ad1188ba80463d26964e21d3'
            '45f884510d58b533c8684643b19737292841e6336182684644df90f699180149'
            'd941c2ef546c9d02908aa1835aca201e5a17ed74654cfdd00c63f0f60137e9ae'
            'd84b00f9ca8905330a7cccc6dd98ff67c0d6d554d685dbf44d76e51382d02f5c'
            '6b687694d82e1bb456558ad6d1bf84389575a80ee6cde85fdd67fb39211f1f5c'
            '20f6af40c1fd2eeecb27412464aec20b58be2c9b859f1fb094e9b4bf8521d957'
            'd87340f273d6f4cf47035400d28c2552ee09d4ed661f3a66bb292e1223775999'
            'd1730bd97ea0242f5d4a57f02ee4d71f77c5b257fce9c857399f38e9ec9808af'
            'd2d4432727da0b2a69b9ed8b714205454d8df14d5b32cd2bf438d6ae52890c3e'
            'cbf9a1acd5ccc588ee2876c2a546646a4443c44f71f8456a34d6f0d8080b5168'
            '0100fd61b85b82792b5c6ff85d6e1255309e79f3465664f2cfbc050eda7e1249'
            '7b754483e1b4e31db71a99b167afbbd8abdafaf543c718237be70034c43ac4a5'
            'b0c63efb90043f4084b20bdedb8d4c701e9d48f8fe06548c1e37b9fd412d94ac'
            '1eacaaab2f74427d8d98a599e13681e8f72cc7c5d1a1fa0df95661acd6269746'
            '90927757888824af3a29a3557925dd05224d414216784b9681568a70214b9233'
            '1d370621de8e9553ca60a93d4477c8af81e1bc8077466b29c4d6fea8754b1e4c'
            'c723442dbfd74089633e4d29dfc5bab986041e2a13af42c10a206f14b25c5926'
            'c0c12d3886ec7171f07aa3e404b21dee9288b7821241afa9f2d3ef47157acbac'
            '53ddbc347b985e214c60d2bf240958986c6ce03856d52c9f7978680f2093d6fd'
            '6ac45fa96d60d4e23d30487fad128e678b2992e66cf837d7af5cbcaf36bf0be3'
            '02835fd59df578fc8a68268f5f04bb073263cb5eeb0f15098276477d76b27a85'
            '5999a5c656a321f39445680611924dd9dbee1e4cc52316120bf9c8e7b8567c39'
            '92a989373311db5f034dcba28f3a1c0ea689159d01d7145a221f38bb5b4755ef'
            '976651ba340fed16f60e8acec0919535ce9102d20b597e844efad9f48af9f2b1'
            'f4c13d2f5a098b87dc645a07444f2bc5788257a517b94fdcf5f7b41882f9a772'
            'a40368335cea18e0d875dcc909e3ff1eddb56c4cec5daa5ceb2394b06b48a894'
            '9af097e2a7387fe4343a20ecd7bfb8cc72d8c3b67992de18893e8f5954e27ce2'
            '2d1d084130e27935e0630a4d554820165ecd30422d4f5475fc66df9bf46249fb'
            '6700d67e4e96aca56d3598a4dc8d2f582e050e7f73e4c8e4b849cfdcb3a11642'
            '690050b9b2deacc5473b3df7795dff909b19a2e1595d4484b81b7f734551d46b'
            '79a3abdbfa7b17d725bd194ba9de148762a9b4936610632677aac578b8cb1d12'
            'ca8162e53807ddc39b1b063c644b11867a0d9ec066f210512040f48be4dd233b'
            'b23cf8746b721e52766afec1b33f6a2518fe9d0813d5683feb20581ff9602b15'
            '53e6d5581dc522097a51b9024af102cdddb1f553fa229e091feb4cca29aa1e8b'
            'd33e9fae0f5e824b8d73109b218c5dc0ed66f7c9dddf3840f75eb7da108dfb1a'
            'f7c97c513ed9dc910d14067f5e7d760a97885868c26d4d2a09528cd23ecec609'
            '03d0bbd0ac5969459934de77671eddb105690dd89c98a44d738fd07e2b82a939'
            '1c67956cfc800fa10ef7ace2d62b1934ba29412a987bcc59837d42d7f234a24a'
            '25ba42f59549d25e2ff28d00c80ca6800037c82d1e45b1ef4f2f6d016716c13a'
            '0ba2d44ad07d83074d6e9c7951c35cf9f114e3b09e335b077fd4966cfff56346'
            'ba7d735d5c0b995023358f81fe10ce2d039c4ed3bd8677aae2bebe090dae82b7'
            '6415094b929e50a209b5ee77b7e5760a28e3e28185a2eefe699522a183a61828'
            '8a305228b3a5f0677f95e1c8fb346f5c5cb29689034aa210ac82f06f5e7f32db'
            'd166f74ec2b6beb2cd3d1e4d60a793837cd91d00cbcdba1fc2938f5fe60d309d'
            'f0e5a4e60daaf604209abccfe2e106c2196ad48c9ce3d5aaef1237ee8201c405'
            '77890744aef6d55c4dc33f800b439e36f2a190b19fcb27d22d90746ebaa24c27'
            '10bd8e781ab26f8e6d2454063bbcb254da87d1b86bc3c22037ccea9835965659'
            '14c87d5f2194bc871eb4a1d699cebc98c85f22ef2b987702b9c7af90dd3b6a22'
            '20d2c496c27bc64ed25e3ab5930650c14b01344b3a035d156687e8d1105b3e3a'
            '3d1363493b16a1a30e4ccafea74c5e97aa37a42cf9a2bba14d903825481d29d1'
            'b7886de15b72522a1e917b3d958921905fefe7b32fa9996007f8d63ce902627d'
            '11b7a5f2797ef58015d03292fdebf86d1b9110dbe262481e9e9ad26f3fe45e30'
            '2b612385223211c300f1f5cf19346c945600f847fcccd1503a98b2d6f5a9a69c'
            '112d20a60c5467e4084ebc2643bcdf20efe388f58bfa8e3cce2934d3317ed558'
            '867b9c5259e9c6594ca7fee957789f0cdb0d3accfc36448b14761da6cc0da028'
            '8132996d6c2d3671e4cee1830f1eba7d04b01039e962993f8e739b916740c393')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
