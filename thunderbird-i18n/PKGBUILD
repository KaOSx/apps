
pkgbase=thunderbird-i18n
pkgver=102.9.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('db7a30b72c4c42b94cce338068345fd13a7e230b5a5fe62fd18b98b2e6e02945'
            'edf1ea0e117f3475802c6f84f750d863b81278a8cd8b32db9ff2ccaefb6a9642'
            '8b19c2d68065cd4ac2df6d73f6ee008615f924291b97c6d155ba6af6df2bba85'
            '7a43666fe1e50e06267e69d2404551dad0b2bdaad11788f21e99e4163141e4d4'
            '095eb84e808c5f0ad06fc7b84c411faf56e6d53a8fc555af275c8f6df96c44b1'
            '82d5bb19a397690e829343ec84a392a1689ab3bf26519419c8693a0ddecb2878'
            '80d1c39415f2fbc3fef77bf93f03134c731371f0ba443802ad21012c99079bac'
            '27ed87380138fd49d4a5b55b559615dfcaf74841996deb72ae875a165df3a00c'
            '164468b1bcdb6167f392803ebbc577bd9db8187fb1b3c5abe9443dfdc92dbcd9'
            '96e8a3c9960d186c4132481b0528c90f035257ace72362d200488512d8bb3b2b'
            '89d6b79f9b08eabece8aa546578f2d1274dca9d1a883fa87b8a1d1bb3fe06f0a'
            '521615a7b03ad823837e0f04fe82a2a523173e9b7c9a8f03010fd0b345fd7c42'
            '4c9a4238d9cb176515e8b47d06871233f50dfbf53f9e1bbc0b395c82ab0ac15e'
            'b109fcd78d4b566f4c373c80860e4283a0ee1544d9fbed5ebe5fc5de94b0e290'
            'f116dc8b99573f614e8829f6cf2ffebf44adce5e702e5529344647af9e6c25b4'
            'b5aa13498babde4354561f3da1f969afb8f6c01c3a95dfb66b9d8f5171a5bb1d'
            '508703bf06181a2f352fde2628638be124bb2768faa70e8e3dc203faab06c229'
            'eb3eee2aa3b814161f0fe4522a2b2215977ab70d76711b191b0e42be1996b74e'
            'adfd5b4e6a201370bf80c693b1cafd8cf1a6aac44d438c3c8a2f564ff874aa74'
            '4acd8fd5a1dcb7d5570f281f890415f738a546054e0b8f340e8af0eb6b24be4e'
            'ee0747811011cd6e2b1bdb56a6f31ab4fde480c4895041f50db758a7d8f7ba25'
            'd346875542baed95e6396f9a2478f5321aa7674760548d8edbf9fa0291b92d7e'
            'f7a4e4d5ed78bd6de282250d3d80b68208dda04f7ba630f8e346dc17b7063a57'
            '39d7e77b9dad7a33c87f717c4d4e8171254c2b12b9824a3e7c300bd57c1a331b'
            'b178604411f6556189b0d30dae4eb6668bf78a93a97e0b53b767d09143258efa'
            '76a2bbacf5873bf3ce21573852d076e4253add2fc350d3fe722eac241153ee99'
            'bf36f143d4f94c7977cd9f977c1c1ec7b9466e305d4f680da71faa59b6a7cb70'
            '832922e1b22a840169d6aade0b803e25c89947bd950b0a595a24fcc40b6c6651'
            '5fded47b86ffd927606727d11a6ed729c8f1e55c168f02793af24f51611331c1'
            '9c9a0e26ff98f0e3409aa68d197e749f60eb489f7cd4e22966938bcf2f81d294'
            '7b686a30faf3a92fd5fe5fd1fd79885137d61cfc6ad05eb6b6202fcf0184bc41'
            '69ab300095ae3a129f6ec2f48ca8dd7af04b5b7281e43392891731fcff3b9209'
            '0f9a4490dc991e6a0f335d9fcca041a3211227bae5567fd508c2e1c1a8faf0f7'
            '5106594273bc8ebfb33fcfeddf522e31cbc3e10e3b8e0768a87486f78bd98463'
            'dff316f5012ddd33e21f15c9f830019370b3afb6caaf011804cffbb5be075f4f'
            '1b93459c5ca62f4b58a00bcce1d0729a21a4657571b7904a0d20a72ac9cbc704'
            '45fab9f8674ac222d81775a1524b5dbf9136ad2663c7677e98e5b57a0e5cd137'
            '65bb98acd809f885ba72bb72442357e5ffc06b20bd7b50b3010fa905f8da517a'
            '2fad8ff43f561670a1aa7b3dceb4fdc96b743f5568beff9cea98efd5af4bde92'
            'ad247f55453dd289f4edcce198def2f041231afc48326f59b5c58ba2fafd19de'
            '495f822ce21a1c289b06cc1154b2e509362799ecb4f2617409b0aa48ac511992'
            '10723cb8f70fe5b18144f5388c505589f9091f1bca77cf7afa7741e60ad585c1'
            '22ae0bd4ff954decfd66dff25e54ef48e8b14222035b56412c40d8c2af6e51ab'
            '33afde3d376d96de0121b1ae8051411925f4c0e11d7140481915fc723b1f4644'
            '55b51e7a91a1c99f2ec438bff26e12f8a933e6df72b8cc7db95bf3ea2bc44ce8'
            'f6aeb9722ff6dac1cc2b0532150e116f9954e27846e6ac26dbed4adc93f2012f'
            'ce2ace3b874e23a6df3708f577a93dc227aa6942a48ea994ed6f7a40eb672f23'
            '5154c6b78d7a9810cc3d7191fc64be35cc203a1dad9e28085d0414c50f3f773e'
            'e4ff34fd209fffc5c914cfb5e9acee9f9f7a222ed792c8d8ee88c8657a9b8403'
            '0114f0774805b46c3254abe2e151ba05371f34e6024f825817f3d9cd9cb7e072'
            '7bac12187065cb4cf3c6e4766d3746259c912108037660e332dc40f2de417f1c'
            'eaeba915f6910cacbe57ce276aeb27cf4e4ba745f21d94011bf37b3fd4e44f5b'
            '1b0ff67833e4d552b5b4b37526efbb9423fdd60c56ecfb44c1e62ee22078950c'
            'dbe6ae9fe0e1670d18be05b690470b3e85b7832b862d67f17e8a36e29af162d6'
            '45234f77d1aa710b8558bf1a79e42a20bdde734e74fd1cb157710a4c155e82f3'
            'f8157939774eab69b3ab6841b7027fabc696ac0d60d7a763c275d29a4212a068'
            'c83bf007de5d0f56d86ec3add5604e817babe5e480d85887f3e2d7f5f989137f'
            'ce8b13a826b938a786ba5fe58bbfe292180b14c8d3f4e10df09ef976be3c05a5'
            'f8d5525b68e2230ac98e822b0444061c2c2c490d133797c68bf009a90325b585'
            'f668e41526cb3760e22a2bf9d94f95afca432383c4b925e42f066b74ce998240'
            'e0fea939f1563a482d626234cb3fc839c94c0d5f8e17bc98c833f9b3ece49708'
            'c73e095b5f349074bedcf1c3b06dcf8494840531ce2c80867c7c71f75f7eb67f'
            '380e478629a8e2dada4d464fbb9975fb688e65439731a4ddc4cb778055fc2ddf')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
