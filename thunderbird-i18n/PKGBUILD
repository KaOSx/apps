
pkgbase=thunderbird-i18n
pkgver=78.2.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('1951d1412b6e3de153bec871ac75b182529c40d703b0e6faa3aacdac35744498'
            'c90fb72b96a8c4ac3c1efd045962242d98a2f803955df3e88888736478d63602'
            '8e82fa53f8237eb0d2afa1c8c4ce9da209bce4554483e151dba43da93262d1f3'
            '286565e0de10090182497bf540b5b29676fa0faffc40f63bbf1bc9666cee37f0'
            'd27c97c11dec8d7948e9e959c75a52b1d0aaf86ad8ef8148a73a2de4b20fc1f6'
            '2eaf51fdf94935bbf91c4414afd54ad04fe685abe5a6ac8628d72e71ecd07e35'
            'fe80c229e70619d5d6ce9f55de4bca1c61d4053e3d32aa5cbd51e2a05ae2b83b'
            'd1a74be7f40e1c1ab72c8a1b5dbe49f9a5edd23b9e99b99fc9a9265dcf7c637c'
            '215a7134b6980c9bd76662d331aa27170361a7e3382bb66de778be31e8d8be78'
            '3bec3846afec50553d57e3e9e066244dc0f05e2a2bdb3ae8b4f9f02e3c8ca35d'
            '1b53f351976e964f0384f018042c2f5e4b50db9a491f75dfadc09bf765d18e73'
            '6bb04c7748f451e9df011fc54c875dea56e536402c04d0cba27dcee8efa4f0fd'
            '05f7c731b095838c754c3fc4c5614e1a596c69f9538aa975effd86c787117e49'
            '0d33d4f160822887d087dfe9174ccdc2ea1e2cc8878607ddadff0d34968a0a13'
            '9f3d13e3f24dd61073d6c738d0249119283c1e3f89734b409c48e44c8472730a'
            '24f4f814051c8324b41867fd855b1fc78c768201e153bfb8640db440de58c853'
            '45948336e9def651199d548df702459d4fb7667c11c057984efe932039df0312'
            '74c32583b012c8daa0f6d5c844b502ebe76eaac2d61cc3a0331f265c3b8cdad1'
            'fc63430d1c60b2c1ae66076e502616fa440d35cf2c6b09acbf3e4ca34d2519f7'
            '81ee3a9c75dc85c466917fe33a66cafca363b87d7b1bf0cb5b7b464253b5f5aa'
            'a6bcddab931c266658ddfc4c668429cc5342cd8a232df10f8ceaa590bc49a840'
            'e86b82a50d69c88e3dac4f4f5d3a4ac2a27ac1b6db5388384c0e79aa21f77caf'
            'ba3774750117a480ca7d18a7830f27eb5e2f493e25b3f22cf805186e3925563e'
            '714446124f4caa4fbe8411c15d6041f2c5e0080c154e5befac4e557a8a74dd8f'
            'fb1420d63515857657a92ef38371b1b9a0aa897b7aadc9e451bf2d9da4ffef17'
            '696b62a8043b3486a059fe8487bf0749065d9e878311eeec0730304647862d85'
            'b5649b00e2fc530b8f63d5f963511c6ef7cae4deadf70fb83d4e70972c7c313b'
            'a6ecba0825dbc2f3bec693577b850ca52acd100d0df3af544784c23fb6d1f4f0'
            'd36dc9011d464bc027bb0b3c91ccd73baa879d8c814d790f802a9ddaf2b805e2'
            '410ca6c4a58e2d0d6057dd9203b9d7eb4b93baf1ec4a8e5ebb8651bf80138d8f'
            '49702c62a0156218a9e3b405da1629f38e519f4880a873040df1948c36408396'
            'ac3312e70ca69310620582a23abcb18b7e8e7486cc6f2753ee77f3f52ecb3d0b'
            'f7ab49c53fd9aad793c6efd95fae234af85fdfb83c6ed27e7be158a1aa7e738e'
            '40ad4638619e3ba1a10a3e4435576d9d56033cd04575cb839072070d4e71a844'
            '7bcf1a1e811df56a16cfbd1ed9aaaec4be87ceeeb627b637453c7bef8af926b6'
            'abedc83798c5a8d1254f6f0cf2a938f702854749a70cbb1eae667674b6929c71'
            '283678aa2856fc587b881350c951416aa76086ad1175d9174eafbc6c9b9e4e33'
            '31909339d708f4d039ad2b155cdce0b556f5070e727557f07be3d890debb9608'
            'fc0c86ca18e652438a38fef65f1302405953d88bd187d18c3e71cc2adabfa63d'
            '62215faec6e80fff004957f544b94cb80615894741be6be265ef7701d0ddb871'
            '8ff77a6f9b18aa28dc969415b4113840c647409d55a8e2c97800095f6f1f2dee'
            'f1cc4f47b187a09f16929f531b44e6a7d26473a175a44dca33a13a59ee79b88c'
            '1e73ff8f4f5b0290a84810b1a7ba60abcf0ab3a5d40a3eb9a179c94af79c2f69'
            '0be99f9215e5f96f6e2590a3fab30e739d5aa237578de23d9147fc10a9734cac'
            '4b164ee6f3d4d82a751b6be64d7b8a90c31f5669ceede3ff98355b3381ffceaf'
            '6936cc84a1f76519ab915d0c91fb66024556afa9af686ced76daa2f326b7ed77'
            'c278a4c70b3f90ba6d499be3828d999d63ce6eed13b126c3611e812558aeb0d5'
            '7e33b56d19a8ec633ce2223d0caf7d8cfe999c3259a2377b07f345ad3827658d'
            'aecc84bab9abecf1f8090450ade2f7eac172865b5b7422407cfa04b2e5e17fd9'
            '1b8878eeef01f2961a1d6beb302e68fd895cdd4f5b0da87f70393b20ccd81767'
            '93e7cf622a273c4169226af136b798d5e363b765e00ec788aab510d4eab846a0'
            'dd6030769be34a901ce1af8753f45ec67ee893057fa9a7c37aca41117f3ac2a9')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
