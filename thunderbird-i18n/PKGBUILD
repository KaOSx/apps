
pkgbase=thunderbird-i18n
pkgver=91.1.2
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('b459bf804d47187682b6d6822b52037731410fdd97d7352ac7d204f306acab76'
            'acc02fb6489f54a978dec1d374aad1d0fba1c71ebd2e7ab31eb47cbd40f6c384'
            '19cf4d72c4ecee499d4dbd847b73b48423b3ab86ebe7e427b957c56cedf39b89'
            '05792e03c9a7eadaa63ae095698799734a57412e25a45ed912f0cd4ead029b67'
            '139c13e08de0e23618dbe6e26aa093f0aff8cf5aec7c9d1e5be8d4c57e18e1a2'
            'a41a7e9ba5467193d38c2c3de80a4470dbeb029e549c4bad83d1cb9fa9f6fd52'
            '21f01d31154ee08edcc69d1f0e3ecb9434c42be279a1ebdf468a989d1bd7bc54'
            'e8791abec7205f1126e48902f214de3a7ad643e42b7b768c7891435f10818e7d'
            '079f60890242c38dbfd2a69d7a8cbcaa8d6d8c3314e05b0ffb68ad6182072731'
            'b4c9bc5381d8e5531c7d8a25951f09547f1d30b5e1f3e25e2b79c439c526866b'
            '3ce3eb17295628f1c5ae64e8b86e465d101bb2f751aac5eda4e71c01a656bc96'
            'f90fdb85b0c32bf64717e7870aa4bc1051f3f46869b7f8499ca15d2793ac7ef8'
            'cd5c1063360b66ba092dc496affd1191e41268960de5b55030ad400c30d79939'
            'c381977692b30940a6a837a4139e8f20d229ebdc86438a0b00c58e518f879493'
            '0fc216a431324bbcf398b74f5f3cfc91c33cd562e389053744cb043b6a259cae'
            '3dbd7513594fcc08e8eb4e30532b414ae8842700cf1a881c1794f48cd9e1729a'
            'c75d75a53b84232cecd3526f02e1ea0cc1ec0bd2b5c307d7502a0f0cf1aed26d'
            'ed017c50dbfd722410271bfdd70f0e308c0dbc05739d28b24365dc2c38c20883'
            'a92a87f389e636ed802f8cf9a9231ec702cf9cd514f37c20b9581c33e8cf3c11'
            '959c7cf33af54608062f7aca32e846df26d15cf32f4a52975bc58d5ce44f737a'
            '1be170bcb8e5472f0a6c1a910ba14e7f8e207f20085147848d65289245a89283'
            'a1f4b84efa2b65110a54e0a3e34c54bca2d39f03d67e37c373038f8c5c8740d8'
            '529aadd2c07189dec9ce810e785f4bfe2325ef72273a16fb13eacf484f2ad467'
            'def00f161fbe7457f8ae8adf614d8b520d3d44bf08a85b8f7ca685278da14c39'
            '2d2b74f52f47c84eaa947d56cf40ba67e7c99f307ec32f379ae7a0f65c8e0f98'
            'd2cdd60d80f58bb1ccdf1deba5a75ea7f7d20f0e666566bd86f1cbb1f1105146'
            '1587d5086a8b5f895826c07936dabe82e166898166f226772ddfe9dd2ea321e9'
            '42d4e3fd450ed53b5431ec7adfdd27ae5bbf8098b1b66108b757396bc31d8560'
            '19880ea20a45e9c298c7427e6161f572ab5dd281e761843c9f68ea00cda8c1de'
            '9e95ff2324ec57e7d3f585b0fb79af66fdcbf26a64ce533a3bda5db996f16398'
            '7e947ee065c91adcf0dcf69cea9a2fb437c1bdd4142831054e01b15ea0c107c7'
            '5fa0c9f0bbf0e51d8f67e8e84855bdb5b419512c37178b43410871f3118e127e'
            'b2ed91b5dff96250bd91dea4fc4f3ecc02eb3c9e801df3d708bc645772e2f603'
            'dcde9beb893b61e358385c2685adc416558696a88ee546dd981f7c98a1b52625'
            '1e86e6f634dfd4cfb089975c072bacccd0dfe7dfd992048d64a09ed361e18ff4'
            'e0d347104fcb52aea0a4dec1d60fe50a97b243ebf8fe42f75bfa58eaeabb2c51'
            '1c42e9b441de55eec68b3328ce9f28940a64336a8bb621e3c8577d673ef0820c'
            'bc6455c769a38fe91ce96e96d1305e219f30467f0c6c7c1e6618e8646907cfb2'
            '1cf8c84b257c681bde4f17c4d38da447dd3eef864354fbcd3159c40e04d62031'
            '66d58cedeb783cfaeca6bfa42768459353b5b6907f047b54e7724358f1730fed'
            '67b903d8d087059796be7fc881364935a61d936354b25b8e1b38e9e375f1b775'
            'da058af45362db2d24a3c0ac4bc5bca067662f75981cd144f1267b8843d3f9a9'
            '06c5accc4416d60e5195f5729fbdabe915111535f0188e2dcd1d4432274b4143'
            'dc672d7c2e9ca1f5976b912e53288cff8548f80fec02b31cae7c41877a1b827a'
            '23a26aed1410d36c0ee8517d9a12e10e088c30fbbfa695cc6174bc3d5713081f'
            'de4762b604db31fe40fde392a95897632cfca10dc264a2f5581b4476dc9ca743'
            'dba0a1f3036afa0ca452ab915f39037c691b0479ffd5e2b9c97cf5550e54a0cd'
            'fe1eb9143f59767b1d40997eb8f164b4a67c1c17b1dd57690bbeb69d00db13a1'
            '1fd8636626cf7067fb7eb80d290585cca444fa92d71f9c6f74c504be11bdb0e1'
            'd8e9143e5c9438424ce27e7a8a227ff1f876ef531601f1f5f86a82691aaf699d'
            'b76b62b9ed33bb4a2511b9b93c9f698ac727bccdd041412451e40a169c1ded43'
            '425b117d953705b2d0b875cb1d978446c47d51c54e3a66a7d7bc3c2259b82cb3'
            '93bc278c31ec7c09a87d92f0914fd9fa35dea11fc65bcc6b4373f8de6d318238'
            'b69259d84126b9a118fc9547d3e49a7b4c9aca30adf9709efec33ad05b666b99'
            'b1472011e14f7424a36761dbd28f02d0ae1661e87e0223895b5efbd798d7c473'
            '4c3a54f633b8c686e984a2e465f9dfbcd88c11ace1752a01eac69106d56d9741'
            'af08cea5ab60c1bedfb21656c070a663d2cb52a06ce782aba27f748939079d8f'
            '6c2a6277bcace605e8b019dcb42bb1319ef6325d5fbded755526ab9362f80bea'
            '2811019497cd10698daf255100b2a34fbc094b198c70ea2aeb610e19eb8cacfc'
            'bb04b924845cb79634f3f89fed1992cf2057cc1c9986cdee587ab7c5a75abc5a'
            '4ed04b8adcd576d297f64cead70046bf9f81ca88fb7dd61c3d841c0c77390c3a'
            'cf70f3f0a27752f0ccd995fb97a20b1f430b097c154ff8368eb7fbff67e0a2e0'
            '0db7ea0e90e07a58cf3720ee38bc20f66a3a64450fa822dd59e991fbebb4c47e')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
