
pkgbase=thunderbird-i18n
pkgver=78.4.3
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('9da90782dc1fe9cfb75fcacbed4214f0a1a8ad1e25cb59aec3af7433b70a55bb'
            '1626bd89404202e7c3bb313dd9cfdd5aea47034c9a114fafc13e718a3af65ae8'
            '5ad03244397202d8bfcc52f0f9637510a4e76d7d8f7e1dcbe01b2c2497a8eb45'
            '8451a37c401097157493d84346365ad2a7cc643b0c285de6f6e09a01df300969'
            'd420af1d15126fdf483b2a89f61a8e7345cb1c3d107c1988b6a0ac7bc68700dd'
            '5ff492d394b7cbf62bbc392d9687739326a973e4580e95e6d2c33d32e5ccb51e'
            '28d54bc4cd9564ba326056e00e3815e541619210de7ee537a763f714e81c8a2b'
            '1faa359886bbba576e5860947b74f9722bcf2a77e3faa82040c372d82c0539b8'
            'b8284f9cd635dcf64e30070a7076226e9f5a685f36e9b79b0030ceb40a4bf51b'
            '20a1c8884900d73566f8357130dba89d4c47cfd4d3ec68723a589b59d21331c9'
            'a60ee1447fce6efe4020502b7b1256d21372b70c8399ed5d3b1bc3ed89c8ebbe'
            '3a50c5578012f6e228a0a2f420c2ee37dbca5ecc242c5879f768cd1bb381a0cd'
            '186e72c9679c1249d0a4e5670b67c5362ec4851805147a01a54a2aa2e7d17ab0'
            '3a72777cad4188d5054960ee40a46c5ea03a073c7c0a8deb889818d31560b04d'
            '031e6e9aedeffb01ef77f3f38d8eefdd812ca9ed887ddd46a475f09df280bfcd'
            'cff3f4e7764093d4e5b849ed46aa99cb9c306b4a2d4ceaa94c13d383722b1954'
            'b92af3e889e4ee6b9ae9aef19e554a9a22c4c4af5ca4b973154a6806fffb31eb'
            '6ff89185034d4a20006ddadd1568b790b73589800ee07dd54a94a15d41118b26'
            'da2b55f4f97bd834779fc6b53211d25057cba368c1a7c2bfb3f74480b576b15d'
            '0ed810b422d2f0468e0620348de51a83d6719b833d4b1bd8af38dc83311764df'
            '730b828369a41d1e495d52e95391273f534ee636deecab4f52445f65b1026b9c'
            '47f93b2289c785e3a0d696c1d0e3d274d68e93d2b3c23a6cc034bb3a07e23f38'
            '69e12ba3570a3209a6d3a87cca4e2546edcb2db9eca1f7dd3b2a4d6c780e3b39'
            '5bb361e4a36e3c3e70fe86cab4848703bc14ab78d5d513146808d64c093988bb'
            '69f9f21297b29ad56fd61e7754c3dcb04089798f8d087ed8fe8b2bee3ac1a7be'
            'ebd4cb7ff3b0134e96c55002c86a3e7e1cc85615c9c849570d8d9c5d8858a41e'
            'b19fa29e20c00b73ffbfeb5bbac726659ae4d84dd3ce70aebdf3405045d6f03a'
            '8de625e624eeb7fc25426a0c2e4a46685a58d4445406539a7b803ab760416782'
            '5350b32ccfc9e565495a63a4ff15c141a7d5f8ba49ca26581308695bdbd87597'
            '2df52be901bf69a55aa6d3410643b84e2c076f7481677928ea22f1cfa9950d55'
            '7045d8e8f2131bd664a1114a183a2c8d5efd2d58146f956671b307cb1782d7d3'
            '39d27238829fb85e5c5e210896ed3361982de13982245645f734536e169e6709'
            '331e97af2f89d801d4d69e9c9542c46d53d2ab044b96d7b9f36926a6a8e886a3'
            'bcb809494460be5cedbbfaa77352509dccbf9c99e919910a40d7488788006eb4'
            '71334c50e268f3163407cd20242247cbfa868714b90ca60d22b532ef3481d152'
            '4fe77e39ae2ac3f9763eebf9912d82a12be68c15a6fe326e8450ef14240b440e'
            '1efaefee598a8d90df7200b0cd179aee65b40b1ab5b85e84157dc9c0b94e7127'
            '020eb950d2b661231975bb5d59724b2774474bb10f2f11eca0f1768763fba032'
            'cd89e5ed95265375d2dc933c883d8f98cc2436a73313da0a3b697a1762d1c492'
            'a1ff4382487521476235e06dce9287afdaf04587815d81132931adf87ef2fdfc'
            'ea2b7ac65736f81183bf0aa375223b401af01577486d2000c5b4c1f81b9f5f6e'
            '312655457d8f620f7c3750c3087e4aa4bdfbd4b00c558757214bdd8d4d3a1dae'
            'a69a9cbd701dab09a56993ea88b127feb5c1131f37bf77cef94bdd8d6dcb08c6'
            'af730252a50ee6f65a31d7b5030379ed0388224123448d515fb2712d15c4a1f3'
            '99253a7437194caf6faa2ac8b1a21ebfa1bdebdd2eb0bf6ed1eecae891df2f36'
            '2563ada9ff41d23b1e73fe8dd1fb01ac85075dd38d7318bd3de282a08fb670bf'
            '7f13eaf1b63b54a0f6338855a072fcfe4b48b33c797066578d46a4b79019e4d3'
            'e3d3e428be19b84ef3dbaa0f4dec83219a261d073243c863f215e4244acf56e1'
            '5987ed5b1201fd7f095da0aa11226a10529eeaf72e0f02da07a8750365242033'
            'e5307ad78fe61b077471e25a23fabeb073d65e9c2e24a179b34c4ea579754e9b'
            'c5d1d9360d0502491ef043232d10147b74c16b0fade66bed658a9d84b9725823'
            '52a0d0b0a41bd68e65a20dd3fd01b5f284d968c22abda5c54d49f15fba023914')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
