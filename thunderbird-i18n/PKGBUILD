
pkgbase=thunderbird-i18n
pkgver=115.3.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('502e8b6892bf788d07d36913607557b86c2122f5aa3011692c41ba7f6153fdec'
            '6dd811c585e850512f62d2ddda3e6df3d1e5f8c9f88758d8a4c2367d335a6e13'
            '7adf76897632c0aa1e08e47fbfd9c72ddcad4659b25b9d577c62bcb9ae93a6e9'
            '7241aae801e98ee57cdc086c3d553010b976e2f1cd15edd01a19334028d1ee75'
            '62cdece116e93e50c172b870e2a8f0bcd9e80ab3efb4a92e0aebea4fd7e1f1f5'
            '65e3e26144d2dfd889ae563f9ce0c1b451ab1b4efb97b60c182cc4bbbbb9aa1c'
            'a228305c4aa69463a25ec54850ea9f3340ceaf649a3a3be825a49a80d7702028'
            '7191a90b2fdc36bdc2357407a9d54dd82bbcbe04982541a1c67e1207ffa0c711'
            '422d64561dfb90019497559001ffd29eb1375c797014230d4048a506c94b89e7'
            '63073bdb17211b6d94171082e2635578c831291efcd46f9d5bb49aa13596c371'
            '34abb64ff731b79f799a3499e8164b3e04fd3cc7ee9f705cb77e6f975c4e77a9'
            '23896849aea86b6701c00249613d911b814adcd150915b1c73273d7fb5ac8cab'
            '15f6f2052d5d698e8b9bee6cf5dfe71c52335b4b8563e54b91e50e3ab4f3d008'
            '4a4ed39bd8a4de5658743cd31d4b0aeaed9e4422246234006ac7e216630f7098'
            '10717e9b8d793e3b8f3fba73d28b97b1d00750198917d9fb49f41a122e45d014'
            '2a924535e0de53eb47acebb655428f0fef672b23cf69b9451a681cf24a4aa7f3'
            'bf5363edf20f58b99a4d5b4f055c5673a93d68893f27f58fb53a4a4afc88dd63'
            'a0d5b1bf37b564e7f01c896594860e6e64286471152ee3bc71ef70645b02c0c3'
            '78268519a37826ac95fe1df888e52d1a27f32cb67f2998d0f52754edb6d2dc40'
            'e68bb932febdff3f7b9d4751c411d3a82161410d994f72ac9201f910c01934b7'
            'b94d24382d3ad5487d5db276c9105aceae3ca8e83c934565bd91345826cb09c4'
            'eaef22f7d20fad06ae5e81a2a7b516b9e2af980a2a35e80c3ec4273b6620ac4d'
            'a09bd70b83f6f34bb905565e9091bcd09e580d15aa3e4d49e012dbc77ecd2521'
            '7a22b04d1c5387cde823412663077c1a986b31321d0d87a70daa4ee7ec2978b9'
            'a98aa31b9885b2b9a4a247b7a018118453c165611bba92e74636904c771cc9e6'
            'fa0875260e098b084695e832f92e59404fe8f3548d66f1ad80555711347001a0'
            '6ea1dbb8cd3fb85bca512a283d8689069b7cf9db3864fc655975e261792e57ed'
            '7cc2a892bfe72ed20e82bb1a09a8ce4d8114f74523d79d350425ffa6ebc33abb'
            'c1361550293737fb57b6dbf2bd6431d06af7f5ea25272f3703b2f69bb6bcedfd'
            '0b3d2aecbdb366b82d2ed930679f1785118a825db431c49a06cfc10fedee528c'
            'd34b97fba929698d9cf7fd97c77db7dd19835bc8c80b63c2cca6c91dc2298a6a'
            'e948b1484d94b7939808b7cafe54116e396c439f24cd35b5877c340046816cdf'
            '43ee562bc651d72c5b9e5b6a740dc71559edf6549c7831bb305a23f86247f95b'
            '0c292caf53f7ac6a4e22be382b24812e3383fb061209ff3f5531246f7d7f46f8'
            'b9b43a99325ac43c8914519983de90fa0b6681a53f52b445e249ec956a53f5c0'
            '024d5e572f60e8e2ef17613c5a95a113c161d7b3416c2c8625bb8433e7913a80'
            '6b886bd01445d4c9649caea08f984802fc70b6adf4fbed4515118b7706d60ffa'
            '529fc15a6acc8213d64bfa539978eeeada992b0446a92441547645775787f3cf'
            'b2cbc97ec2bcab5a619a170365ebf7df32fa4a6f853ca710afda792199cc4645'
            '68079f979f53e537fca5f1954d02c25cea6e30ff59f9bd615df9112cb12526ab'
            '7a2cbd6b1e442ca074a74d1f4582ce09817162abdf5b6a895d8f1d7270691552'
            'e9e8d06936814e97168d8d9bc2626cb68730e346ba25c45a517d2ce1723eb741'
            'b622b1f0ca6c2f2c57b8249f661b4da1716fb53fb9a58adabe1f7be96f9ac3a3'
            '358c3070963d36bd8c1346f9fc2da546b5650d2a6f80a8b97c37427bfaad7df2'
            '73e6406b4060c3f87941f4d9adfa4e168c7e91ee0107f52aef8ef9996c77e8cd'
            '18da1094295a9c6fdb6199ecbe9cff0c71c1de5dcbb1f81d89ea3a746a8ffae4'
            'ddab751f6d353756c30cb8f4593162d7c2d475d1a045741cda5d183ef0d9703f'
            '6aec2d874cc6aedfbf45736d8bd7e32e3dcb287a877f5a514791ca0ddf74afd3'
            'b55a72482ed8fcfbd10e490de54f0a9644068b73bcd28ffd09971fd7d2b28580'
            '78f39a13e9c33aa0c296a0242820e971e0238b78d3e3c026bce1d81175e21b22'
            'a881cb14abb6aaf41b0d79e71881a23c4c89eede01bd3a5806965858e52efa03'
            'd5bcaf9ede8520a45aa19b51dd055be822e0c802d964210ec0d7fb7f26012543'
            '76322450cad28923367f230809183458acd645a0509edbf37bc660e425de2981'
            'db76f51f679521ac121c0fca345a25d20e48769a8fd392b84b3f642dc81dcef0'
            '838b1cec8e7a1136bfd8b95a37fd5ef47fbfc684e2636ef2644a7de45ec28541'
            '71534eaa57408d0dd9ad86394cde17538949ffe515b8548f425668fa6c095da2'
            '85d52bb91226da65ab4f7babea94f70cc282675c6bf9bbf754cebe00edb9701a'
            'd29ed4577cc2b913eef1305390cda6aa4a7f73d30ed5d1dd27721645328528e3'
            '3e28b08b7387fd9ea7f710ca0663cb6f433391119172934077dd25365ba2a34d'
            'ec2b317dd2cb8b89ada95f2bae61573e0fe3d2a5c45fb6f1a9bda219bd577d16'
            'd7262f34f8247f50f8b919f5503fa013216f2e76b2806673b115bdb15b14e8e5'
            '089f9c23b85f6b511c8dcc1fcd1961d40126279538de91a533d3e550d8d8b3e6'
            '4e47f670abdff1f78f60309a65f88f909115c0718bf098da20dda027c830decb')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
