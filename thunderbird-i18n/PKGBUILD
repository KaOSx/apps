
pkgbase=thunderbird-i18n
pkgver=78.5.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('ec25a427c59e9fa924b9babac035c3a3753a385fbc1069aadce3c4125a7fcbc9'
            'c1cee9aebbfb89bbf5b53f7c72939c35dcc6b35d7093f044f94ef9c4504f7e3d'
            'c19185c591865a4a4f1ec3c07874c2cf67a6c75c38498659e22914a822aeac9d'
            '8f5d3f3777aa6d1d25ee85938aef5037e4165447dd2aadd9425d2268f34b854d'
            'c83abea2ee982cd6270168b7d267366462924027d3b9f0bcc3c1854ffe2c2228'
            '4ce6b1b59567e4160205791a27fcf0449f4b2e57f686de4cea92c72e7689ba30'
            'f9db6086397bdc3abe98275d9804d7a252d03d8b16cb636aeaf2767e34670668'
            'eae693c2fdc62db8157342d3240ae4caf1be93ef99d0cf206533cbc32975d18b'
            'e56cb822478b4aeb359fee9144b31ab35ff3c3fbce297e407def6d906fdcf590'
            'b8ac125dfd9582f3bbd5f84c1ea1bd25575624942a1406bd2ab95d5e48eb304d'
            'e32e932b387d7e386e262c115b8683a70a6fa8fe491c02e5eeb386bf6471518f'
            '2169f8efaf09c9ccbcf5bac2ae700c88922fb505a56bd68b74f8e550947aa290'
            'b21715093124326d899e41d106fba7b9460f3a7ebd5c843cc53218619f8700d8'
            '057dcc7fbc9bd10062a37ac25fbcaaa9ee00974a8c2f0104764db371a371d162'
            'd02f5692728c1b11647ea6abc03753ba7e4c05c5db8bb599f93a69451434a2b8'
            '07928e750bbc640625f632a963bc882bec0cac9a0e9485045d08a85e4e0525d0'
            '463cb4bc2417cd900e893649c84a9f1a8ef334bcab7cec1b58b5d2fc9f4ae74c'
            '34e3771929ffb14e128adc963eaaeec20615998b06d47164b3e834be612870b7'
            '957f8dda84736a0fd5c2e6ebb8505862b850e5f0e543098c3d252b2f60750b7d'
            '7686231ee1b9245ea5bc4cea25ea388543bb662db5e688535d5dee0c999cf911'
            '9e3a0089eb8ca12f59266b8ebaf223263a3d7522c8ac3b813e107cacc96834a2'
            'c50da6155cf02717b3d36f9400acc7c61f469bf08fd9d70a32c6f6bd56568d09'
            '5e4f32e7c1682b4622304d833b2cd18ad1c2a1bedf79e9ae5f68d682b5368528'
            '4f35a356a4c75d6bc4416a64557c8fca6e829aa65a3630822b603451b46e15c9'
            'f92697835b5e63b8cae60ad072b984809e9126f149c7f0afd2d4637cac60d266'
            'ba9557cd945d6011a4b311835ca4c77085e59c185569591278ff0aa9516917c5'
            '4d4d552d6d2a5f87caff20308fdbca958b7bfe884788e2d52579bfa9f09a3179'
            '18580ba9421ffe4f5aac969c05e7c951ccbb8bd0daa8d66286b69a57b2dba461'
            'ccac10e557dcf2ab91116cbec62afbe3bd38a405fb400a2c3428b33568ecb929'
            '2ad2f0c37903c6a2c25b162ab2802a7e2fafff3b0905fddc79afe904b0a5d933'
            '383a243c5bda399e41c4dac3de78eba47a433816c78a1c0b1535e110f73d16fd'
            '1d515682dd710ab88d46ba288e75afa60057cebe751a939759f9d26d9f0dc486'
            'c9645eb923649fbf70ae348faee0ea4960e41f6c5a7fb3b8ff04280a2e50b2f5'
            'ebcf6c66735f14af43104c9875bc697cb55e5ddbac0fc1ace214898e7aec3c91'
            '16cb719a8c3e5109d564aa3a1ac749ffd01f5eb4146ea37bece4f215b124a947'
            '51109ee36de6d1f6f119e43845fc5ae006f30cada9df52cd5079d7a44b732f6b'
            '7e18dde12d9a3d74d7c5da9ba4b599fc00413b3badd1dd544ac670675e4ca0a5'
            'c3079c2291f7e285881e2c7fe5f72aeddc412c475c18503c49d4b00fec817028'
            '3dad8f1feda31074ad2303b81dc48a57bbc234de8376be021708bbc6936afec3'
            '3ebde4003dc5cd9e2a2b20540b1c8b650e58920d1ab4a2afc3da97377ff0063f'
            'a45be4b8611a97c85ec21d2587f86cb1a47a3877e2563f88877e20a2fd2d5831'
            '04c415ae24ffea9f8805390fc9d7f58b30063fbc545b440dfad76432821880bc'
            'cb876b12e08a15c1bb7b6eb573a4c47495e211ede8a2d5b36583c98a99e092da'
            'df39d3e81f79326119b87459d279d505e29f0edbd4ebfd70bd57e27a397b3627'
            '44f930a2e91dc79a3eebdd019ea4755a424a71402df21b14201435376d82117c'
            'a23c9f9656c95204f0950e23c8687fd9eda3d5ff97359bd5eaae617246bb968a'
            '2c713967b22a0a903c5205f359a43415f23f3e647a1a7ecacdbc0c061db91209'
            '36e678098e46b5f4c1e5fb5cfae86f2f35b4f51fd2f5f9afb5853a2f16f17bb6'
            '88c16eef0a5b2414d67f60e546d1632bc6f469473fb09748f6eb98166a9f3b96'
            'a832bd70ff0ede843dcbc3898a7c37fe2a60fe2180c890ec15286a7ceb4e7a33'
            '05d54ed2f0218086a6328db67fe4a10170d595c2743317c838c63cb63d6a661a'
            '51a0f0767a431325699778621d744d7c9f1e89a7cbd7540b5aa247994c899348')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
