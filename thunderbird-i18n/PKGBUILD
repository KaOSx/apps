
pkgbase=thunderbird-i18n
pkgver=102.3.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('e0bda7b962ee1fcc7746b22c86485d71fdd8056740b7f21fab19b91eef85c92e'
            '9a6b659b9a2841bf8e1b5db2d7277e641770dcaf034bc80ab069eb829362efb9'
            '35fddc98b9c2fbf414b6fed613f8c804b08b58bd37f0fb2d19e9946adbf07ea1'
            'bc6f519a3cc6dc09f44c135a186d1fc3b436e0684a5f21f5420abe55fca79d65'
            'ce4709b2a1e7f50d40075d70f35ccf55cf646bea25a394d2cd297321ed99f469'
            '000cc6802feea59da33a657dff50cb6d0ae048428ec0fe613a15d36abc6b7835'
            '8ef2b04b4cee0fa29f204c6dbed650de1c9043dd4a8c8384cde371f743f8ed6d'
            '7c5c7aed08325d26c913f550b4f24b351f9e91ba44c5cb1ce349138f6716b6e3'
            '11834badda8aee822e4a6815a15fd02c9ca182f8e8fa6c2e46e3bbcbcf77b2d7'
            '95547b78bfa3a8856d52de865c322addd009aed7a5378a74b086a8be9d507ea2'
            '1328002b0ce2f77f55fda73b642d8bd6307e1fbbe538d6a0018f3340d48b988d'
            '001e65ef7fb1614fe1a25422faa2ef1943d56c8d2b00a577bc815bb77febee42'
            '3223fc2c0222d46d077eaa4552fac9be2451b03199bd3bb8a54a389742b1fb89'
            'c6831baae19e2a12c9dda42f92c6c3b443049940742788a72412a94ab0d6af28'
            'e8e8145c1168fddcadb8e6571fa07ea662656149027ff67a1c7fb2277b730ed5'
            '91164e2264f902900827b258329c7055b2df6295f191227285100a7506aec3b4'
            '9cbed37f92bfc0722fcac3e93a4eae5d3dd902afd23e948eecf1f3aac2e05cca'
            'ac2f3e359a9c8ce74a5ca6a1365d6f90d77c1b160cc3c7cd2d4db2ef0f17629f'
            '02b3b850c65d3107a5a8462e0b3986d49a4bc63b06a19a4e85bcf69a2866b4e4'
            '33ac8e2f61b2bfe71d931cb4a2997de9188871b102a49e42d6641cd3894b1694'
            'cbd414c5927e86caf275f420b29d537fb866f53153a0ccfe29b62fd7be8685ce'
            'd8b182b5e8d5348937a828f378a294117a1ad4b9baca05d35ede6c832c563528'
            '640eb49f37ee0ed50229484d88931f975866739e18d5e3e9771b190010da32eb'
            'f20ea00b97ceab2ffcb87b44793292b291d6252235035ff9c5729f6976f5db97'
            'b46125cf0cbb0d5a3760a046993ca7b88ddcbc7da0b8124aebd832d662bea4f5'
            'b6d3705d8c9c368b5c663703db1968fb18909c0189bd5cc5f735a3ac711be77a'
            '23f123d748c4144ad92cd02b08d3dd1ef997e82572a9095e52ce373b15bc993e'
            '51cd93aab3973646f34db49edeb38c654973cd09a60d81b0b5ad1f499243c1cd'
            'd235decfb71e2652fdab88f8cce408d5603c664601f1748f370204812d2f1332'
            '87f73dcf292214c1e2b2c0ede2b864a5b24bcc9ff5874be72c5f6824afc05785'
            '750e7345d9f3dff0ae9aea2e02f361c70611bcba19b466ca46088dac8e2dff7c'
            'd2faa5201d7f65871318ad0b27a95dda874e67bad556642933dcbab55f99ec3f'
            'f49a37040993555099ef96eb5ec06d1467fe7af08b80af82c03eea1d79d6e1ed'
            '93244eb0a10281df68d71f552df50c8e808717156450128af1da12f189bfa3ea'
            '863b7d0e7dd91be814179794a5518a29f13e1b4cc0dbef765365dab3c34a9f6b'
            '94cc90ed59161bf6f4d744732db2906fea0e2afa5089c0c4c39ad653e1149579'
            '1bf89ae1df166e67945dce31cd8ffb40ab21f2703ace072c6185539228cc9a37'
            'b80f6b586401fe382c310a22f7cdbd030de2b15d032f8e69b2f13ebedcb65657'
            '572bd3f55af9e80d772a7f3b03e92faadce1076057158b7ec5582a68ae4c8222'
            'c89c189374760b15052a97539164b1d2add42d0d45469cbadd903e867dcd056c'
            '20cdf3ff98e1d5098161623206f29b62af783a4f3cf9502d07f451ae3a4d69e2'
            '23697c089e656f5c77fe29e41e79f3e85d6b17d1a5c63a2a1bf44aac26ba2e31'
            '66f64ca4aab7864591e8aa3a07a2f2ad95bfe079a87e8f1f385e841f54181d1f'
            '2ae269ba1f262918a472bec4b0d86025e5f9a8a86f4ed65460e4d1da3a8c3daf'
            '3d7b774a6563811007e4bbeb5c7b3e283f6bbc620dac359fff10ccfec016a3c9'
            '1f1dedb3bfd141398146357c83c263b7e73eaa592a8e93509aa668f187b60772'
            '204a0e58da90c1f8976d08aa5d0ffcb3e387f75eb0f91d5cefc95bd469e17104'
            '5fe725b4ece75e1df302e5c4b79c3f88e574333d8aa131dc0bb3138f03b79a38'
            'ac6d002eb4fbb88338c81bad3dffda800693bb3163290106f720972efd23b4a8'
            'ad65e08c764293eb656f7cac68323455cac43b39b2f97ac1eb45d0159faea92d'
            'fed7d3e10b69156def8acf01beea9117b3faed288af0c19a6069b16cbbf672b0'
            '3e79b86f2a84c4ca7b9feec8f03f55009145933dede675c2ab1f06e89710288d'
            '018b64487845ce8b2bb71f5f7c32f50d0010b3ceef535da02ab993af420172fa'
            'a0cd5ad30eec813fb6c1c9768c81eb4150dbab81bfd9340d8eb7631f7fee3268'
            'cc419f01e7ba5dfa45ae95094328e771d58be7f756e0d8bedeead3a1d2c7e839'
            '345b4658eca2f34f8f5f866904a58ecbd3231f158c5b987ed223b9193af78e8f'
            'ba93f9ebc2482ea419cb88baa897b04a1f8c87bbe1df95c8f32b53b81026bf89'
            '1ef6fe841969d8ea4bd25cf7fa4b582b356556672443f08217263a882d4c81da'
            '5e2b17ee3a6b2bec5632fab626ea9ef5f603a39bb42fe21d74c2659ddd41f2bd'
            'd571735eafb1304d540590c519082f39b35f636d5986e2c30a678b6b30429512'
            '610dfa582125245283bd6d8802c8d3ecb88b7c2414ba2f607b6d41d030af244a'
            '8f67dffdf0daa2c04f2368ff1f785b2f8610ef14e130ffaf9150e0f1937ee6ac'
            'dc53b68e78f0c94bd18a552806685fe593de92a308520dfc90f9c16a62b4e4f5')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
