
pkgbase=thunderbird-i18n
pkgver=115.2.3
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('d6a019687aaf2e87609d491c0355c1b9bed0219a2f5ff8c3af07cd00d3468a72'
            '2720da95ced1a851eb5e7c40522c6e70f6f9a40f5267e5800e80c084a9a81285'
            'fb41ccfb63efb5fb23d28f1d0c83bc5a74aabe9977f9029383f793a7673fce9b'
            '0aa900d7a7b62b5c1dad04dad9a665bd2ced716200f6997cf8c2303988039fb9'
            '602240f9b260fff6ce9e3d4ee33f3ff395b0d9ef13c2511038bec46698c6874a'
            'abfcc4b7c0f194fcc7ead6fb309e5d13fbfae3bdfb0421b42053feaa90a667dd'
            '21e8c7f9ffd98541c10bd8f5e1555ed21a2f318d4044e121d28e13b82313e25d'
            '35057543da4257ba9f6688305db64bb9ee4e372786c1831e4908ee07624f14fb'
            '8a2e7733c990d625c7f4f68df9658c0417b079c631f5d2410e5e1798a52c7f3e'
            '5e29b03c5890aecd3211b15086d559eb5dc6bd73fd5608772fcae6e2f21ad902'
            '45602618ad687aef9c222d0c4d6b2f3e2c8eab9dcd5f4e279d2d662cd7f64293'
            '4055c963750b0529186544f0b0b3835ca2597437c925722c267c534a9780a1de'
            '760a640e5ed8d4256309da5baa4577a7faf6de72616a80c7cf8dec757ce548f8'
            '2b7c0ea23e9c1747d6377f62f2565a0a06945acf9a340439a820c63c2bd57edf'
            '278d8c40a9b9933ac91182f88ce2c91ca17e245317cdac5cfd6408ef9df32383'
            '065c4bc6a4cdbcaed300c6a1bf20e8e2e8b6c23313c07961072911a67d2d4026'
            '5fcb608ff6548e12fb7e47ec249c425eaeb9300f2fdd4e7c8c494e910193b7a8'
            'f30bae1f494c6736f59f627b9827bf4c121b97242501f1935952fc2175ac9e03'
            '4012324e56caaa49d65a716e5270869585408a749003aae96e596d8b408320f0'
            'f41b1806e302b285582916a931b81a0fccb429cc7a19492b0ffa518dd22124a7'
            'a1f0aa07df3aa770857c7e19a5d7e14c6b796a20f29e55989e3957ca6fa0d0b3'
            '932415cbc906b2de9c680f0244d7d0f2af82c8b1fec8090ca32498f0eb293bfa'
            'fde9f2e5b53b3a95b74aff57dbd4da77b6ff1390fd5b0a5ec4a052f8829b1b0f'
            '3c89be695b16dbb8a63f693a09011fba4d1b64c91759dd9c424ec2d375cdfd48'
            '74e6bfd1e9d3747fb9fcd2ad7d446c6d2d4ed4c2eab23ecb41ff03ec451cae49'
            '40bfdeba06c34f4bdc43e522d01cca7b6ee0fcfbfdb448e77fbc80dc49320448'
            '25cc4d2213f165fee0d1d731ec77c21083be0c265a7288f0ad4ea08d28320230'
            'f2c1c1e247b8def3e1323f96f8ec144cd00f3017387d1e80c9890a1e0fc58e8b'
            'c93b3a691dbabe66da733c5aff4c60bd7df2a627cbb9b65de3efcbedcfb2c97e'
            'c1673f7c768fc56c6505bff2967b43735df2e4628b57aa5611281cbba2617165'
            'da7afe159587f4c5b83672a71a971a842d11cb330c709e565247fba6b4bb6acd'
            'cfdb91edc6d6a840b7d8e3f343d5c09027c67526857f638d385840aa330cd2b3'
            '0f8193766ef8073961b359e1dc0e27382544cb0166802d03f3157c202ad7e6a8'
            '91c885c2dae2eb851f802b8dcd7bc54083c7cd9cb64cee3575fd7f0166ed9802'
            'eb5c4382b418eea5c18003936fe5d28966da2625a5dc8aa5da1318382629a00d'
            '9fd5677978e1864d8a26427436fc53defe9a66a4c12ff94114a1ac94fe09df15'
            '07802189df62636dde3139750998138eeb538d5119c9dc2f71a71528721a5ded'
            'ffcbc100dba8256f90d8cd4cb8b99b49adfa33fc7a85ed856bb1d0ed487fcafc'
            '79d59ac111de07980fcd0b66db1845703035a76ee2d5a955c8b325329b332db8'
            '45d46f6cc269bb22062a7c14500f3b19e54632972f5cc1c397da794e61c2ab8b'
            'deed957e22fd2510338bb32b894dc3a3b1bf3d61e936c25cce2f567e62b6deaa'
            '077a11d5c1cbe1bf286e52830f2d08968147807736f03a9885e98fb8e3a00571'
            '7f0df424f9e3003697f6994c1cf06e70ed01b9649ff8ad230a831dfb439e8f67'
            '73c1335c92595824fff9ea6fa64b0a6668259dec943ce3c0c43aae95d4d9711f'
            '2c2159b3af32a6903fd26498b6358b1fa454f7802b2fbb36363f1755d7178102'
            'fa93c04c17be138f4d8ba54d272b8153572f31a27f9ee8be899f628323955b9f'
            'aea718316d71e24c2dd8530796a08df24a172765e4d7acdff94845e718a3ea18'
            '2a13b4c3c51cce951cc40657d1d063480012a485253cd7af201fe88923175e69'
            '5dde4b58971a2b9f91fdb150e17709e8773428b6f82f2c61340e7529a2f99a3f'
            '3204610064c527ae566c295274cc96aa0dcf63b23ebe7627ec8568cd94834d18'
            '27185264f30daaec633cca452963485a8d195f8ea796c520c88fdf452f0a5bd5'
            '3acd9b2933760847c56011f714218ecbf2740ffc970c71a7bb17362f316719f3'
            '0e18e011aaed711cd7757270651df1a1fd57d1e3b11997445b537c5c34fa7f38'
            '30f58f8ebab3a2bd1086285b84abdf311e487757bd4c0614195072fa21dcef9e'
            '7bf4b28d72a35865ba9c5d432fabfdfa50a1a7442fd955fbec908b0e0d290eac'
            '2bf8d2abb4937f9ba0f40b54e380806c9ada8c7d145f6f7a7320ed44f440970b'
            '3daf9ec0596f7bc4d759e513a2c62219d3986863c57da321a7c0f160c41c28d9'
            'fe828c11474d21e79cd6fc4dba5044d451ded2469654984b5a4db1ad39e521eb'
            'd36de3f0c60f35ff4584b6af03e8ee31b46c12a63f87add93496960e8dfe1a1f'
            '39b44689fb86d5c7df04f47443044cd7e1c2eb82e65e31e5779757b599726669'
            'ee931207b45116a248a5f047a63a412b718a4c33f9edd8b599d4b35a6ff21e54'
            'fcfd324af640cb8a7760e4da07315f4e0167ab19b430b847d639b8e990b88ca4'
            'f23a454b7ed0547c391771c7c66aaf4cead0ab19e42b6d6bc4f3efcdc2298b3b')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
