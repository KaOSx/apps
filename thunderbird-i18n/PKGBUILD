
pkgbase=thunderbird-i18n
pkgver=115.5.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('102f39e512dc5baef21c7bde8a355561eab9aaea3cf67d05b834aaebfa5c7bdf'
            '61bead13b37a7a0db492a824f6a9c97e26b770d1d8aebb5ddcf11e36ff9f3637'
            '65a4818bd6b0671cacf5500814d47e1fe2ebe483ffc761e3b91d4a8ae6cfab80'
            '5a98312622e213d870ba618305705df1813585b0d76df44b94593e5208c15093'
            '5db98969df6d1fe72e7f6c88488b0d0f98481d89442d8432dd0f994f5e2dd8eb'
            '25146716e759a71ce035b19560bd59d18eef7c2175862ead98aac89394d9369a'
            'aa4fd41132c268132f62e66d33f7563ca6cd448912fc4d50df5cce01f3a43e7c'
            '086ef962bfaf1ceac29830f9c767ba07440ac30fba604294f494f97537d57dff'
            '5af68fafb5e94ddb85aec82b9021da6773930ab63408caa61092c20302565b64'
            'c41e883cbc726b2460e3f3b3fb0ae08cdb4dd656ab1b943a84cf13e9cf384045'
            'ac4e3f8b71542868a4fb4fb1c4feba105aca3e7b97bc1579734f813ae808da56'
            '721cc4215b24206caa7c3eaf161a530841e95eaeda67f91ce943819c87bcfe0d'
            'ad022628cb130d82c7e776c0e7b33b2021aee154fe1944af792aa1bc38d79162'
            'ec006bda39b058c896c52021a883ba56feb263db9911ec8d0850b6a3aa5740b8'
            '59c9907b64408df6a85d068450e585fb832c5a98a3cdd7859ffa9c892ec37e5b'
            '9b87b4b89f7d13cba7caa7b88bb975b281c6aea21b042132792ef1aea45171a2'
            '496aed9f5bec32fb934dc73bf0fcfb6622e54f5a8c53bce5b3adc002f17d6368'
            'fcab48a4d1cff11e0cebc1179062632d27a23b0ac8dd5e40b39f28da80666092'
            '5a175b82036bc05217b6bf60d91a9172700fee358b94d50c0bf443d981572971'
            'e415b576d25d51b97f670457789dee31c495ec9e5f621206be2442000086527a'
            'caff0cc7c7861f89779e85e42d2368f713b2a0950a06150268c6f708bb4d5685'
            '866d803496a7760d808520a23aa8f9a943a1aaea9b90c719a0fc13c2e2cf35c3'
            'e5e2451608328f116e098c93e9e3ea9c4ddd75f6f19cdc2897ca6cf3d3fdf7bd'
            'c3f298b8fe835ba87b06ca4af1cf1fd4f266b9012a0b34adb0372fd678b9bc7a'
            '5c7e7992100b88bd056417ccd0d69ec090757e30028bb3ddb68691c8376beeef'
            '1b82b59ae136f889cdaf9a220230cdf5d6d06d2cb9920009fd1a96461b56bcf6'
            '3e664298e2d386a5df5ed15808cce5ffee39da027b73e0cfed21f6db0ceae128'
            'e305c1c57790e9e077a59671e3ed59cf77c8f2cc2b9006209a619f0a05ccaa48'
            'c92e58254cccf1fcbef16611e5267eb72d68cf6f9c4147bb78ea693e27821846'
            'f4d9f54bebb423468225e9374def43cc935e7988a14c553ed63f1716ea09ae13'
            'd8ff4bdddb92a7f354f791d8b59defa78b086a88e7d6a029756a4d58944b5951'
            'd8dce2ed48d2f9fad33320010b9234e3e9aa6e5d704455b0cb539779563887b7'
            'f11516e2ec4905d58f69c9c475ba7cdd69ae419028621911f720b0f0c560697b'
            'cd49f1d300c61723faefef53c30a5268d36359aa33cdfe94d310f376f627c37d'
            'b285adf993db92a54f80c5d7376be7476f4c2ff7c12b1b2933c855466d1a4e62'
            '30d98a8a938051c7e27ddef195c8e9cce8062d6adf657d656cbaaeb2878f5046'
            '5f311c5bdf002964cca729ceaeb85e707b8a85fa6a890d570eebc18e5cb31c62'
            'a63fc44597f9e136645e90b77c979f8031515579007bd76a237a2a93da8548ca'
            '544e8710a928d113db7c890d8c538d3ad9eae64bf4f4b6028f62cca37d9735a6'
            'bcf0d4e8d03be9fb17185ac1bdbb76880073b337d62fca0c3dd8745ff4641b13'
            '7f62faf271c7ba3d051beff3c94a9c3cd413dc0f58b32d34187bc39b2fa411c6'
            'a26487b9134d778ec45e12e2030a7b113eab4efb84658c5e2f386b4ee3ceff97'
            '1b7dcf5b5bfd60edf9e64caf0aabb9fec63f759da622c92ede77ff01d98a6108'
            'bc27f5085fd091d5ad51e2265f071d8c44040cc45e04ff48c99f42f86af9c5f2'
            'dfc1b809eea5a7b5e31abf2a0486dcbdd1881eb0fe4700ad12ed4375284af3db'
            '1b4d6aa6db3cd4046380d0af6144e185c56bf916a2a33b23908bd72d87bedeb9'
            'd8344d6358b20bd4b81f378371e436d0cb2c610bb4084b58d3a5ae425c1d32e6'
            '27b813cc81865936ce51855976ea7d21b3de5bf927e55db808ff159dba0ca5db'
            'e878c15a9c562504b00e6fd91a0316d7947df37846c3d140ef7ddda97d72506d'
            '1ea876bb19c7d591252ffb2cb175ae3645263cdb5a9ca6c0fc57f4673f2c39f2'
            '670692e011c1360244c42b4c8cfe93de7c5aef8b3204dee99254da1427c0d029'
            'dce4ba207c7346c6b86938c80a5a1f26c2b5bf1504a50d1c0360c213c375cc53'
            '0371ce2cdf3fc438d8555a49e10765a5a3e52137b33c2bdb9ceb4284db331f97'
            'db7cacde742248fd3f67f9b3da19409175a5b4e10999d016091400233364f79b'
            'c6ff496a71120343584402f56d4d46b4cc17b033c775751a1fecc55811d66b64'
            '32934734d9dbf69893fa70bb633b24da15bfec68ad48091d68b6a322ad6e15bc'
            'ff30c4a3c5409b613f176e221f82ee5e6cb516a934aa7b9592f195a8ded678d2'
            '02395acd2a8940ee6450f1eb5cec0aab9ded3c3e8abce3342ca35ddcf15eb010'
            '93eaf486e96e058eaaad9ffea929bb2c9728c60f2928551ce00cab802c2429e6'
            '4c51c5c7704244cfec2e0f0626ec8342324c9edf06c63697c9652ec6fdc114e6'
            '9f4dce2b259a8fd58f886f6d4c90e3fcc8b9eb31db9bb7a99f3ed64bcc3dc0b0'
            'bb5a815d6a25304fe915ec82d60bb4a5446577066ffb0f5553328a1ab60653f0'
            '4080c2f654460f1ecfaa0816ce15ad8c0ee2194a5569f70b3c3bc36c3f84dfd1')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
