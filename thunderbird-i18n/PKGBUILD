
pkgbase=thunderbird-i18n
pkgver=131.0.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('1a95df31fe5a1e48dc0244018722057542de065a9f6cffd493aa1b2ba2dc2bcc'
            '3ce003c566a21287cde350cdb27b2ff7308c157abdd36b3028d508e968e88dac'
            '7a4f92336fe11531f6c26bfe62b53ccbbd2627a37927a4515d37962d4535bac7'
            '5e2fdd66f3c79144c1c257af10c48076168b82bd3ba921adf3d680a5ac59eaca'
            '035e8d838127a32b987e25515630d727a53ebcb8a7a82570eee8851c2555a074'
            '15b8f444f7bc7f791a992fcd9ed27a344d4dbadeedf48a76f3e0cbba40b71154'
            '1f6f5058a2b2aaf9c4588ba5189187e9e1051b8c447f3a81ba6efe0a1cc6621f'
            '3cf4308e85d2fa5c7ab4d10716a7498ee4372dd0c4d12aadaea7d00b4ab7d868'
            'cf46f20f75d8f79080017018edc368adf808f7aa3f018894ffb23e4fd4a342ab'
            '892b5a1b6443318f7fb8ef74e5c86bb08458760f1c7f9aed866034b88a5802a6'
            'e2bcee323fb23ce3c99731bb1ff7b7d8c32cbbbdf1dbf35e58c59ff86838d1cf'
            '06b9d956b76e402b260de0e7bb58128494cdf835d1ac2c99f46aa5eebd0d808a'
            'b1b2a16be0c1aef582674562b8989a78e7b6e29dd3954816b373eace88f0c7b4'
            '7ef264119f53bd99386349b8084370eb72a57be3b2a3b5570f0278f46c7c3ec2'
            '65bf552daca67186b370443bd4ac9fc1363fdd595abe0abcceb469ecc515b270'
            'a409975a6caec1f3fdecf6b59d44bfa4a1642bc2361192303edf9966adee2a42'
            'bf91ecf975cf859a6b9766d077a3eafb482e47c9b799ef7964d0382ffe9d7846'
            'eb0f18ae83d535fcfc199241b15a17048608a59ebd0aa89a6054cf9a61b99203'
            '4922ef30f33ebcb88010f5ce5caa78eda4d77c8c5078815d09bcbe6f80be06b3'
            'da4443b6f6ca7e1efc1a68b2cdfd8abc2a56e70664a8c7773da803fc16ba871d'
            'd79655be8fd670d87aecd4bbbb6629a779705de14ac9ba2959db5f986d5b3aa5'
            'ddd4e8ef4637eae86f59d7537910f1bc1e0775d961cfb5cc996de4f2384b4d8a'
            '0411a414e61ae819ecbb9f35a1b32a00adc4eee0469db471ee01ac3d1c44197b'
            'dc91db3b3c3ba28e830c2be5d81ab4ce878f4785ba161bb5ef442b28a8fa5738'
            '4896a363c4cd862889287ed1b7ca49ca3784a265912642b6789da112ed1272ea'
            'f2c77d84e740c9eec33d366dcfac0704f335684870b20ecb9b40e14beb160a07'
            '571c120679812924715efff6e87a8269bdd27a4a64e30da0b6ceb767e1e22067'
            'a3960f1684ac6fff42788f66f13c8286cae3bd9ad6e96799ee2747510e4cfd60'
            '66e1e807b7d1c7e0877a1568545c9f3f87f369c04415e36f787824a9b6d8f4b0'
            'b174aed489e78fed767e90c144e696cf521b3dfa9eae6a846ba78043973bf53e'
            'a83c35cab7fa3e133cb428ee356a6d38d916ccdcd2ea9f4e8432cc25f4ce6b45'
            '0d5bb0ccf589f989fa62fd3c8d55b3e1526bb20dad6624805e8fe13dade5b42a'
            'aff964d60741bbd6ab44d22077648c24f3ea625545ea0e81396bed6e303a8e05'
            '431bb8a81a0bd21dfd7e7978a9b791693dc4615b58eca795ab2e37760f11d8d7'
            'bb16a9eb489a4e4e72317985cba47a151d35a354f60529382fd2a0b4de5c090d'
            '2f3de78b11242a88714465600bb2a37e31fed39b55906e1d647540e3f079a461'
            '472151e4765d4d07c5391ecdf26343c233f78553ea9aab5f05cde128e185f99a'
            '5fee9d7f59304bbed2a672e70e1062987131ec795aa1ebd2ddb883d918035af4'
            '71f4d27735ab5482024b8fa64e48031013980553556bb381c9f979175e3664b8'
            '4014e0df8e841d191fa39c3925be3e07b4a751a65c8e3c864c325bb26ac1545a'
            'd52636524e6038c8f5a7edc9e41a09dd77c3de5b6dc0c52f3e27e71d2f8e7a1e'
            'fc688c73d457c72a45e8572a6b5652c436517389997094a37f446e15e816d461'
            'ffc3e9f0279a3ac78d1d74290f69dc5735ddb468b5aa2ece9111b83800b330d6'
            'f1e788fdc67a45b0e6f786b60fdcb3486ef8173f9dae013e1ed4df3b32665243'
            'bd493712b5dc50bd3552e2a99a500f80e36826bf7d2de8576bf772ad969ee709'
            'c9a44bcd4bf26d6fbc3eef65de29b1ec6a2b0597b2f2781627800b12ef801328'
            '6058430ac3fd783b6d84db9229b446dbea34f5f6a26054ac4c725b9d7d889a1f'
            '24199335cadaf14025e65d2575127b3589206f7c84e1ca81413669b41c3bdf31'
            'd58b6f073302e6e3875f529dd543830cb46f2bdd5ab26c3ab9de3142b00a8701'
            '3a06490f11218da50a302b8113ef0046d151c72477361ee745457560547ab459'
            'af665363e306204ea318554eb04e14490f7e86c9b864a6d89f99b4d59e92064d'
            'bdd39affce5392ad944c945268ce9b28b3d0919efdf6f71b516cfe09a1e79095'
            '1b5ac02f74e31e6232e6dfa93f8647ce2c34e6cebd3b91fe10943c9050938c0a'
            '9ef96a6c2f1fc6ec92141f3f6b160c84b4c461242e24f1d9e38e378820a50765'
            '9d0508fa1d66fa0603eacc944d21540daa49b5894ad461fa31a0f782aaf99bb3'
            'b645eb68fb7e68522bc9014745f73e3cd2ad0d14deaa7ecfc351f568af6cc945'
            'd5dd977ae46759c8f51803a34efd00353f5f1123adea376fcb80d235f4bc78ae'
            '4b35859ecbb53929a3b2a89ed3d8c1e83017c8d90f35168a91ea6567a236d4eb'
            '6aac3c733b585daa67421feccc9715f4ac8b6d5c5036eb7f29b6b1cd1bb2f5d9'
            '5061312d49d73f7e03a793b220cd7dad99209bbfc27980fdea7274ec0de67553'
            'b6cc446930ee387637e83ed278d5da029cdad1a0769e8df13752b786050a3036'
            '525d89a4f878341fd0988084cf65370e3245e66ee2c4c55e2774882debf7747a'
            '56b0de4a44c00716d1c2630b7b1df4047143c82a50d75d0b9c64a6b6464a72e9')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
