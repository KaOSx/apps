
pkgbase=thunderbird-i18n
pkgver=78.2.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('471cdd194ba3b0699f1c438afb6ed280e334f1f82485e21734cd07d8868d5d42'
            '122f27297042dc53d7d191d207e3e0d2065a125c6c6d8e3a45c98cc78de4a48f'
            '58332bc408b8aeba54099c2cbfba6ad4c512ab87cac39e22f18534373e6ff76f'
            '8f46d61f10edcdc073def4bd260b3d280a48e0d8622c00d72fda27d058f94a6e'
            '71408b75023e48a0ff7a1f7649b7fd002ba427c5d9bb33e969b0232f0e7694fd'
            '3c03270fd64c28c27f7d7d35edcdd04fe4a5b075447d6af7bdc2aa5f4474c1a1'
            'ade79acb86be0f722c0769f0dc1bccfb18fefdc427c12108dd669dd9f6dec05e'
            'a2d7e7c80d7211a83be452231e6b2e7fa4ad0d3a60206dd0170f16dff7d14cad'
            'd95b6a75ee77bcaee58450b48c7c287a9acfc6bf739e2017baeae8d5742c1591'
            'aaaf7d44c4a43f431bb52a4269d0e33e5c13039b86de6e774438f810436dce39'
            '731b77a9662c1e48d77b85685d778cc74ae9b7ebc056b3465aa5d5db118f58b3'
            'a9464eb2dbf4237e42dcabcb84b2025e176b045316b0a562414b40cc2d09e5e8'
            '492175fff38f291f1f384a41e6353d6be88905be98521e1688aa4448ab52e1cc'
            '0c4e3ef0310fe084ad5ff40ea485955617821af71c2039a5d2585d69c23b17f4'
            '30ae8aba6cd1b72870f5462df7d31372c7ee38d74e7c549f277e220f3aa4f36f'
            '33c849af02ebb45010565dcd819bebe16a1e994e24a1f6ba0778a142f1629a37'
            'a881fc4550431dc6a69cbe56a4c92e22faa23c7d73b3c4ecb1a6e582ea2d3b2f'
            'f41cba98537942f34e91a8121384fc10c8352feee05c98bcac17f19b0f17345b'
            'c02bff8e019af61758b3766684165c93ee70d17eefc0cec98265bbca21d9ff90'
            '02a2ab88c2ad24d6d6a5562c201b2b5ac3c64d98e22ea7afedf6df7a65e296c3'
            '23e3906b35fd5e50642fc7308948777f76821744b240061828f498ed4e101c90'
            'c3c11861b9d9136540175345f4daecfacdc0409a8ed6d1a8f783bd0ea9cef36b'
            '308d3cadee1e620674008055dcf7c380e82e7e5e30102ede1ccfdec34aee62f7'
            'cb69fbab6acff47b83ffe244c3c10ebefb046779468df04ef51c2c0b31307181'
            '00c495a32ba8e5e3b4aacd4495886f7e9725d582364b5d7d6f9f49d2e50829b3'
            '5ecee2745774c329923d9f660a9a954e78449058c761dda084679b98159564f0'
            '9284d88a3fd871903989dfaef9e5873492e2da38f5c4faff17003344b2c40451'
            '021fe9c1b19170979efba6dc9d7424f46bbcee629d8c0e13c6c00a0d3da9870b'
            'ae96a0f8fee54e7ed063bb9af6853dfa553d454316c02386b64044b32b488d02'
            '55bf9118a0487fd66949cb6fa5987810facdf421683db58a6f7b01bca836ad60'
            '2bda14dcc6aab42811ceeebc03208d2fec00e978ebf70b5722465b1456d4d48a'
            '0002a047039a2badd5bef730c3776241eb25094f713dc0a3fd6b6b9145020542'
            'a508030c3b3128b71a46a84dc2c34265072db2e9f3de49f83ab8935d8ed384f1'
            '7df1d1c45ecaabe8e96f5c3f06aace8607930aa4910afcfdc85736ec57918dec'
            '8e827c1f30b39e70a91b8906ff21f1bac71d8a4b8387d549bcd0a3d646c9b403'
            '670ac5c72928a5f2c821bac2abed2173c5a196b0656daac3a357982917dca86d'
            '1c57337a4e5479ee27875fb2e45d8120ff6d7c45d0fc4c9604068861ece58e5a'
            'bf7f8449ae8c82dd1d664cd247ed3dd0a5d73637369816bd9f280996c3c4fedb'
            'fead4a1bbc8b76f5edece11ed435e5739e0fc5c49e48252d35fa68543d7ca4b1'
            '33d015fa49ed65b539e5a3e85d34da248e30a9342669d9e815eb874fda2d3dc5'
            '215cc5c573de47aa69e06f6950b753fc8291e4000ed1a2dea6700bb4ed876a63'
            '10491bfb9f3f6a0053f9e7fa7247b6660447649b9dad979fc1a1e1988a10586f'
            '3eabbd7e94a5fd848cf75f3c8cd565a9c17ba4063dcf142f5044e1e9c2e494e8'
            '7b6a3c987bd329f4aeb089cf52e4836fcd07cff57f9516bd9cad861ef7c5775d'
            'f211909009fd8de1cc6f746bc3d48ce342d99c0cd0a3e47111d22cf0b7be4421'
            'd7553766b6c0faad5325b1b6b296d176df1fdd64e1bdfc9d00c4dc93373e73d8'
            '3f591b99ce4e43230c51a38462bd9cb5793abe6e36eac3ea1409bd3f5906fda8'
            '653e33ebc1a11c98c070dd957e317657f3ed6393a30b4c38848c2be952623b66'
            'ea794e662cf4d50523f1151759b2ffa2126a3b84aae1193ca9879030a04ba8ee'
            '14762e32f9fc852a9bb6571fdeae006bb66b47737bee99a1754d2cbb5a7949d0'
            'b4e5089dc98168d2c2e084a7182efd31cdd137210ef8ed4224155d50496407e1'
            'c3da94d88aa44518953afcbf9d73a14ddfd6f88727339ce8c7c25dd78e4276f8')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
