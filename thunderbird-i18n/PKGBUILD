
pkgbase=thunderbird-i18n
pkgver=78.4.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('6ea4a1d68af94a81f20cd73f4ffa88747c74a118f351373a64f7f72cc2123ce0'
            'b484337ce2106369a1512711d9aa668aea2449218054d8fa46816b92145f201c'
            '063072bd835287b5bf3b4597b0c3d6b2154957d232b7e69a62f52963dea87c26'
            'b0325fea2e68fd07bade25c70e86ef48eb50995692024b4ef1e9de7d2a586d04'
            '6d0ab6f762d5ec2e7c060883c9c056c21f03a3400f142754276fab28e62ea25b'
            '2a94878cf7dcffb6daa26b369826cd32f1f2ef4c5952f85f3c22047457375588'
            'e64ad34f7c3d120a62667f49a70a13120909a0bfe24d1ff82994b4e44d30b320'
            '6818a1d01c0ea1599d3f4c4da5511135226f442248a01b263789ed0a42842ee7'
            '60417e3de4026762a0717467cd6bc43a0aa4433717e69c27f9fa759533e04511'
            'bbdf004e914773af489da41ec22ed82c23389868c90ef217a3e6c58c2c9322a3'
            'af8ae93ead057aa2f8dae174f37a482dfd40ff7058835a11d2fcd3838c3a357b'
            'ef30321a829dcdc04acb9c734df65bdf7408798b4c9e25c6f96e45cf2e4d5a94'
            '9cbe032f218f6ddf9a719800daaa9b03b5b2c1ab9eef2b40fa3635b8d9e68743'
            '9e3401ca52a55c33cd8d36046f9259aaa9712f6edec58883b0cc29749f4f07b5'
            '43cb7c5fd78ab7d239216081533b7e3376a313de6909651a9fa1af1e1ff3c4e3'
            'a76c696c4213c68832bb164f1ed3c099b437b072cc8a8bdb7efa727ab17ab23d'
            'f868ab0448d132dd56758128293d8f6605d64dd1b5c0719ecb5b79db5bc3a90e'
            'a8c6d72e987fbbd6e3870a956f576b5cbba9315ef3d47907f5b3385d6927b203'
            '12f52f887b4dae1590056417bcffc9b6982f01cfdcc902e3c7902e93ab6de376'
            '2e1bd5457d344aa3e49a419e7f434b0e3f09fc187dd100114252e808a7cfb79c'
            'fa0a0db6283597de34ccf05a12aab72e72e9bacaa1384c589ac3b2fe71e935bf'
            'b71fb82164d253beb76f6f3be055787c5b8ea7f81d755f8276943f2554c5d8e1'
            '6432a31b10963c2e51f295393da28cd66d9d3f00132ca5a06df0c4a827288dce'
            '8a029100ce99a0773e28d6566af423036aaaa2ec59c45e6a6dff227679e62abd'
            'f7dee8ab5db48daf5ff460a080d8305ac2027385c6fe6ddd70e3a9afaf8f395a'
            '9d61e43b8a1fe681538e707eede1b64e680c540f6d985e6a02520162bf76be9c'
            '3bdc94b7c6a43fb05af035defdf771b9a70225bb2f5ddce63aaa2ee0aee6612d'
            'e0596b4ec794ea8d16ef426f8251e4404de428dbebb61e4d253f8083827e9d49'
            '96eedf1d0e1b9b1b50963ed7afdb4de6a2c98b707e7ff972cc4106b78a17e850'
            'f2a2b8d40b4cd9ba52766e92855b4024ceff89801620906d70f6c0e3caa74617'
            '403e081f61b2df21e3381bbfb9ed35a2694e5af7a927a80adba5cd0180c3fec4'
            '19ccb48e4433508f84102d10f0bf626cf974ff4c97c55bbaa1b7e7f738a878f0'
            '1ac6c693f9afb8d82b31e9e7008fc1fff6149718ccc36d11173f6d729b745a74'
            '30d52366de16c511d6f0572be81df594eb591d633fe25b5540e9027607e2fd9b'
            '81e9a20c6d3222f4cb1319736a9fc63aa2aea16c1cda5b3591a1f86a057c0b60'
            'f3eab52fc23bdc04bdbaa5a7179800246d5041fa92bf1fd025bf02b2566b4856'
            '3c00b5edcb8860bf4a497b5fa81a216be075ae1014a0effd2e9e3612c0fa0b0e'
            'a2076b78f83a42f057351f2f1c8c79fd305e058bfa1e4b238c375835cdf818dc'
            'ed3b58d9dc7026894db076ccc06d4cbbec98f86b2b969e94de3216bc17b49acb'
            'e1a419f9a43e2413de2791cc18dda15c23e85479e15b5280b602dd64f85eee07'
            '4e9ab2ffefa41b4c34fab35175253c1e3f0d7fff627e2930e548d45872e1dd96'
            '57ceeb516f6537d20415f42785d42e9a3a0d8d7cdc38e817f1c0981f218966af'
            'd5cb401912197dc7136a5cd149f2f89712038a2005ae817a2fb86e62f3bc969e'
            '98793152599fe33d2572109182f738923be5e29234a42218cf629a1690e7d04f'
            'aab0e00c13aca40f846b08961c2d0a7edb29173684a9bca7681c015dae1542c7'
            'e3bd456e57861648028e75ee82c98c0e7b30f79fc0c183bc833afbcf8d132c5f'
            'e5b7a476bc12fffcf2bc540c1c67b9b16f69dfbbd686640ddba6db1f62c1894f'
            'ee68a1a5792eb0a71144850f556ada58b1b960082a3ee65e6713299b73c29581'
            'a6e4d1f7a7e430063d5d6021395f166bdf49cb29a984d965aa31cb106e37a2d1'
            '701732af923c4acd4d67c97539f9d55cc4e34693d2c909cca6e5d62e626f7691'
            'eeb7388956159221b3cfd6c7240eb236b21873e6595912bd019f89e1f76a4c53'
            '23210510d79f50944252819940f926e75bd1b62bf8650b4b11335a669e187ee8')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
