
pkgbase=thunderbird-i18n
pkgver=78.3.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('4bd3e986a1229572586290526534bd26f1e73299ac2eacf7f4a0b8b13dbdfb7c'
            'be7299f0ce1bcefab3b51562bada56b8cbe36b6606e0263ae46d76ab5a5d2aea'
            '1da42b7e1c8b5d38aa0ef515384de0d16e0f8c358633810a242d6bc8b8d920ab'
            'fcc5ad9946daad5eca62a2cafa987ad2f4e2915eb0f10c2e993bda06f4708ede'
            'c5f1d2c4e31304d9f2dc9dab3abbb656b1d68116ac97e4ec31a97a36c12f74fa'
            '77305bfb9da15484580445a842ef32847801d7cb6082411e14899172240c7e2d'
            '6f6f0633405b3dfdfab0cb583fc3936cc545e99eafc7cca7084e761c94a6e955'
            '1804049c79997d1f12785cc87559ebe9803ed2f23ca754a93f4d5a95976a4a96'
            'fad8e8c5f6cc1aa865f759f83efd4255fc796e4d8e7019fbb71f5db747a583e5'
            '545a257fc48a5298086d9a2c3156c28e79b088277a3dd48d41606e57bed93718'
            '70a9372f25837df03702f3fdca4ec6e144d5c38b25d6fa7619d349d4cd2192c3'
            'd25f3b3ec876a694181c2e57b41f4a08be72b73c67ffd3b21c91b670a360d11b'
            '4f0f24ec77b232e59a133e6c024010898ebefc459b8d24b1cfbac25622ea91ff'
            'b332d5188e66bb0d769d180bf33c054856343b600bbe8931452628ff61bef75d'
            '56675d1f03a448a5f037d0eee981549181cca16534b26fa8c5a5807f3842fdcb'
            '8a8afae166dded386433db4b734f597f4f035647b7236e3614cd6e0618329eb8'
            'e226af9ff0466d8ec68ca375e8ae7fa2093e153d055fd5e661fe75d58eacc0ec'
            '760ff453769fe413e716f401faf8a3a5ec904410b50f9ca05d727015f5e2f7f3'
            '47a1ceb0379c755583777954eeadc048ef7f6bdc466bdec669bf3e2bbd893bfc'
            '198c901685bbae26371879965ffce297ac6c382517171845b54d49a8278cfc48'
            '09472b4ce5bb243de58ac5d4dbbec445811e83cb095d27f1a00f33d50303cfa7'
            '8cdd2946cc2d19ab4cc6922fad604218ae905f8dcafada497cafaf0e5ef0a2f4'
            '15f7a0a45bccce6003ca39d547a2eed1ca76d4b6d8b0bf32bc6e4246f68dc0dc'
            '5fdfc554d66b6f925f1126e8ae9c4192b59a094134d5e3e04922653105d3b24d'
            'c45b149b0688d342548c961aa25928968b782ea2cf59ae6db350c708171bd10d'
            '127d4e399b919c638f08c3a816c1c488712b40da79998bc5c4698eb2ab024f26'
            'd38d7fa9a3f7e4a3211a56b0040dfdd8058027d746b0e5b4ec5c03eb825c1117'
            '1d3ea20dfaa7fa2747aa40c5fc9cea6f8dc6b74053de52d04882be552ce09a6c'
            '4d346ca3c3699561ecb39519095669beb3737a88c654e10a5040d28dfbe0bdc7'
            '8996ce308ed3072a0e5fbde00fa58acc9ed0af74f65983f71e340963d9e18dcd'
            '7185ff452221a74497c727fc381aee42f62b3d9abe762d20ff87d6c4385dda66'
            'cf8b6c925fe8b923bb5bc9d6d1a8e45e673bb82b7d345e243cf22a36f74b1ceb'
            'a7b1e24a6b93f0a42122b1f75448b6fd330a10339bba83c7aa1aafa17b6356a9'
            '487a3c89e37575ae92d5f1bb53e1931af1fa3b00d1edd157c58bdd60600f23df'
            'f986cb114252f7239478704e469642eeaf279764e5daa346243916b35aa8601e'
            '78a24fff38d1a5b85dce909f2f668c9b813de864c9dfde4b884a6bd491f82886'
            '2e60d577ac6aa69cd15d4200a05a89cbeb650daa4816681d1e1b89e9ec410fbb'
            '29436e2dad80b95964427ea75a2072a17deba662430fbfe1c2f184613546747a'
            '223b664b855f1a1981dd3a10af159ee0b42deab7ba65730a664573114e0f58d5'
            '2fb35da61fe3e1bce1122881221f7bf53eed2dcd1935c7b24e85224e45796c7a'
            '02581db8dacb0e103f598c75ab420a5b6ce3f2c5872798005b7684cec2344921'
            '2c53f52d285f647e719a97e98ffef690f3ad5bd6f73b3e74e07705bcdcc2b8e1'
            '012a0fe087975773d507337e4b434dbfa15c495cb8ea3c176302bfb65276e369'
            '071b084a24b9dfe9714b3b876bdad149c874b00a58fc2d6d13bd782e698c32c5'
            '8c2d7b2d009cc96c361694047e4ad2b03a202a55c616c93746ee3d38ba899c41'
            '419f45c172531c2aa88d982f32d91db658b615fddec71145bba113e1460c6eae'
            'c8ab87c9f254fd940ad7d8f29f8f73de8e1be2029fbbd2efdb218321a46b91af'
            '613ed671fc396f69f5c7636da10a64118a899b67e75d4c12903088c03bfd1855'
            '7c1b4088cc1bb22a56e7e9424379778437f38f6d680f835123d75bd38be0eabd'
            '17b4e37087267303347ad24cedddebc98cce2eb115b1ce99efbd4e6ec2eb02e5'
            'fb832925ae030934e11adee1700d943d171a7006685878d336cb60b87b4d2212'
            'c3368b483bfabbcdcc0265d548bbe3cbaa02d97337b86b7585cabf5a511d5267')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
