
pkgbase=thunderbird-i18n
pkgver=78.3.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('6968800c89dba29e7f439e6a251d2b0634a4665dc777010fcb9535a29d843283'
            '27f57890f535a2957265d218d8ede636a7189c50ea71f6caf4676e37c416bf2c'
            '21823e64d5fb41a0f413b79a07869d221802d5fab9950f12f9e407a0a6837abf'
            '341b91fb5362e506c6c03dbe532d1d3861892869dbb6b57de5ae04b06db36118'
            '52d7ec7d3d1710d896f6283179956e5fc0bb931bc6d0571dd43b6f7998aeb3ae'
            'b06c975da8c599575b0e8db0369057c37c9c397b03ab013b6e4c780283f2756d'
            '619bf91fe8f494f75f4f1899e1fd0267531a4bc11e7e65f643f52576ba027ee4'
            'd9a82c457837f1c5097cfe79572e021dce3082f5854dcb1fe4e37e15732df4f4'
            'd852faffa817cf4d07e3ee660d8a5deda89e307ce15f08b09f9ca79c68bbd1ad'
            '33cec55205146d862d76e34dc82058a0c8ffe8502cc8dce1e62c2ab2d21ec6eb'
            '6e962b39f8b93cc8d29256cdc572fac526631bef6f093a68e397042bc232a752'
            '748f1bddb03e85e2e44ee0450d4d4d5282029baed76348f2a1ada931b6d00370'
            '79db60e9c0429cca6402a5f804befd287c366f132c3331589b0966eeff8c17e0'
            '94fa4fef6215ebce9e9b5cc43b6cf991ae346004df3c918731afd149c3d3bd92'
            '54b34f00c2fd021eb5adc41fffc4833926f3de0a9b4f23aec457dcc8b4c1cdbb'
            'e586a5d09d6965b8c87529740894dcd6c33b231d2d02008ff645781151711c1b'
            '8995500a2529ef1d09fd66cb1d32a5d33f2227effcdf0b830752e774819dc478'
            '3f637f388008e7ab0a506cae9bd8a250bf45ab117f1710c103e36fcf94ddb478'
            'e3a92c4c8c34b52317368458d881972a021c135940e2da81a3a38ce875421df0'
            '3be23774132e9d543b2128ab41f6d79d7abe7997cd7908f864c91c05783e5c07'
            '87aa47d2ae13c3c42671db7e2fbd2d5bba839a43e1c39768877ef6ef808e5719'
            '0bb73c20ea364618b9edb526ae1d9b815bdc252bda41662ac791d54c41759dda'
            'f594192138198dcec4628cb2dc13cca535047122d2aeea0ca4a895a5199d731b'
            '52ce194fb1b2d403419dca617be52a1531b414640361477c8428ea209242809d'
            '01f78c3c85498b85fa6ebdf5cab936c0d68e691b66da0f5566b0e71861e94218'
            'f827c0ee4cbe936884ba3d5777821154e910484ae2159102dcd40c67b55f6a4e'
            '9fd59ab7201cd3a72fa109e3ed368afb684d3518b71da887ad2036e32eda25b0'
            'fe58d890322666a161203db29794f45d3f5925319d4c924b330b2d1ac0a58e7d'
            '37e2818aeb4f119c8b14ac827cb265f7e78fc18daf9e4ae8bb1a972c841c276c'
            '01824ca644d0d32211c1d527b02401d01d951722508e11458dd7d01ebcd5dacc'
            'e87d7ba21597b8a521468260bdd9ebb3090f45acd57df4a65d782fbdfe4e0fc7'
            'd852835116bc97f14d039781e68200d27b2ac315bef8bc777198d726a6821f4a'
            '4f5c425ee3c7437d4e0f0c285720d5eb5a9f32b4cec748b14d81d3240150b309'
            '586e288007f0551c833c4c54a108e26c5f0af0f562cb3b5ed5a1bba63673adf5'
            '43617ca6a99708679585487d0dc66c19bd7bdd74ebdb080a5fa42caf51e72538'
            'ab141dcfc2f61c1f077d9d73d86866c704c689c2467bfe9258e81b6410780852'
            '2d69d88e499b1fb7a6d93570b5fc082118d42d903fe6caf77e837dd9cb67f7ae'
            '0500a37c1e3fa7388deb13242a49afff3206f6f1484011a28ea6e20ecb9783ac'
            'e06e465b4d4b4c4e34099f9975f20646a8d25d516be6b1ba7eee5b13a2505d7e'
            '0030b698cdf744110be165b866ce73dfee6816f9f67699db42068560f9ba487b'
            '31c431a79134c407d6e4edc3c60cdf4837a07f5dc14940122dd9566d95067a92'
            '67267e368a56bfb6441ec38d2fcf467c8b99efd9f23ceaf4818de02c510a6585'
            '490a7d9fa4b4d70101786d989ef391431948f6693da0c3fbc74ecb172ce44b47'
            '040da17f3584f036754fd620a93bc123e8e51560b32b480e4819016940ee1edf'
            '02f3d740cd6ca8b100ad037586aaccbd029f4f26470c95ee62566b12dc4ea72d'
            '2dbb68b4d130e3cba1fdbce3da16f7a72bcf63babdaa661718d10dd36fbe098e'
            'd2f22730a66bb428475c520a1299e44b2396c989bc2f1994bcf9065e35d05df7'
            '64a4fc4e14edbcee4ffd953ec4664cf8bf482b9f4a36d44e5b9706adb4cdca1c'
            '04828abc76092395c0214544851dcca07ad83e94c998e5d34692ba6ac6365c45'
            'ba8c01f693f724db300abaa83cd976e6fe47503eb29e53d192a04d0684f4d0a7'
            '857200a6798458b0dd8e9976fa281ee23322928085779b374ef13d473e7b6539'
            '92db3e6e914338ec7da239f5370faf6f645ce4aa91901ca90d66bae64488bbca')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
