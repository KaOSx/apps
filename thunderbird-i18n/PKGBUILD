
pkgbase=thunderbird-i18n
pkgver=91.0.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('30c3e638ea91f5c38514552630ed842bfc39e2b41117c02e96bbfa745fd4ca39'
            'b8cad5a4e4abfa2f5b46e6628b940dc9add8421d44b4c8773f2dc9c64ce11b52'
            '0bf3e442b90979f567b94d40ec4aabc7801f8c108652f7b8b8d0cae25e0689bb'
            'f23abf127e9f59c11b0b3bd72a9a331f0a351dfac763e099148c0f387cf85c68'
            '2f227b1cef00b9f3559427dcb14188aaca08d6aea9fd75ae48366d5512a29017'
            'c2c130f32ac07a7d36ad2e5c22d77abb826a14db06832f0ce609f77518d6c655'
            'f6b4c133d3ea14ff17a573e9a6a60f0c9347bb5447dfd2c9b95547417e256d3c'
            'c5e62ee52d0563cf00863eee0a2a6bff64e09918923c76be08ded51c82c0a156'
            '6461fefd7d52ca14c52271c12a8992d08de6856e32424dbc999abf2c62c9721a'
            'ce171ddbb7dd2164497c8fc7eac22ea9d7ce4879c865dc233738c7923e439833'
            '5cab761fe200e1a1ab6de44b6b605f2fc0062fd7c3717b8b42d89b6f78aa99ac'
            'd8557b4af5b2e440752d7ae5d40d29a234dab9241ec962ce7e125dd46e222dbb'
            'adce5762418841617abdf2775c260a393ee331c7f8d485f23d079088f2c55e35'
            '25369417961e9707a0aac3bf53f82af78026b7ec8a20e783e2b48af573f6ebeb'
            'aea728e0eddedd006cfbeafee97b9ea8175571228367511c6f5048e4e45686a7'
            '47ccccca1dbb6b7d862537160fb59456bcb246009e5a75b2ed88769b52cb905d'
            '1681698fee81460e4f98645552823162467b4c9d3e163642ba50240900cc89df'
            'd1fec1df3f911e73fde3c6a69c3e17e7bd6e1bed0ec246ec6f5d2507d188c65b'
            'ddba93fb7bdccf0cb4aa92eb2bd0ec8383726f03d2dafa714ce882a7fac4ef0c'
            '1d11ca226e31d546c7894a6554850d3630fe712bd4afcb800e630d37d89f4639'
            '19e9831ee1d8da5671373486690cde2c2421a25ef7e45a87c974ca32fb801d13'
            'efd661c3e35fe22e41b880486c45b36928a1112a057690b2842b2735c0167674'
            'a500877a3d966a219a533ada348ccc9c88362b7a55d349288b7acea8813ae1c6'
            '3d744be9f014fb46e7bb2ae8f36c2a2efab0e65fa90bd4527fc48492371f5436'
            '2e3a5e0c91493d148ebfc7c58f17e6f850b97941ff8e4e0061218fb62d63ba86'
            '6892ada3252493ab274771a9d65223ee0d3ca3d835431c58b07168ff3d8ba118'
            '2e2cc063a602c94486871054bc122bc33f243217651a517ac5a13ac6460f75b5'
            'a5f690b9a246d59b64e43ce66c36db0371ad8ef2dd2b5a01c3970b8294227839'
            '93926705b62ca9b15caa1e4c9823a7c810bb6cfd955238cd8161232a43027352'
            'a1751749ebf22c15b76177f75aa01da7d8a33e815c033512553571d767d9bc6a'
            '8f7ee94428c9286feb9d3181cf18b0e742225786710c4751862c42d89c1aa972'
            '0dcd2b629844e276c557d236bd29ee87cb1b793a1fbd676cd73656dea1e16800'
            'd20051ee099d343c53bf0f7ab9f0339976c2834fae7cfc43698e6a6f7df910d3'
            '143fad851d3b4ca30fc02ae3515f488faf159a94a6744a44c61e20dd264fb6a5'
            '84c2e9db78602c713afddfe19e56453f0722174a5aa5358ef700c308f775badc'
            '06fb21e7581b205255e9801b8abbdffe77fcc75b20b8f46d0407ecbe820fbd66'
            '66b0448db05ed0cc49fc0ffb8d397186ab699e1b6a43504ee718e36f009e1fd5'
            '6e2ee6466f025bde12128235ec6b1a2af8e94c090e8d5eb4ca4dd1d2d9a78717'
            '941eaef1d30e3ae68555bbd8bf1cf1008cf2eac56aefd35a26c7c78045e64eaf'
            '9798d480ebdef5edfc09d7e1740eb57e82c32147dc0e67fffdd13ecb8771f067'
            '21068361e75e4df6a71df999c1fd4b6b53e0c11464532cd6bbf744a35ddbbcda'
            '0c0acb51d10de50aec02f3976749b298b5961b6976b8415a1818f9d6d1beade8'
            'f0a73fb03d1fa929fa36e3031ba888e494df3560a8a25affe3be3991e941dfa1'
            '21edd86a8500732e26e1ea83d76f72dcef08efcc84cd67dd1c9c6b8533afa85e'
            '21aa20ede9c55ba6f5075afe2bad63411fb53e6ff93fd49763e27b46af41e06e'
            '7a30c86c4365564f87d3f0133b78839e582b2d5643018039de19a93a440e8901'
            '185be0e3208dd698b9c1e2fb4896073a7065f679ee435ae1c372453e7dc797b3'
            '7e037007d88140d1417d7b3aa56adf94c9d4081b4207511789e9e1dc773cdcd6'
            '87a6d05c99d3a056cc2ed286b541a98ac9e2acd0259f838789f9f167ed186e67'
            'ed5513cf3fb33dcaea683334653256b3162af5f6921cd2b3675b9aba444459f1'
            'f48a47673f0db3bf24e825f267ea4fc38d108d4e16311d473c9af4c7282c5662'
            'e6de034fa6d4f8260c5d475cdc6b3025ae56047111623c57df8cd5355a1b91d8'
            '1d24828bff6c7563570733238ae7076d3c7a6c3603d4f69fb75dfc080cc3b493'
            '112240b88dacb978500d8b5ed3f9b3a5a178496577c74b21d9cd906641a352bc'
            'fcc5695bf88c7751af6510b5872ce9e298f1331ecda65e30e76bee5cd47104cf'
            '44400623e067c64a19c12c98efc844ec589ffa91a9c8bd9702039a43b01fd5f8'
            '259d02870feaff2b23583956916a9ba21a52b63dcd41b5c193c0eba896f3cbb3'
            '9bdc57471cdb88159fef8dc603d92e0d1cd9132c43f50d0f246d8f85e5357e54'
            '0746e98ed1af89c9ae3df101776d6b596796f5f8a2b10c60f8ac54c5863a153f'
            '3665774fda9680518cd4aa109adfa9e753987f0ac7bfc6aa2eb6e001adc24b13'
            '3b42c481a538479e43b8d8ebcce2312e3e6cb21e28c206906abcb48c57e0bcfe'
            'e2ebba63ff708724ec1b847aa66b9325cbc4fa80498e7b81965dc6766c6daeca'
            '2b4ffbf823d66262c584768ea59acdd236c06d189a3838ae97e2115eebc29ced')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
