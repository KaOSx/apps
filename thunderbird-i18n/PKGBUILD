
pkgbase=thunderbird-i18n
pkgver=102.3.2
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('8b259122ea6eb8746d2286de0b0cb68a917112f9f9b15706b66ab57bea6f6b2d'
            '6e0c54a6509ad73b857b02d15c51d9435dae440f0a4693107ce46b5ada177553'
            '9cca647db837c6c35f824986fd1867a9792ff3f6d456d217a1573838c0deafad'
            '91914657afdd1f7d7b04b12dc27d98d736a8cb1926caa7b0299cb89893e50379'
            'e1007b450c861cf3b294312c20247046e4e80745608839ddfb391873f92f4589'
            'faa8c8dbf56b53a91562c875c317d6cf4c9282059afcc19534ce05dfa3c2e338'
            'fa6b600b8f4200086ce9b552eb34533e2b44d006d367a9bd6b378869de27f03c'
            '01bcde4cea51a7eefd8f502a807341fbbf60780b9eb8edd3d5365ac6acc30148'
            'aa7a3a837fc47e13257bb2bbc7f4e2629b1c4a68ae599c288308d0f8e1bfe5c1'
            '5c6f9b87ea58dd2738e9230af6144332f5d7e6b4cdce0a88b672242fb06e58cd'
            '37f6504ec2eee73a301375fd3151d94110c5a9c2e9d71476d2bdc961fa82bbb1'
            'de3eaf6b4925db17b7262d73e17534e51b725eb854fceb4bcfd4ba27d9654164'
            '5cc695f76356a7ea4dd948feaec3904ddf407bb5fe881db5650e14953c5e28c8'
            'dd684dc1072ac31071944e9dd452db7e1386c6533b393b1054d28b9cff7d4751'
            '88e3705ad45db04da09f66c7f84cd53830c4cf9ed71ba4132a16f287530f3ef8'
            'f7ff73205f29e525da4059bf3d6ef633786dbea0d5f764539c9a3e80b4c02505'
            '0e28de7bb5d9e46ba7aceed284210e7cb0339b2e941714d7eec5dbdb50b05e23'
            'e63455f1b7b0f78b31b70ec2e8c3576f50a9a7b3b0b9e923d173aa9b058efc35'
            'd0c362340fb4ac7646fe94d0b46aaf07839c0b44d0842fe4540c6d2c0175a386'
            'cd73775b79ceabac76f0408c5d2fdbeeb13f8f33708bec872ecab23e44f2555d'
            '4950858c109389ff7859f1da49972a89312de13ea3b8b9db0c04a0f531662bc4'
            '5f64fe09c104c5775bb7d1f1e1ad54d2286dbfe864dc2d3801de43743fc917eb'
            '6cd7fd97c742c5b2490b70fd5957d73ceee77ac4962ee34b4edd6cf2dbec2741'
            'eb4590124ae096eb35d9da5ef835418168805b0cc1fb59fe2f12c240bee7c738'
            'c0b709d810ca9f74ab38cc8231f0d36d5e710c697622758489e948a266873eb3'
            '6a85ce540eb6d39f435d1e87a171d151158fbeee33e2d3167877e2ebfe5f8fac'
            'bb39465d02c43fd26de1fe93735e8816ecdb381e24328fe6fe22956eec0516c4'
            '50926098b77bcecc54bbe202ea4a9771ea7d68cf0d2060656c48af2eee2ba796'
            '274c62e11aeb7ea5ca9275dde45d9a42ddd5f2e50358594d8a34d4d159f822f2'
            'ac127aab4fe51096436e33f7f73c400539df8ae2d2dbfc352f3b424d0ea35c3f'
            'e7956ecb939edac249c4c0b9fc1a51a460ed266ffcbe4eb29e03fae3ed6ace80'
            '34b6b310c95bb299fe24c025e32e6072302aaa248b446d8ecb39ae92af8e535d'
            '13d954c2ecba65521236592eab2ddd1b8b4c037bc873dd6f7511b0aa5994c768'
            '0548f0c99c689d969878220b2631dc326aef46b37e0250648d9f742937f2c9e3'
            '8a8b77b3a057266006cee4c5e9d3657099dc0ecaf8efa26d8b0b962163373ff0'
            'd335151cba28dd19a10e2eb74e8678cae0d0dc01177088a1f8959a660c109627'
            '8941d60500877f56bf2c58da6bb5825335b4ebe4dec9db6bc35384234ac1f885'
            '001e54e004462fbd5573b23e18471529a84906aa9a8d70290b98a6f0245515ff'
            '04cc32cba0a78875b69ddfda29a7370ba386825eb65eef1493437167daa4975b'
            'd65d767ffc2ceb0c4672cfa20caacdfc6e84175576ca0960da09b44ad9883933'
            '766bc2c63bdc7434ea05b6209107e8d97024bbf7bcb0299f889266508cf231fd'
            'f3faf827184d23226c9b28e75eae45a2362690edb3ff60810bcd8756874f0162'
            'b77f0235db2f6724766e802e2c0dc3dce3de0eabf1c0f955c0590446e8dfaac5'
            '2e4cd630452643c1e8a804342f0d5f0247263b1771a7c53d8b5f7f5e2571b2ce'
            '042d9830b7f84932481dfd8af2018a645f5dbae5054552119abf7b4927a7ab53'
            '8d2ea8bc7f253ffdf0088a933ec4be676e9a778a68a5706f956855a2e51f7545'
            'fb6e05533042424236716fb81e334b54d849fe8ef3a54e5bf02aa6915795cb8a'
            '4d3d4a340e354ecb4d3f626532df4ee8294c96c17ef698bdfc155d9e9e94d7a8'
            'c30577e8671b9f642338b30f40df434cd53cf8ef61d8e678e5f17ed921e70ea4'
            '11da302a283002d141b83cb4241f3c09627055761139136bbe1282097d122660'
            'e8f5fb4ed2de8390f9640599bb14261135d639d9cf684305335026e180964c3a'
            'd7cc902098ecae38a41cefae9614031516c1fb5ab782fa4f42fbed96642a20b6'
            'ff92143474913ed23409015c02ed168367fbc85d7020bb76e5152fc597fe4df2'
            '53b59fdbccb9e357f570af20efb68b646ed12d6d50a603d872fb58891aed5e42'
            'bea63addfafe8d04de32d80f1288ca0d4b97c3dcc8d938bd0848732e10d89a00'
            'b80f800f77e8961ee0ff7fe451d935a72383400fd7fb866080f7d2ac7d24313b'
            '2e317286162c16b36e5cf52e7f2b0d16fb74767a8151e31362f35ba701d45dbe'
            '349632a60cdf326e4d9204c4dbb4cc727a5429b7b61eb0ef87c2d97ad7f61b6d'
            'd7dfc287ef07c020f12d3213d50a74f205e5da820509631dca916315ea1393a7'
            '533f77bc642250b5712a088884a9962d4a444a2cfe570d84bad3124068647126'
            'b2958740305a7c17fc02b2c0feec0a47d2e3b2c3146ad07a33e88fdd826640cb'
            'f594adbbd43c9ec3417ed98d03dd0f6c855254cc621b67bcf2d9cc060aae7af5'
            '9780f6ecf3fdde7abb5dd4cb120b56c3ced8a13970d8e64b6e2c1e0f6d7075d1')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
