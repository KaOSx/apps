
pkgbase=thunderbird-i18n
pkgver=78.4.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('fecbcc42cf84d6d60215ab78692fa4b48b78df8865eec2efe2eb210ac60bf9b2'
            'c4799a1b4e8df26e1c82cd967261582a4011bacc24f5fa355dd621f4cb430822'
            'f386afb58d8eb078f2047d00c375b77abe444cb1b3511ae0480113a7f4d1ebd6'
            'a3e38bf069172d343678b68b4054a9c101ab70c0310fac772199f19e94c9e0c8'
            'f17eac7e77bdcdad8c69fa94f64e24ea107887d1748586380bcc5b0ef7dfa117'
            '600aa48346b8c57cd89b41c92ee0946e53798a274f3623a4b4acb149143f1fd9'
            '72c5da972c11f9b20ac2197683bcdfaec4db48a533ba496b597aedcfc4253718'
            'df2224365fbdf3d54e0112f937af5521d6215ae8a0670a4d41aebf42b898b4bf'
            'b7a1c6bf4dbe8c49391afd8f8608e9b22b7c855e0b617146f36b9af4cba0bf8a'
            '9d26fb3a1473c75557be1284a19a374cbabeadd416495b4627c5e273fce9c68e'
            '18bf7abcf86f6b8467ea18eb58dea9a3ee9513fbc47799cf1fd61fe96e4ac114'
            '582b24fe667ee1e2e47bb6bb2110fb8200bae26fd9f66ad3c6b5eb6b1494ae67'
            '0550a2433ff5f271e4db28261a04313812a21e6e3f628fe9b3b9fa24b5a87afa'
            '1656da5242d36576aad4b8ea263e6f41bc1dc48b7950b973d54f3c3fb211267a'
            '4a41e289a3eeebb5505251cc989474e7229f540c77a35fb25a09fe720ff9d026'
            '26fb940d638f1ad9787261ba3efa174a7d73d71582c1df350db455cdc37a1834'
            '751918e1bf94c705c1c7693aa0561ccfe051851a277181c0dfc49ede370da3d5'
            '29662c48905ec5737bb52eb880a105055f57ae1126aa677c0003141b70c03832'
            '026c7f41f2d923a636a0f1f7d17bd4a05a2a091c1b9965737047fd158bc31ab7'
            '02e27be5c4351aa47bbf5acc607b321fc285089773683308ced70cdf2b3a0f9c'
            '305a8878b2b6083a15f27530f48d180a5b57c9d2a0f79fbea1d06c71197083c5'
            '8b58da39608104781979248d390ac3ba8be8bb50981c21de0e671086ba1efa62'
            '24ab1c287f672477ca545ca8893e7f443a349da484ab241fc5542b0f54eb1db8'
            '38a1a0296e64e3cd8b63ed53bac1fb7ff94155a9e719e4af244b41a77ac0a3a8'
            'b761e489808abdee2b8680bdf94bc802dd2059f564b08826a9ae8bff46af808a'
            'd34a7c231057aed2fcc090022896b506d037720476123dc52f9563b6e74cb856'
            '7ad70e6a5912746a3b1129c8ec31fb4d6e4d132a1deb42db1784f1095d50eb2b'
            '2f2642482e4e3324ecf5c53089c29363e3633a9fdba56da01d7966154dd85e02'
            'f31b3b202132e6c45f47c47f2efa029f05e15b076ecf712ccdaad35164d522a3'
            '53213d7d05280d943ac482e094f39c024e6951febaf27ac52c6ce41245dcd22f'
            'd8a48b9c30850c512bc5f6f1f384768df1fb1ecc1321a01cbeb233706f81d27b'
            '6d9bc39bd80abce6e13f5740ae2ec57d01a457f8d6aebc821c4088b549bc4ae7'
            '2ec3148003ffe3010ecce9c53d599038a6848f27d69489926c0152f70b06d6dd'
            '04f4b1d9bc225d1fb4e299478a4cbc1cd8da18a87f57f0d70455536f47ba58fa'
            'b76a807dc3fa4193c87fe903b13e6532184844ce3c9ab6348c6b36f1b09ba58c'
            '7aa37fc62e1375e992d3c81b70a929b7c56a0b63e881009b3cb46f3fd43d6835'
            '93d7ab26abd52b51154064c14af4f83fc207937be6e6a7809b50074362597cdd'
            '0586190aff7bc14650edf72540e4920f5e0ae0db4c57d03481106ca3196f03e0'
            'e687528831c43f668af227d4b7a8bb91ada88a6f23a95cbc9ea0b0fa5d147499'
            '1c5100286e181c6c5fe0e9decfefb72999a26ced4bb2deb1654f8a18921a06b9'
            '94d9fd0d05fc664e3651e92e35e05e1a7bdfc0321b970a4581b7a72bc954831d'
            '85a159ed405e8698721775655eacbd680485f62774671a3ad55e27158c412cf8'
            'a94b5f4890f13e08396ce230d30643e4a94f3211e2488e7d1c31caa4e9157303'
            '3ee50057ee9e531a6a6067ec8b2c25fd1407caae8a05522f93665accb793d95e'
            '6db88ddad6d3b362d1b51673f229441038ea3d8f3a4c3b382647ba0603052274'
            '9bd616ac5360cc386f5f953c301df415cf2744a4e546948fe274619f57025423'
            'fd1171767b1afa27367eb6893eca140857d2725b2f0079f6006297bd41bbcf19'
            '3e532fcf25fe90a5c0febeac269c3e22497fac6cb69c756eece54a8d30bd2c27'
            'b7a927146a4c2b253c7fec37e6eb9290d34d46b46a6ae174593e29f1523b283a'
            'dd4c709ddedde7130ca0f1c8cd7c5b18963837f8f1e8632b26571c3be75850d8'
            '74bf1cab1856b622b6a8f7c53432828883fac06c3fc834855976ff45581bd33b'
            'f1de52b895d734885da9a0f078ab52ae3982f4518d738d6d7d1590644f831917')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
