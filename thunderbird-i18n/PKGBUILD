
pkgbase=thunderbird-i18n
pkgver=102.7.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('85f5b0356854d1a63854c8e098d50be2d92c3566798907dd0287f1fafd1de10b'
            'b8622e701c065b976f0280312dd30614f5d98b89ceafadc2b38f03a5706dacbe'
            '3782d5f10af8717e3fecbf76152ca6cc1147648248a433896a844eaf806ebc8c'
            'a63d9a642387d9f0e1c4377af8b2484395201c65524a0d12bc88854d969464f2'
            '8fe48ef22b8b29e522163f32edf2c70e397b7e8101628b7b879b50a380f2fb5d'
            'a19b208f64e64140202a4aa6c73e7ca952fe667d5df2406bf2a8aef1fde80cd8'
            '5dc375a955bce0de4c7205dcea7931a261b15e4042da12b17ca9fa4bc8275ee9'
            '41997f8ece29e4641e6671d2a7efecbaf23817097310c7d396a8abf3ebe3a650'
            'e5bd9509d578e0f9cbd8e0275e4500e4ee5a943e51398faed78a7fe429f0ef42'
            '2c7be6cae80f3c1bb37d55547f7f7e9cb6f4a7d10c7738a7f67be24e30b83e11'
            'f18c15bde79d4a1737ad6e5695bb3adf1127b3718723551b789ef14c6b15c2a3'
            '8a1f1e3fdf078ea0d7b9de67ed2f513b4c54313fe3b2560829b54e74e82aa122'
            'c4113c3027c95bb0617a9d901dfa8dc87855a28e19ac09a62896fbd3930dfbb4'
            'fd30ed91606aa67bb987f14b3c2d665bcf8203112b9f189f4583d4ec4810fe5f'
            '9d4649a7b3408747c2198fdb0d50988d77c184ff91ca4f0fb98f3b267808e58b'
            'd2e1a5bc6eff36e10cfe01de60e9553aead0df6b8c97ddb0757ea021309ce8b5'
            '773d6b1d693d939a99b7fda0ee5fb6449a09bd1af6e5745f0ab9d760809ea37c'
            'e38fb6e344ce39d164a70262a084c6e49f56a7cfa914ca7f223cfcba2ee5ea5b'
            'd963c27be97de968e41e45b351ad016742c5f37ddbd416ff4e684ffa39651357'
            '3b5e216f1fc918658c9cd38e7e06ff3506534ce0ab1b54a7c1e07862fcfe594b'
            '6206577f4d9be58722805ee60f030c295a076682857b13611ef36b7aa9f1bdf6'
            '2d79f8d5a448a2b82ec447848eb0bc050af081cb698d9322705af3bde8227bf5'
            '73af9b6e3bfa73d505dfb197ff2c18e4b2f144eadf56f0b8eeea712b48e3a2d0'
            '8f3e1c3ac7eace9c1bbbe77961587640157096b0ce404978c27822be80fbf53b'
            '161e42c03e812594bead39f9136bea1d6c3cc7d08d5633e96e66dba48ffb1cb8'
            'fe3ab28a05c385f4b1d4b8255eaee04a7c6d83dbf64a2a5cea68dcb4afa2e327'
            'be419abeb3e2dc554f2ac823d7a64d32c0f0730aca0b2c07dbee9d874fe20057'
            '2370fe4b25d7275e48258e9fe5c0c93091656a6222be00380e81c6859d426c77'
            'd121c3eb332b09962ad9a5e9d9232c58210939ecb9a639216c69a5c400df02c4'
            '91185a08910df75f87a6ea75e40e2ce93782cbab6592fac45819a10d7197d47b'
            '9ebad462e65f0a36fcd271a796533113756a1189b33f8d446f1291b94897c873'
            '46637ff646aca5e7487d0d10781430dd6173d78041d1996523db6ca9bd8b3e33'
            'c2a055cfb69a2769fc679cb9d4d349467713611ccaf6aa6f53f3327cde5c29ba'
            'a8551b1c7ebe2b6b0e2ad9133646aa74a73cd55a9b26bc228c98aa4a222730dc'
            'a449a8486a62794b587afd306cecd8f2511c7219895985ad397d0c8c85c44889'
            '51a5095f15a86d3810d2cf4108da30f17c92982bab6c2fc8f20c3480cafcf106'
            '99d12304a84b94b690479212ba7b977a633086ed0044c9b45ff0ea2ee74e0488'
            'a78097d0b315e069fc89d1693052738d2841f30b64b61f32ffeb059399c811d9'
            'f058bad80a42bec021bb8e5fb7a7017b71ced82e583a36a656707d211d9c0e28'
            '2370b04d0e96c5b6d42d179331a7ae214cc2522217388b0d2c0be16be00950a4'
            '164289f35fd4f2ddb3d5448fb58ff86fcbaa6642af587a96989c95a4f958b6dc'
            '6f05c21d41a03c685d12b76e43a8f8d231ea1bcf4377a28a1043a47a6904b150'
            'aa9bbfff2f5950306c90a1df4a6ff8fce6bf1774a581b1476f7147bfd64b7b78'
            '5a1f25dbaa1b86594280b4c5234f67c22001c7485fa0e4cdcca4a84035dfdc53'
            '93a5ae1d67d0089828b725b29a786a2f9d1cff5cae81a8a6d5bb9244c965741e'
            'c25866ecd7752dccba75bfd4f5115a9f64f3221bd6185b13cbad7d4f0e215060'
            'ca9724873fad3d53387dcf1bac9e6b93f4100c30d0e1880a89d2fc2b9b6c4b38'
            'b478e2376379ae6e762b5f2c5eaaa8e896aa21f30b666a3086ec0014bd6f6bff'
            '1ace80945b8a4306b81f2020289fb2baa316684a86f084c09780504a8b0d0554'
            '4e1c694bb48621293bb59877e68351800dbcaa53bd7e260e275c2bf1d1f0e84b'
            '0db705c352a7fa7b0d91af025c05b8950e05435db857e6a06099b5873b88c2bd'
            '04d4386f35aacb852de4607203190f4ee0ec757cd7830a9f83530888e17e0455'
            'f41276be4070f3f9c878c925c442ce33fc98931019af2e44674b212b71164da4'
            'f35ea3f1c5021cdf205e862d56558448fe9fe5e97c58ed3808ff793cf40652fb'
            'db630858eff2e48117119cce50a2f1e3ccdb3eaae479614581d9c939a8f715eb'
            '11d1e342376826e5dd5e1f911ec1336aec6fba5d2946d788b171ef18555f407e'
            'c819210ee7468f7690b86d6f10b9e604c6f470f1bbfc20189d6e5f0e2c866395'
            '63e8242caa7d8d8913f2227348575d9f575dcaf0d9a5fb3fbb4ad9d58220fa04'
            'dccc7152d7a7b6014ad1104baaed682eca07e4ed75427d9cce78a7ffd6d3abad'
            '326289107e2c94655cbcd53a1e122a007dc625b8c74cd6bf5a5bd83f31abb1f1'
            '66a1807482d58e64ec0b60f1acb12d98afe927b4a9bef2fa101dd4f659ac09ab'
            '9b29c72e5996c2ca43bfd03897a3d1fef496e1f95d676ce489364d6fbcb49578'
            '9e0ace5539d510315c06c2fc6b4b203377ebbc861e3b36fedbe907c8f09d852f')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
