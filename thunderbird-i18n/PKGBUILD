
pkgbase=thunderbird-i18n
pkgver=102.11.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('763ecf76a44d2b3a54d5322e8b8e9bb114e614994c86890cd90161677d120c8f'
            '90c7fe80a2339167fc69786734b967aece2a421621d36e752e54b2f147ff5ac6'
            'c24e9594c7986403eb27dbce84bdc010a65eabbd13f793b84c2dd0d5a791a045'
            '76ab351b7df17be4f76908cd02577827e7cc06aaaaad99972f3d1b906ad7bdc6'
            '6f1d4d0f84a59c0aae37540f4225a3d14707d19dd95059559984055f521d1d92'
            'cbe526d246f970cb26fc172fc104944c6749af5cf92925fc1383e363e89818cb'
            '2280827dd24eac6ef5b6b3d26cc82c74df5e346db22130c4e15869020cac1cbd'
            '117265f83d6d2abee57d67d4366c5fbcf237b88475014ab1d6800ce9029636b8'
            '14c370c300bdcda24f949c14853ea05b53e2413c62cece006bb91002494b38a6'
            'c75f11e26056438f605eecab7a95acba3101b47b5cba32e177a6173a354b5a14'
            '3c395f4c1cf283f5950311c7182af4ecb1d5b668418cbfac90de3f015b6b223d'
            'b8a5afb77f711d847c017af81fecad2c102db8d4dc0d223c6c5119687079c565'
            'cdac954f7cb0736a3c701ba0a6e49ed3522f682c107a7d24c1f859af96dce4e7'
            '7508672b2bc98aedd26aa9c49eb2be7df6552a086ca5702b2af874f3555374ef'
            '5c65be46b938078e5af84d77c13e82da223583cb6c7f0679a73246907703780a'
            '84d6022cad46dadeeb61bddf5714109d97f4be2d224e611d9afb5cf0d728e19a'
            '89970c0013af482caa047a5aabb7e39b9b74823fd709fd1baf09fdaa4520319d'
            'c24be69ddc835f8ad3377f0bb5604e3c46e20c7e79b6ff79e10e2435ae436cf7'
            '70a52a4d76027b5c64c8f001d1aa72bb941efeba506df1c59227e914358439fe'
            'ec3ee11773bd113db7fb0b885d159b2ed07fe18aacde20bd34f89b357af8df21'
            '7b03988df8873d38150fbbe9d942d34f81fa5c9363bd2216eeae2063b8a21db1'
            'becb5b92c7e13eea5df575eb302e61adff21031b1be78250749a68ab63b15091'
            'a246120edab5f932b8b9e9713271f42405d98ed6accb51ec649deab60f282f46'
            'fbe2053c5ed5e59b0060f54b57701ae52562c8d7317a4ee08ea594df9c17dfa7'
            'f18cb6d815e71227f04f970b701938314c95986c77f851ab84c78d4271cca49f'
            '7d18915e61eebe1d40565894df123a052fa6fbc50b3b2aa164c8396d38900ed1'
            '58fd300c3311ad8561b3ace4e1c74f96a1c555e57309f93410352c3a00df7995'
            'b2fc772da6797da6eeed3b59ce71de88d8d2ee8ad1eab04bfc4ba0e309a97585'
            'adc08563d795237dfdbb90403437a3bb4364a69c1d0dd26b51d9832f92b495f6'
            'f6a36d9a6abb4ef0b882de8e21bd38ca97126e15878bec3bee71b4270e175ce2'
            '0bd16c6b6daeffdef453e707d964552d2d4231473899b1da663f4b0239da4656'
            '3092e0702fa73a88fdec62e940a0acbb10389492567284bbec61dbaac7b582a8'
            '1a9c60f416e199cb083ee17b2e2a9111c9805bcf02011238bec4358a9c89e5e2'
            '858ec83056086d82da01047afaf27b814f4a9e30a16e98d2e2169183456b9918'
            'bcea6f19e2ed267cbbcb2af58c712c1f61c80cfd71648b3b429bc5fe90df782f'
            '3cfe8d3ede3a4152066ec6260c917523fb4204eb5fdaf1e39a852a7b472fa827'
            'a0ca5462f423174c253203031c7bdb706d02218aa95a0e71ba0eb3f25fc04623'
            'a403c787aacf92cd9c0b91da7fb1e8b5139044cfb38b2a78389105063a309b67'
            '71e39bee0aaad11dcbd8191fab6db5749c3527ab3c229209edb70cde77e1dace'
            'e682542a6ac38290cab79f965362ba879883eb0d220c2f1c80f0be649d39ced5'
            '4279d5107fe04bf2edaeb9df5ec0d512c1e9e3f42fa372f5513d7cf44dedad0e'
            'c7fcdccb3150b1aaf53bf7396a5f03a47b894887a641872a2965aab8bd9c4f14'
            'd6a93e2a5e79abf53b20b15b98187107c844ce27b66aeeb9b5da73a50a32d0a3'
            '2bfded1726ec739b87c2602848d1ea7a0a54937d15fa95b14d02ab77d3902563'
            'd149ffb9f2bfab4d737774bedfea7e84961c5ba5aeab014d7f5bc4c3aeed873e'
            'f323512055f2303ae6551970bcf8e2e50ec4bc2f2784b43425b2b125f75a2c49'
            '985dc31719df761f6f54cd9a55cb93e9b9ad66ecf948bad50cdaae3e56da3a2a'
            '5d9e6b1e67271ddf0c450f50e779b300dc0d4d7c87a4ae023c06fdbf9c2a5ec8'
            '3a23464ec71cff192e28221d0479e544442b1a3319506b0300fc833496cdfda9'
            'b8f9ef8d7b7d975938753b496f055432278809373bae5986d3fb91c77731faff'
            'c747bce8fa7d7716b85b93d4298eae070fe01f7fb44315971f36e4c46d4f011d'
            '20ceeeb13e2314557c83cde1c51ecf05c97dc0c41e4259bc05dc7ce29a6e6405'
            'a7aa285bf26386a9014b5ac0219bb607310bae9def2d25ecc045a2b5ea982f7b'
            '941c35311029cc3b305e87faad98d70c67255fad57b619e0c3f9523cf8b9a532'
            'cf9ce609fb63ba746a4d849d8d6172ed3eb7f7b4fd7248c57347eb3aad0e32bc'
            '501cc2da15fad009958bc2275165cbcaacf1eaf5b9a9454b3e7d1190c193e451'
            'bf0add852e330033d01d5dbce3b9f6ffd5f04565f5c03b15e841100c5c7ada8d'
            '33862d7c35638859d8a83e0b3fc259caa1ff82d60983de88c6457d7eca5b3617'
            'b9e2b4c117f2038672ae03a3433332bead5efa8a6a662ac7856c253c1206106b'
            '09e0fab3f0c40776ee6a60c6c6abce7d6b7511427e7cf24d947ae0a4d48d8c5d'
            '50b3981dea4da521000e19e99a1ebb24484b49656a5b5748cd24aa1114861076'
            '5bf6e2b8c821d20c561359b1645991a2a7820c583f44a3d8205ee077fb012b4d'
            '83f4e62f15da5f6fc88873304fd918fec18072982e599c071d1417fa8a5f94f1')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
