
pkgbase=thunderbird-i18n
pkgver=102.11.2
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('91376f5a931b30a1bde2e6978985858f9f6507535d8fd059cf515ad26ee4e1e7'
            '4e493ba542b9209dbf27c951b847fb8bab51757e2432a859df5ea8eb6b76d4ae'
            'a019d3a5f39fc9ad8b9a6f3c991c36abadc23dfaa8ee90da2a11edb9ae32d616'
            '46119b6c569c44ddc8a28cb1330bc31b20d51789010920831a60d68ec0da5028'
            '2c9ca87bdbd3e2d3194edefcec4575e95bb10721436b4f80074ac5e2ce348128'
            'b8ac63d9c4e39a0c0a1c0be515e62973114df1c3856bed1c95a4b326a4a9dd7f'
            'f2582f7239610264f2e1bf14de3de30a0ac1fec480ac0b9828ea28634f7adcec'
            '7dfdb2f4fbe9de5652f657097b3383075d25a43c62cf21d718557af681cc27a6'
            '9812fdb35f5fbaceb883295029882087c646c742e1f1f6af6ac8376562bd24f5'
            'ccb515c233cec609637652e2c055a1325520dc94bd4dd06d071cd7b85ce22010'
            'b15f3e0ecc96ef923af881bd41a0bd6d3b5c06ffae0c3b08cd406b0466b7d791'
            '7ec9134e125c8e3ac0b28cc72d27daa4a7a0de6bb1139091d573ce29b7863901'
            '2894d91b1aadfa1f76dc979e033cef3de0b7d917acf5230a2542b068b67b2f1a'
            'b576119f9e25c233bed54e7f2f02df3f03771dcf45275a52f546c62ed8eb9ab3'
            '3ac0d15042c7aca0f56daba3e396e649dad66991ab929e0c1308db4cc5c52141'
            'a1ece27cb3ad8d7a8cd9b33e5deb483cce1216e648351aefd66725334b91559d'
            '7ec2b3baf428d33ee166e35a30ab52f6edcc9f1c5d45e0295b8fa09f7bdbe5fa'
            '2a55b888fd2e323f7aa5ef00d0857f78c95c813d6cb5b70a224c96c404941300'
            '4c394e0c2b1f803c585048ef22d41936bb6f068647af30cbd53d4637cac87426'
            '230c3338f1e9f6d7549069f33852e36d2fabe6bfd56ea2c270624ece36c3454b'
            'f50f1eea7d6d6ed99cd53051ce1eee139f088b209abf2401c6a9bdff4414927e'
            'b7259728a2035d8ceb4ee195f830491e41594bfe2366fe171a23b18f6e8d8efe'
            'adede9b2a0c24434d68d1655434a566d1b756f316b3498ed2341dfbcace21da7'
            'eed63a6f42014f01949bb4066bb2325e450d29d6cdc3fe0f6a429ce2d9365410'
            'aec51a113cba5f19c891b8e606688eaec06899941bcd05257256780c111fe1d7'
            '2a0cfff298f4ab1477770ebdd45429d04f42856c5eacb09002b9301d970b3de8'
            'a15a7097cc7341158a6d70f610b359af7d2f2914346787c843902cc26cc7e313'
            '6848ac54fc4f46f27b4e9fddc319844f0d47d2b0dc7d0c40146de536d7c5efab'
            'c5a02524564c35117f70d7866a7fbcb6cde44b46b9b31798e262c399fefb17b7'
            '73584cbc72d6ead5f1a91cd8dafd49ad0d8d9afdc9351c5542b676c21b88c732'
            '5e495bdc075138dcefcff8b1e1ca9a29048c258b6d80a007437eb77cdb21a7df'
            '21030a15c5249970e9709a64ca8449c9f592d3137ff0e3af9c3dec23c7c1dbb5'
            'deeec8d62fe1b5a8f26911279d6c9084685d6db23a0364dc0f4653ad61572e04'
            '0bfa914bac12c7feb88dcd33006adc0c5cf7156502e86abea7e4e612b2d2b679'
            '60854ddb0ae67d69c890b183f246c14756030425d1226bd1ab314333b91822e0'
            'd75c0b67f6aeff4a09d0a80ec4d6bd6da8f9b1545c75c0fda5e817d859fff880'
            '7dd53ab00ad18789cb249741a1ea32f14f7e8213946455b1247cbbbaf79acf47'
            'b8283b3aa39484fde588bf88201a84e22aecd2b154f4c428377efc06c757a2d7'
            '8f356a05aa06dd45bd1fa7bcc1fcb0588f58a66b54694b45213fc9d3f174f6e2'
            '6c97620e56ae1f7c1c272e033a75a646523f6cf2b217bc0d4d582b229e153a5c'
            '31b41637d2ce99312f52c8516311d660171a801501da34bc54a2171bd3de0de5'
            'bfeedd6c664bba88934e5d9fee54a50fe9f20b14c6c4ff9a31cbe17e1e2f3df7'
            'a06e9724ce4bc9f52adecfe26062e4e5f638ceb82f6bf7408f0da0ba930f78b6'
            'db95d5d15898c2ed670c1f1878c2a7fd4473dcfad857f8a8d048c10d3beb6259'
            '2572e542e6f4592e139733a753afa8d7740ad1e753a8a54c9b394450fe609dc5'
            'debc54fbeeaeb9829d2920cda228e37305797a671599f7d05f2d83c67ad988af'
            '1ce2b56237af6ecd460c63f1833ff296df9961527aed4bd442dbc8dd48bfb77f'
            'eef4ae18d2b3fbe71a6249054f4e493d13aeba02a2204324f0cc906cfed3b72e'
            'aea3947b97182e3cda3891dcc2d9a5b07ac1fe7edf7677f86e25f4d558633a1e'
            '73e26cd1ed961f0233e4c058f3a31166568c7df8e0984d5c59916266503377a2'
            'f0197c94feb2de6ffb798d9f3583a4e131f0e556a150d8e3f1c853f823969b2b'
            '2bb601c7a6427077c50170510261af7f58ab0676ef2f3cd821943051f2e15567'
            '15d82cca14de96cf9ab821d6a65fdf07007ebbd3e8869b8fd594f60028b0b5b3'
            'ca462189e3fe2f448ce327314acdfb2ef97d73430eb86d4df7dd7f0613783b39'
            'd0dc33890c71495989ae4f99a19ec8f3cd2558c7cd9cd733ae9d77a2e32b0bdf'
            '62b90994d9a230a72c01fdc1f381b5cd45f7b789db8950d3b2b27a21c04b7128'
            '399f32d0710d4e1eab0f092197c2cc5b7f9f6f7791dcad0f1aeba0040ccf17c9'
            '49f7ac9c7d6ddfc8a8020601d5b6d011c6accd86873f9045c88c89aacb22e62e'
            'b857f5345ac6c9660987a423069f3c7bb19956bb70a23a02d3217537a13ed495'
            '897f0cb108ec1f73e2c30926750ed901b906fff5ff52951cf2a611c243ff0bf2'
            '20a8a12a86b8c9d2ba05fcddfeba6f87c33249e16d3b79ee105b7d5ff6975057'
            '75e5e3ae36478558d989972f761a9b72b5c2e31f1564b12b0579ffbb0beaacfe'
            '011d205cb0db4c98fead2d5f3c26720739172796e62b846b532baeb968078111')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
