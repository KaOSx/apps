
pkgbase=thunderbird-i18n
pkgver=115.5.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('11a9ffe7949e7cb7d2306d8225f15f64f2f19d8d016e95ba1e6a350025840e49'
            'a503e1b8e88214bfa5e1923dd5e30d4bcdb7aa139350da98e5727dbf272d7eff'
            '29ef5073772454ab6b18057f4f1d1b791730649a7b57d28ef280ba320a3d4a46'
            '125895a40a077a98deee6bd1511e3b470019044cfe77ff87890d37a954196562'
            '1b7e7adee5238f368103dbe0c166376166b7623300eab0eaaa06c03b22f527f5'
            '3263d21cabd0d0bae797312270bb75400d188477593836715c086d46543ca283'
            '427e0b0a3e1d4aad4e62de66856a32a3a923e4c0d51dc8a622ee6ed726890cc7'
            '47dff9f703d58f9270d6e9aff16e10d6769e621a31f58b3b8d3f44bff29d4543'
            'c4d70ee8e0c4ad70d0d8882b3df10aa8540939780112a8b594d914790a596f5a'
            'e501d76298a5a2cdc4fdd2f886f129c2b23c21291d84a61223f4d6b58f1d5cd8'
            'aaadaf2f208bf4cb77c8dd0f0783256ac5cfc0066ea8fbc2607c9d1094ac0fb5'
            'a3da57f176d3461c64aeb774696aac3916438de0abf0f24b70d1fbc50f66e0f1'
            '8ba678436c12911a4faff41e21e2933deeb4be47c33101a125afb8c68fce3626'
            '432385923b8664a3610105f33847d407d3b89199e91cb6819a072af449133daa'
            'b22d877bce930559c5033ba07b194f146d61d402e99d089ba9d066de71e9bd93'
            '6ae621c28d0bd73ac77b3fd6fcbf19fb073139c067377d63b76992c4bf6a37e6'
            '986975c41fb9130ddadbee432182ae1d621a97ddaba65767d0f6962325a432de'
            'a8623974088f635cfb58a8f356be08b2c96e31a275cbf3ff40c076b63d270b5d'
            '2709a09b4df8c4861f18489ba74c7eb3459d697c4fb7c651e68f7a9b12f9dd7e'
            '5b794c35fd9d121f1f015ba3cb073365289e4f61509fe792a20323f15807f64a'
            '499615d80a5b084cb12d9b0b085d6b554cde081fa4f4a7f04b52a79aeec79e04'
            'fd006bf3873eecad5361af2fb5ea8ad64c66ee7797da06d9df27f4308d1676e4'
            'b1ac90b0cbe92bf85fa2c5ad60981c6836e251c33b801ade98d2705591c54632'
            '71140711bb5580992612faa452c154eed3c5d35d522001cbe3b26798bd786e28'
            'cfe3630d22d62c3bffd87091c17486c808e5386c5f56c7f21a46770ae42936d2'
            '1b192542c7f18784044ec9fecb9e40ec063ba53019da52df4494f2bb254a2206'
            'dc6a2d1499f9c7aecc7b78e7144566615a285831e1406d7fcaedbab710adaa72'
            '6b94299af89ef9bf596dd4aa9707a82dc17cca17026a6835d0a7d0c42e22e04a'
            'd133e9866247dce3579b16e0887d6ab217551986cbdd5ee9dca9c4b8083dcaa4'
            '4e0c94e2b7bfc0970f843170f22f77c302ae385e4002b53742c123b13d3858be'
            'a90cf2feed63ff0a4359c40ec6656037227dc8fc07aa5d5ddecf2f1913a49ce9'
            'd393ed0f9adb032827dba278f3a54136c0f86485c66837064edf9fa061cdc867'
            'ad318d93b89d9e4e3335213e4fcb7e9dd6ad570c08c5cb9ed44466b7af33b45f'
            'f851b7b00ac25144ea117632ff3a5f316f8c46dbdfd66bb41af91d0d6f6f10d2'
            '10f9d634b288de4cc4269c07458c23bb19ae055f325711dc9db09006327682f3'
            '92afa68d9e8f5ac8c23eb3a201441fe97386307c5ad38ece054d98991d192a6f'
            'c038b16df740ddfe9ced5dbea57ace0de082f3728e189e7279e08f7f14c5f86c'
            '719790968a1077218e64d9675b5b4869ea8e2716c2bdc34aee339b2e1a6ed8df'
            '56be2f9dc89192d3e10849bb2cb0e5d76894a0e514586ae0c1df7dc933c14722'
            '588327ce5be7334465ab461a95163983ebd6b61c2d41a66a9e97d14ee2c843f9'
            'a99412cb5e4ef78a887e81cae8b91071deb20429e01d8c8ab3084ca54472b24c'
            '88e2062eb5390d5d711d5118518a584281a72deaaa63dd30186ae59266aa67f5'
            '87d006f865f0212c4d06209de6141c723c16ec7623f8d59d8d1673bacc99a557'
            'cb31aac58c9c7dcb62cb6f8fe7d8418c2d9279487afe300f51eef4653305495c'
            'fb089294910721656dbf6fb387270ffaffa5726c6f38be3119fcb65d64357bb2'
            'bad801eda4d02361a35387656835a158e0999774a70a84685f4725b94438527f'
            '2fcfde2818e6076fd9c4f1806bea751d5cbf3b4c1fcabd72878eaac84c284c19'
            '79ba6215ce42fc86de3def487bb920e9abcd65f2adc86c1af6bbced6516203ac'
            'b532f42612c11281c4af33ac1316b2a3aca11bfd45816d4d0e45e72e25e6c52f'
            '3cfdcdb58e57f641e9cd1a01409ac384ed11338d4065cd831e92896aa691491f'
            '79b0e226daac10fe31e31337660d3f224342b0c8a63237170790e70c1ad262f4'
            'fc39667cd092b7abe1e3e8bc08f89d04413165e1d04c8994159018864af5ec5d'
            'a4cc0013b5563bacca1d76d2db568944373b755339c210bce0d340fd6199f2d4'
            'ff9c0de2e6564c6b8c37c7a8664318ae56b6b81d5f6b11a6b918f1f19e94c9bc'
            '706d0ebe2541a7b0767b67fc2cd29e6adb55c0dc57f9f91f7438452f29ba71a0'
            '66fedf0bad605312b186c89bcfd3d345594266f27dacd924090d21d256eda0ee'
            '6911bdd321d476adb1aef2c27f7a31d1ce13d660a2a591f02d763a41eb513a85'
            '76d095831c20d6d564d7feb978a61e27ff7c660245fc45e00be1f325d060549b'
            '32b2a5e41f5beb235ab3c81b67cb785f869b5c9b1c6b0a417d0cd383be6e1437'
            '0bd4320d5d5c0c30e99ad9eada9de9aa0462263fb190928af5b180af8e122eca'
            'fa33d66bd5e84fabb412127c4e5df691c94e9d6ed16afcd1a81948a6d0712e47'
            'fe8b6450aa410c9a6b4865914f45250dbde06743f71864df87c4ffbdb6fc1763'
            '2150d4b38a8e67369a6a8ec7aa43ee7ee6f631b88edefe4ac2848d497b3c68db')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
