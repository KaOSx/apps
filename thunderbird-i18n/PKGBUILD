
pkgbase=thunderbird-i18n
pkgver=91.1.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('ba979e00e8c94ded5992b869bf257f897ab3f683d049b39eb500867928f1579a'
            '135175d2ba8af90ab79df1de6a6cc6ac56494bc5f5732d10071d987a62672dfa'
            '44430d3f7328abcf339f60e9091f88f32e3ddbf5634687acdd7a402d7a58daa4'
            'bae5d967e3a58e956b9f92bd0d5fe83cd90d83a67fa9424ebfcbd880c47e9bee'
            '57f92f6a0f3ba72a92de9de7199b6dae81869f3c9970e40ed6963d2264ffe6c4'
            '53860878c74bc10e6915477181410616d8421ac4a340ee81c53d29fc8ca09459'
            'f9d9624627c957c409c3f287267c4d6546c965cda3152e5e9ca9f7767dc7a080'
            'f2d981a5f512fae26feece35a105d4446be2b93846ddddcc41e506eb77a50d10'
            'aed8c16be4221a27450566291c5f6064d1b2ec50c65e03ba7f217c26853fdf1a'
            '007a8fa5f601b97a145478abe53b649edd53413c0f7fb4792331078892fe039c'
            '2e863f2ec5d86e2d49d358c1d0a21abf9443623ff14bfbe6da12dd89b972dd83'
            'c8aa3bddbb26bf08777e5f20eff2bf40effffd9a67aa74aaa4d1b18b456cb9d9'
            'f5e6dbdee37f575f2f2d8e262fa331eb56bc580562d08201e52d482cf2cb274f'
            'fc519184741862e4e941b565574102e38d51a8881cf5edea1f62a5adbe34ca90'
            '6530fba6b3eadfc54138638944ec928e6daaed7dece5cb2292d0c184ded5672c'
            '39d34e63d34a653ccd1aeb40675f40baa4ecf9d998b3c29b88b54bf902e67b3e'
            'a295e7cfbe8a2d099f16ca1f677874eddcc0b852d0c4f27d698b3c49b0fd08c1'
            'b2e3031dc021d717c227c56152b4cd2bc34940847c5dc0184889a2148d1d4655'
            'a161abdc853b6bc5084f5920fb13d6bf81506cd4a4736747a0d76240228047ee'
            '1ed57433cd7603c8d27ad5f4cd4b62866471730566f68b6538d785bb3d3ef92f'
            'ccfda78f0fb67e2b9404b6b3b8989e5ff85575a08f90bb90005a7d891274d4b6'
            '1261aba08c540ab1b62369f8f98be91e5733a93b03b8ac12cdcd94ddb69bfa92'
            'e7924dbb5e4ec5d7330bcb1d32c7adb0f7a425f98dd36550aa3019d90d783cdc'
            '15233b2ddede30d14f472818864a5b8871341fa1afdfcf9fd22c214450989c3d'
            'e160d0ec20e74eb24a68b51c9e504ce949e284ea7af9873920720759b13af388'
            '648f97d066a9d5fea783f31cc106c79310aa7080c1e7b5ccf21177689d6215f9'
            'b4c89e9ddacc4ea5cce76a05cec925c5055676f05fc261b915ce3ac9ca93a74a'
            'd847fb85527eb06f12468304e2859a955d9279d9bfe9b2f04c2f979a086e0020'
            'c5ca33620ae6a1f780b6e78272b110a73353fac398f8d021610ed4a86693a60f'
            '010202ddfcc7b227f0c31e231be98ca1bbbf57a208fb2db8b1a6b143a714306b'
            'e8095fe2a12e27bd60cd16165e54fe38b07af2f520c569f561b607fd4f06c93f'
            '0b205a9f0b826a614bd2132a9f602a0a82d982f6136970beb5f2c86143a4cae6'
            '58bd3fa033acffd22c2d50c474066f37e10c1ea62ad10d057e8ef1dbb1e00a7f'
            '9bbcb35dabf9957a152cab5d49bbf10a9766597570cf01f70f1c494bda0c336e'
            'c5d46cd6d85d850d4feba936ea75f9d42c3b61d1406f733f8749e393b447d7db'
            'bbaa2ef2e212fca332a946bf214cef1a31b490b240b4f69722c18c1d4bae2fd7'
            '5cf37c000c27cb84014520ed5e3fbd5e4986f6c786968b42ef2d9fa2493a2ecd'
            '0ddfe3e8aa3fd7b003c99b962269d1bbbf6cbbef55759360bb9fd1c76c02b694'
            '6c12b6bdc3a48f075af65de0b421adb702bee10b5b44fca8499de0d2bf9532ac'
            'f8800ac517584250d5403dd92768d2b19a088615d688778f7ed59ba552c177cf'
            '249793e160dc4bba5ef8f715aae07655430286df4ac0bc8915788eac8b9a7da8'
            'dbdd51dfd612a2a9b6646ac6ac3514fb6d714dda03b624f1c6e57cc03cb66c6e'
            '31bda134ae2ab10c6cf4a4192cde085a1a32ed1c3e580d3955877f66ea8efa91'
            '324c699f8374379719085339f88b0eecc8e4fbb7fa620919aa2303ef25fe4f25'
            '271c9dc4c8776488b48816d37a919fbdf3f14e2566e98769920f2bc5d7fa5bdc'
            'befaaf8d92e17f8cd65e2f439347448fad2139cb777c45c96919efb78bd1f452'
            '4b2a86d679ee01e45a75c7f90df817f75665159e22d03f23243f3614ec645e49'
            '1e04f36ee89de1abaff54dd334ebd518d4585d0ca84c280af07097f5ca7dbc5f'
            'a043750266831af480523a8416e227c7b8b9025bfcab6b06fa6c09d5eb6111eb'
            '49adb589f9ddd0cc5e62650c7ebc83b4cd331ae03be8c617cf4cb8ce2f858ba0'
            '3f8320fda6316982de60dfcadd8fedab60356ff226a11dcd4f1b2f74248b0d9a'
            '25fe0bfc2f2d2e8123f71021045c5f308c8afb8152c01d5d0034820c8db268f8'
            '179b907f8e28958a9c7d1950e18a14203837a259df927014868c3bc259417dc2'
            '72d63cf75ef3825bce9d01f1f73ce1c71f5699e39e02d6d89f4f6a7a5b1b6433'
            '9ca7762537b16ac010e6797b184b6220a51a0b0e241f331f084c5cb578c63e1d'
            '73441cbb9ab1194f56fecf6d0ee7f410a372ec72ddfd2c2a3abba44eefd2cc75'
            'eb70c785c89e61ec00268cef7fca29670dad9e2a7cf83522c3bb4c50d5143b80'
            'cf35bd1f498884ae846fee6904782ea4c38056075c879fc8179660deda080e2e'
            '56ed5a97ca5238946dbde5ccd179fbeca3b67af7a7bd4e0bac71ca5a065d0f71'
            'ef87a63a354bd5fed58c5c092cf32b4158798166424ca65ed6fdd62781a3df28'
            'bb4615201325a01f2dd0b2d8aa46cbe20b44555321c7209b107825a7a471197b'
            '2a27f41dc4a0d0a32b7b1fea85aa7102f35a117df4866ae62f16cd4e801eb188'
            '08b97a18dfa5381f3feef97bb891ade255f20d41901f26c0848d9a06f13b9a06')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
