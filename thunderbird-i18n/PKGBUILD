
pkgbase=thunderbird-i18n
pkgver=115.4.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('d5d9455c58d4f2497d90ee102ab66cca7de934f8724f6318319acfc3fc4ed067'
            '8013ee8a7997e26fde1fe1d1a993c6c2bd3d439b5e115684b2fb84f654475850'
            'df4b318dcf1aa05e142d5649ed87c47512b235a3208c18cf0ca86c45599b2f3f'
            '95f0e40beee369fe3a75050198d9afbb812a70bb71dc74df00be78f66b0a88c6'
            '12a54e6e8c3872c4668d299a37589dff2d8a5cb614788ac004ed8d8ecf20e570'
            'a095b7ebdc289f425741234ee2551a91a12e26eaf4f2300bea1ab1d479ddab41'
            '4183ddb653ea510f3fbb5287c0115fc22becc7183932b252159de8cd255b6ab2'
            '49c843f972db16e6355c4683c624243dcf4b749d1ddcd7bd4999e39a93ea9b1d'
            'c1b1f6bbcc013b5db773d4391dc857f31c17614706d521700f56882c1a6f3b3f'
            '4056b693321f365bdce39ff6cdc5131128064a8655409016601b0fafc6138d06'
            '3613292f35741521dd1fcdc39180ec5ff377df759cf5524394c884024c410e64'
            '3fc36c8274789b9627fb7c5ee62cfcfeac96475cf55c76d17da7647747613021'
            '7b626f9aafb186d77b6e7c2562bbb406662fad05038737d5188d5d764c2f0937'
            'a3ddc9b1cc5ae59409aaa903a559c84efbae7b5a9dabb8523482d3d9068d1620'
            '04a2fe89f70066f5127fbe68fbf35ac164dea182388f11b6234ea2bb2d177b38'
            '9224b8aa460d617f4be377e00ac7dca6aba71c0743e8294010dc3be19d576e5b'
            '0723ca613dbf4b02734db74cb0316265abc6dbc96015dca49d277312d39f186d'
            '1a28ee853e02697a6af0c08384352626c24a6a43aeec61351e693aebbce17b4b'
            'e0f9cae7cbc13d6c5a9d3291eb0657398e718b6dca3a91ce446791a088434497'
            'bf6e0a1576102fcdccf1d22e5a8ab3c4826cddf5faa6941c43a067d0e9b138a7'
            '098ef5cebad6b3552aefdaf78eddb581968e27a84fda73d0eb0c2d0fea1e90c7'
            '26b03d8c52f8f307cd3d65908da97e655b657ee31c901bd24456f0a01b0ac1f3'
            'e6897e702b02feb80da310d2b222bb3cd8a8c914db0c9a81fdf63c4c4876e23a'
            'e18171bb5653f71f46ef8c1af6d933e5952de81ee8b1c42690ae3a47a6328251'
            'c062a3eb0bba039bffdc38fbe2d96b962c8bc889befcb81e569ce6caf1267a47'
            '4805b434b14ca29d239851f772b4fc00483e34506d18e74ea5411f423d75b617'
            'd74d5ed21855d774865f10189b5bff43d7d645a4cf361787380d2c3b87cd7117'
            'b76fde2ce27b605c718fe22895c14468e5d659dc3b67f3a0f295deb1ec3e1a74'
            'c485d6f7a1a2d325c56da20d3aeed44e05971aed9f1cc951b8c18afbb0bc0115'
            '2413595c4b9867eec5164dd98fea3afbad4b4894684d15a88bb56980b3150856'
            '437a6a0704cd703d72febcdb80affe2c5dce51634804cdbf107a860f4e7e43b7'
            '3bd78cfe73fedc514fecc9fad3db1bf204065bef2aef65cda45a646801333dde'
            '29f892c622bf257ea77d543928951ef2c569fa3d1fd4e4fcfcd877fbc6e7bd56'
            'c0a5c1877ffbd3c147f126962109c92e78fe6cc99c6a4a0095aa2c83a7a81d1b'
            'bad76f3b897858c31204e0fdb20819174a04a54a12be05f3f6fe0de74b8adce2'
            'b480f3c00c9aff45365f6c14d918a39c9cc649c062174e02bbdffcc8bd1d762a'
            '8f582453119ef848c0a1bf42ac18be4a066e27bdfce08f765207e0b46828ee1c'
            'cd2e584882f270a27e6f4d39ca4883e133d7ae4877754a179dae83fc267024df'
            'fc558b5553b8893f7ab6a52beb86b3a113d139ec5d3c9fa4eb97d4e22d3f0d7c'
            '31cbda64c6aa66bd0bccc1706c7d127af72a7218c5fbe7ee0cd2ac69ea2311c0'
            'b6bfb46419b08bdcc070a42be8873c69a4704fac80338c25f3c86347c699aaf0'
            'bfd70c25711eabe059cee916909140d00c4158afbea6573182bcb0eb2860e2d0'
            'f2359ba8d94b0432c15c2974cb0aaa04f198ab4e0a65bad7c9d67afada5e3f97'
            '5f57106f49f0efd6af8695d2c49b5390b6d9ce767002347b1f1211c70b262f61'
            '74eda51a736ab97f4b0f9042ebac25f433c2841e3da90a4c44c55dad97133d60'
            '2d15e7ef09a74fb7336377dbed5a177faef9c4b354c6008144909e177fdbd587'
            'b73e80a9722aae583532686185c62e451371b9f5646bbce6964f8e31904ef3bb'
            'aae77f108434d14e0d7301f0b8c0e8aea28340eb3e44c1bba3d556b4ed1389c6'
            'ee3bfca31bdafb2c5d8ab1599812278b707e87066d790f29322d71e193ee6244'
            'b88679015a899962f0a526292cc30b239cf9a889809927d733c9e80e206f914a'
            '62621b38198d3d0a09355c2672b9724013ad72e88eb51c2e583d3c902c8468c3'
            '81205d01e3ce9bb5556b37cd2152c54f8c609966ebb23c8267cd3462bd067fba'
            '56b5ce8842041d8c088d7fce79a45ac065b601e7e9e955381d5d5d2ca2d979af'
            '89c162ec81947d22df141edb85a5a23031e3edf3d44bb552a5960a9e3b1a1903'
            '8f6c21ba76d32cb7a1d1a1660e3cfc346af42d10bca0921aae08a4f883cfd54d'
            'd9fc585e69c9aeec2343b8740c814286f6dd3dc331261fe30b1a15eb95e8059a'
            '799bf7dbe4c8a079b019eb214c8e0d743ce3a4d39d235f419c2ad5e592c14ad4'
            '69b6081dd3b7c4902039325e0aa12c29c4b946ebd3b551445b72b91f09e02793'
            '36c2721f3182c6e2b2fa225c78dfa77647a403aa8b03a5cdcef10762744c4460'
            '34c64be48b37da0bb18f5853d174659eb40102d4bd4f16590bdd97ed0c724303'
            '70b2976e99a883b41a1bc2fb626e8d7b0b10ad2e158256bbb41df2f170430690'
            '42a8419e630106a6ea5d15b755a330769552a1f92bb9692b0045ec5f3caa3448'
            'c775020eaf8aecfb529ba96e7e079bc46d5366b6a78e025697e6191075ebd3c8')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
