
pkgbase=thunderbird-i18n
pkgver=128.2.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('3bd68fa36a92e5ae06dc83d36f36901b3f438a8db4b23d6c103dfdb428da0cb3'
            'e2a7e1fd3be20bf7273f43f5b69562ea69cdff920a7c393bf51044714b53275a'
            '7c40add40ade04eb04e2a8bff02dadbef3c329b675a1ebcfec311d5f9cf76f99'
            'e936ba362b6ae6de737849652e2f28b11be9a1c827bf632775b39b254aea5cad'
            'c9ff3afefe244fe837b971d1bdbf3bb707831fc9fec97630965d54b8e811151f'
            '5a074db08691be8b8c0fc05007d92a6bc0e66f0f751c25290ba4ef3d8f9b1897'
            'e7094de3c26a3aacab6753617002d3baee6ac2faf5dfe5aadbce28c61305b24b'
            '7e35227782186ea2aace5b675a31caabb6c0ae595845d5ab5f4d133d3d476689'
            'edbbc13402767b216e445281c871301cf620806e93661c08dc27cc793fb2c3e7'
            'ac19565ab78ed4ecf931ba7ba2c25bcfce7cd1b07d55229092e08b83bfb5e57c'
            '18a3be32a98e1f2c8674dbe590f149b06f820438824646e3a68a7c9943094501'
            '403c385bb93af60b8ec6943c3b7096fc6f1dbe520317dceb0dde66d8fceb25cd'
            '07904241768d7b54d25cd74d23963ff9fd1a13e88b5efd80c6f9442daf15b56c'
            '17c1d5a44a3a9ed76222a32940c9e82736dd08d45ae0f5823b769a8d687e3e84'
            'acd742c1b49b1c3714c00ac87d2a2f1f17641ed68a9eb2ea1e2b98b442034fa2'
            '65b6ca234cf656637effe94c615b16944c7d890fc2568811bd1f5054e37e9c47'
            '0f051c434d8332605e29ba200cb5447b456149a5831069d480350f918a457f22'
            '85ca0e2e2081d42ab20bfc4a5c0512c245bda0c721d21af81c459d4727a4ce95'
            '8d196d482ae87272e142fd53cfdd4124751782e79bee4c00d1774edd0b1350c5'
            '00a2733fd448ddb6b70a4d2cc2542c790e961e750eb39922354d0d0f331f22d4'
            '2043e2ac97df23a9e445263b4eb788ed4e3e9325a9e9ec2c6a89f3a859e0429f'
            '60f1d7914932d59cd1058ed3544dd8dff77225da888bd517fd91fb7541d2ba17'
            'ad45d33fdc79d9eae681ad47d950448ee2f8a4d9113447e8cf9364d403daf4cb'
            '53978f1b2a7f231cdbfbdbc37b092882c64be6f012bd3851f7182b91184dab7f'
            '597e31264ad1afb0847654dd6700bd9fcab3ce574d81138b6f0e876c0bf5295a'
            'b4be0bbdbb227ef7e37a2ef65594e0fc7ca042c3ec65c384bd26cf91ef740e61'
            'fd38067ce891a393c6f56ae333b70e2fe89744e8c011d1f0f4ab7759204ce414'
            'ec5a079b8b567dd4bb120d50ff53ce5cddc7fb3b423bbbd040ea7d35c7bfd825'
            '0dcd5f7948967ad2601db820c16fe6d21961e41b6f65f6722af30adfb5d00034'
            '357ac545034ce21e7d07efc2dbbd1f9d3a60629f5ab78949015202e8b3fea2a2'
            '79ed020b988c127707612a76535fb49a201d69467c5e3f0cd760cb042361fea2'
            'fbe4a4e83df84e725c9f9fd18b4a0435bd3d3679d45ed82d71cb720783d5d2cb'
            'a2b49b829b776f4e60647504d64067db7ce83eb74414102109bbcdcf974ecc85'
            'b953171dba623b093e9281ef2e7ebc2b1a77c1ec46b08503df71eb7eb8204e72'
            '81e14a6edaf85282e996aa295127dccb010eb98ded87aeeec70804be172bf009'
            'c8258de4c82a3f752222d3e70a3686002cc72a4feea65b655b840a7b18016b0a'
            '1d8bc36ca3700484be476afb5f1b0d59bf24a9122f9a9036436f17d9e0781ce0'
            '923183169e2478f54c817ba53fe89add15a585d9323b013118026541e0084108'
            'e5a759944291b72ec3af8db6b4e0b37cd6df157ea4f90a9356dff30a5f084e4a'
            '36e695ed30fdfa541ebf46efcbaa9a9daa2e421d8f82f34ef8021111de301666'
            '54943c46d02f7ba12af163c6eca6a11914b3b1a588d601a712961eddd2f466ea'
            '0c6123acfa8f486b2df8b854e432d3f52e2b1c6ad915731a8e1f4dd89952b9ec'
            'da0b3151269fe594d90d30b72ef4b8fb8518229457832e6fed4c9817a4c30937'
            '192b0dde9d1cf382f2faa41d8c97e1ecca7c289089cf7c4c1479279a15be1b62'
            '7f77f75fad99fb339b0490f8ed018b08d18e1a60c1e8de420fa5e2ae17de3566'
            '53a1eec012f034b84ff1e1ad08a92aa970b71dcc9400f33b7a299b57322593d5'
            'b57d74b5992e3abd1402bd2f264f25676eeb22ddf39d8642222ee295ed2e68d1'
            '4072a24e495702476692228a2c1923df8a5f43f6eceb04351182cd180d49e5fa'
            '3de8c424dd0cb07442f2203a614a541fb1dca93c51edc50fb193d4fa93282071'
            '917f5112acc0e79181fced8b1756dc35e1cc0c5f760f8bba50c2a9cad69620d3'
            '6394b822ab2f5b4ff8b576c72dbff0be59237a16eabfaea3300ef9cb0a37eb4c'
            'e0f369bc2c48a1e4f765da6aaf3501ae2c40c8c48020304fd33ba461cd1eafc7'
            '22cb8625f66ae79ee3f0691639fa5fd51765a00ce48209566c3a95e5c3595016'
            '0dc810e08d6f3130ad95ce4587dab030ef2fe897c031364beabc194d18fae9ca'
            '20b45403bb83ef5a301019aebe8dd49b027b809c29b84e0adb440a24659171db'
            '33e8cdc16f489403c53d6304aacd7ae968d4769a46ae247406bee5cd623ba300'
            '94eb989c3d43ab9a827cc76cca130b732e30302d6a9a6b5de56b7dc15fcc7828'
            '8aa226634f99ddf3c5ec5321a12c1521273d535387e8ebb22a88fbb4a42a49c9'
            'd95c1490245d05385cb0d50622548b226e20ce49200211785e9c7505f73ad519'
            'a0d452e7e62994e86a9f62871fa3d83d0c9dac62d914c720f14e85c1c193cee2'
            '4186851374076317726c4328d1a3e9dc91ca3c46a285fcd560e9c71e2c8cfffa'
            '5ff65dd11669d844200b13316996e41cec8ba62459369fdbde313252736bc2ec'
            '5fc51a7511aeb35ca4f8b0b493c079bb988c2053d02b5a5fae802204fed0610a')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}esr/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
