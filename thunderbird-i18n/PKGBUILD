
pkgbase=thunderbird-i18n
pkgver=102.7.2
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('1a59138b5ef229e930b5e6095449251056845301e830876804a9237e2529cf51'
            '575c795f88d1f18a69370d70f718515d6e987f0e6fe6f77b512ff419bc70a656'
            '2ce64a1aad0100ff7d2fac7ee1417ff0b9a7accb83aef3237774f22dedbc41c1'
            '1fa0e31bb84b4220f1a25bcd54acb784798b1bda83f6e433cd2803ba02d71b58'
            '84fbfe30dd6c2f8315039a0ae768514341813a76860bbc8dc57beb43fcdd809b'
            'b621d5d9d84325e54cb068415ecbb6dc0ebf037c75ef7e6000327140117321f8'
            'bd3a1ad8ccbd6ac6a52d9d5090226edaaee6f0c4f72803b2df1cc07fca8fd67f'
            'c3b445a593a4c65855cec5781d5b1feaf12b1e45ace6888283eafa2590ef8bc9'
            'b5e5a45d3a1e2b2c041838bcc2485f2ae117f3cfee7b5d1043ea35d338cb6446'
            '8ef394a1945bc3431bea29ec86b7033b32540a397201e4b9cb41c956e4289c77'
            '2123b119fd79edb41a90436c31638dac4b200787b0dc8d5beff4ac7ab317fc9e'
            'f8c62d454f19634f0087de88fd688eccf94bc99576f8331efe41ed32829e5cf0'
            '33da42db7b14ba263da103bdda5a55f62083bb9311e9899c7f8f8aa91ba7f3fc'
            'a9b49a0b697cbf9362856cd24e8a5dbc796343193d638569e9c90a573a95dcce'
            '702cc7544de6b00a496b3c97a221437408b36bb8ca69380fe233d7b3cbd64b3c'
            'fa611e65cb81a635cf78ea30346fa2a703d62a524ef3593108fc9043a91a97f3'
            '784bac34b89984038957eaa5888f0097f0bbb480ad0f6a2f24afde1d74f40f61'
            'a761bf025a3c5bdea5b8580a84cad82657e3b2d427d7915331bb70f3f70be753'
            '6488d00e6bcf44f570302c84d37c6111b0ae311d39076b529b1bd2cdffe93f09'
            '256e525e2f1f6c28f0f36885073b75cbe4440d22fb967148f33f80ca9f558f4e'
            '962300a2b6b2ae227a45e5664be2bdd152563f9266b1214eea2c446f06fad929'
            '0190d915a897094a249ef3242e5fed33f23163445088ae06243304cacec2fd3b'
            'ac91076336651a170b89f7af65a22c475b1c807b09c08bd303205c222cce4bb2'
            'e8df6411b678d19a1c78ece90e46bf3c26509c0487e5dc3c4daec434de4ed99f'
            '68992170dc81afc2312468cefeefa9f5a460f16e8673ec8960e45cab44b69cc3'
            'c69302bcfaa56cf3421816f4c22655a627d16f67a2b1e38b63e8a65510503d12'
            '2f9b1e5bfc77c7c1235709e01a6ce3f21a428008d712bd5c5d57345c7e973957'
            'c0be2a47ad43f3350d26e740dce7dfd7d09b45ef2091f23f2fe980a853ccf62e'
            '6e5774b83a8f0585572bd4175047df57973c0eed087869c9f1a116681872c001'
            'e1400886946d57eb89929131c6f06d0ed4f855705692d77cc79e6879f454c260'
            '3160cd456fea2d9ef4d5e3037eee60a976edcc1dfc47bc4715f09ae365ea1034'
            'f02997b6e6bffe4d48fddaa041fb21b05f4176e5e1777b0353cf8ede8602713c'
            '513f0bdf919e31e24a4a5777f3b30469b65dc8d6f938404e9c2517a040230476'
            'bf4d96694e201f2ca53f486afd25c6eb4a30efbe8fa87ca45d61aaed691843bf'
            'd9efad1755d1471acef5eb5e5c44043b07aab8de92a8cabddb2f167b057678e4'
            'db49e5868e5beb01d0e9de470a57329303739cad5ba97b1f32fd625d52996715'
            '2284178e40c416b38dc5ed2ff4c8902e39b7fb8bfb37abcf4374671b1cf4dc1a'
            '0212f8cc3cf8cd3357c86b853a60e3d069207922e731b4b15d2f9f77cbf8def5'
            '1ccd9cf52c6a0a0ce2028ddd792ffca2225ababfe8c8404c94b978100e07fd79'
            '4f46f010aac59772cda9a34d437998a6591756a025dfe5ae3b9b1d940ece5feb'
            'f2b7af8ab4b285b5a9f6f0c6c54b28fc6449c39d15dbd5d6ab528da6f1785185'
            'ed92abd8b9543e203683e34e61b9b66630670c84769476584c1fa4ac2ccd7b1c'
            '3bb6d5a75b591adb61f330815e85dc4971a5d58bf5abc326711f98a579804305'
            '5e83bfe6a5b4e9caed00f82226b46e7cf3261bae7db2a285864d50dad361333a'
            '740e00ed2dea15ec78a7206bff72e3a6e0defae44bdbd72f1ffd602f1b9afbe4'
            '74e278d538fcb5cf93e19bf46ec9669ece5a1a63f2a7ec047009bfc8373e1e9c'
            '032f5e57188a5fb3a069af326eccaa687f280b19e904cdd27c31d8a52bc2e098'
            '7212da5f5e3723aa2d9eecac32ae563891d0950783cffee0ff15fdd880cb3106'
            '652b1b774949dd10eb2e2c90dadfe38266e904a8ed1121cb860eac23623abd9f'
            '1f9e54ea177660e646f42617dc8d661ff046ebf4410ce0dfc3655c22a59c84d1'
            '557848a6ba6de93a663ce79f68f1e2c819293f428972c23f6869ac7c0d9e6371'
            '4b63411b9aee62918b6ea125a2ecdbdab9d6640387e826928176f2a7b6a0a5b6'
            'e643660708430eb9860b4507c9915903175cdd410d42003d6bcec8367d1ea46e'
            'a8d906ef72d81820b920867fc19691635cf245d1f0f831a4ace8e490733bd7a6'
            '401cb18127f154fa9f014b1573b318ce60ac769065d78ecdbbfdda0182b56ec7'
            '369a36af21474b730ac154892e8ad4b237747e76c4030248ac3a58fdd092f01f'
            '03a26770a4b96e086dc36383fe6714aa4957722677136e685329241948d03f2a'
            '5c7173eef40f367c3b8d38af237ebb1f40c8ba9b1f7ceeb81f6bb855c5acb926'
            '842b4fd73b6fcfec096ed1d6cb727ace7d602685e6d3d04cae47b6b9734c6f81'
            '2b4d9f854f809ea2764a5dd95e28501e9ad64a8fb0e9e8fdba59e1d6a1817c88'
            '6869603cc89b7c97bbc712fdd4e6564493f54dc2b2d74e54da6d9b328f877f48'
            '8cb90978f9f30352d8b47f59eb7fb683c755adfa81103d49172326d229cccd38'
            '4ca04678e175f8278ad5f5476275cacab0521b19c58da1395026b7389d18e394')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
