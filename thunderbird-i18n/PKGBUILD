
pkgbase=thunderbird-i18n
pkgver=115.1.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('f7928cf3a5b6ce79a214561e0e8c30f4dddfe4f85c43cd6d30f3f95042a4060e'
            'dd13d674c9a4a6d4ce26b734906386babf1f58c88290a3fd170a95e4448db755'
            '317771af4b4e8699faa4379ce8b9b1dec661d7d1c619a040a7244f0d6d4eae58'
            '35479dc78dff39c9213642a30880fd32a982ef4cfeeafcc1880fe82d16247d22'
            '37d6fc231826f2b2b7b47242e7d4e6898540faa55af10e2ad7a5d50cde208293'
            '664bd24f2f2be37cbd850195d081e2e0ac94f8270a37e8341f7337dfb950bbe0'
            '080fe66ae59d45850f7af70d00671fa15f9159a3262d026edd9d517bcc5fbbc3'
            'c4262730c7d2b01882106a9848a5f9b532e28209405d7743b2ed597e41cdc83a'
            '6c63ce624fb30845219d880f7c1178c44558fdd1fd23ee8a618ec2890608977d'
            '1f8669a9fdd577ea856016be9734fa7dce34bb6f75488ecc41201a797fd4325c'
            '5e9cadaaf549a9b2cca41ba1d0019024b46a597beee375a50f6538055b0a79a5'
            '32198655defa2f51a2821eb04c46d60fd428548ec59a12932e25db3b4b5903a9'
            '829a6e704ae9d920454728123e545e5702687db8e71b3516b93b2e464988eed2'
            '42fb8f16ef0ca355b1e2c3fdbe6f37dca787f65d6b907a4e277a994dca84e992'
            'e8d06516aa070425ea67474b274e1b1d314f6c9afdd518fa40e82a8644efb03f'
            'da03a33db62c75d356fd57b8638129526eebd6755f4cc5c8176cc57ae48c77de'
            '299037d9f2b26f23092f24575b37e05a96b11bcf12f00089292622bad0e8bee8'
            '1b5f3408b76874d3f2143d77600dd8f79e13629d134cf9fdf0ffd6561d0a3460'
            '214be1f51b51a6d7b29d421810d365d3fd37e4560837ebb97dadb7f2887ed4b4'
            'dcd659620b9d654f3caf080f92586298d419ed72a40b4b84e23f74647663bd0e'
            '4814582472ab8fd50e3cd5af661a59c8031f2f1551be9575ccab48fc898a3266'
            '3a2002b123f3b067fbd523cae52e7df2ffd81bd19375d2156e6c0e72cc643556'
            'c4e1d4afafe76a4b7b27365e72368695c89728210c74b297ee1aa18e8a15c0ad'
            'e562036fb56ad8c9e6ae993b5a3a14bf2a82cd8f38137edadde34e6ddec071cb'
            '2ad9f91b2315be3e44f889a5881aeb317871fb0b3d247ba2a3c89baa9e677e90'
            '0f270ce5d4804ecd0c7d84d9e0f0dbae91f3fee06839a5b80c003c22a05ced61'
            'acb45febe7bb8a2a4a7ee43f5d98cdab6ae88cca5944b04d9f303e48b4e9fbbc'
            '5f6a2ceec2c61f847ba5b493a8a520d42933b462294029785ef4284a0f16547f'
            '1d9d51c475ced3bf4acee0959ed4ad7c36d5a758d4c184d91a9baf0938b4cb50'
            '0248e3f607f709e8d697926de959fe234e1827c97be4a6107bb6e6665813f1cd'
            '74c281e3ee14fde186445b1f2c31b3a903fb8762cad1318e72c43b4870d3381d'
            '7c8a942b5af48479408acfc3d29a2cc28a943c9db94ee34bfcf02011145926a7'
            'c114083d2899b46018f3df0b34f3564e615e7dfbbe59fc25d7a231686d097c49'
            'be77b67e31ffd044530387bdf52d2ada6084c171a39c9a3563480b3c6705932d'
            '85417fc3d17abf9eac17590639ca4083ed73a54aa842d88cf6e1c20970a71f46'
            '2afc8813066e47d18e1e21b2ba407616f9bbfae311f41c53fd3224165a2ecfd4'
            'c144a3d47c35ca52492aba2497cd4adc2a781796f645533f12f22785b46ed6a8'
            '3e08c67ec84d2953c7f15eff7764f6a5ef35af35a9325e4251f617bc1a774144'
            'd65edaf132c1a4a8b186012f560fc4e1fc4e4ba861ba7f944275f06627c467c6'
            '103f4b9196e564b9e68c2484848e9951105cda003f39a6a944f51921b18dc6c9'
            'b4be3499a79c9533435cfcd2b504a4420af68020fe6089d1fc169248dc212348'
            '63ddd27a3378b767c8fc6da4fa28040598430e17ea73445bf720dd61c7bd60cd'
            '80f8f48be55d6c860bb6148fac8b1c533be27bcf5158323fe699d7a59d750f79'
            'ac465c1e597dbd113fdc68f202f9239e6ada9e7fa9c899d91a3fe8ab63d63090'
            'bbf01d30c31368e0a736dd0001497b38b0f0fac7d4a2c020c06880cbf7bd5818'
            '60c3a9b62683a0863bbc63383d7859686df2e1abdc694fd7b077e3039f8e7d0b'
            'fea16f324336960120af493f1a7e2946512f5f5ccd88fc4d4327ddcbacbf97ec'
            'd4fef7095d873db83d7fbda751c96e8e2b3d5dfe18b063f4ee35cc6cdb8f5a70'
            'b4a950c1bda38d7059708212ec9eb5c0123dc00fbde8038ac6950a2a838a1308'
            '6e492aad567416bb735cd3edbccd0ca115ce0a339bb905af14a484050ca79822'
            'fadcfaaf428790b8ec6e9a7bfb6f2927fb6ef7c472985211cdcbdc5416967407'
            '648d4d44dda4dc380f26644665e26682b3a950a10398191866b54798e05ca44d'
            '35acab9a371db138bb2ee49b7f56505a897ace5047f8f579fd0300504c99a4ce'
            'a7fe12aac660928e593efabce65843ad9de4c8c19162059824a7e5d0709a4095'
            '6c3ec6f89db5021cfba88cb77bd9883e93da91d51fa245b65b6871c99d9cf27f'
            '26f40007f7fe8a0edcc0a7c262ff52f959fb27fdccdb7518f1f2e9c366e9616e'
            '617791924f27240f6114fd776041d523efd91aa81ce5afe8daec4e0a322e40ae'
            '99db6ed3e5540da9d3ef80461a037f09b1cef35aed7129db149b4f70b3dded7b'
            '217ca27e2b0e57c772c19cba5c3f625a3b22cf977ab9c78070d2ae454b2ae053'
            '420a7d88c4aedb19abbd5ab4ce1be121198f57cba863220e957ebe3750eb1c9a'
            '11748eea1cc0cb8286cfc5199885c0db0c731fa4e7c7ae847902c4e43f967776'
            'a6195dc46992dd2ce485b82283a67d26f4031a9e5e0cc31def4691161f8b9481'
            'b20e5910cbacf3faaf64bfaf7c18cd1e7c8eea8704ec1136a4ecc6cea0c5ea82')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
