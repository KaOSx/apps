
pkgbase=thunderbird-i18n
pkgver=128.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('1799f3898f59a8a6dfa03a99d51097e7d87d018dd2e802c83d5202b4dedcbc26'
            '818fd4086f47277108739feb4d8a7301841c4377464551f17840fb29504e5bc1'
            '82cceac62a0a267afe517934b34cbbfa62abab3d8021b7142f5f0e3fff56163d'
            '006275469a09e33dfeb72188068e305ce57ae8396e496169c7e412ff437afa15'
            '187d6e87019c5dc2fabc5c44389abd823fd229356be85ac98725887de86f7211'
            'b23ee05ebe68e9015427e41652ede59cfe245dc88ac4b78326433170dfc7899c'
            '5df17a08f0f9841640b64b8dff256f1de41215f394d625dbda039f7153867341'
            '3483669e16f6a8cf5d80336e47bce87bdf3738766695c7a1a83c533c4c412611'
            'd9d9e899b00ac64f9affc6c8d8564cf9dad61d95716e051e3eef0bbda68b2ee0'
            'd65dba71838a272f154c9145a89d4181a7dc17aaac586f9547a7ef470b723cd6'
            '6cbd6ada9f2149dd7ebdb8c191bad1240d411c3761a767140664b5136f32a81c'
            '23f4f8b27a48cde30f9eccad97ab56afff9905d71d6ddcdc249fd428d15fb659'
            'ff8916b941111772e3383cc60146f19410fd910444cd8998d5f3cb8f44507918'
            '11a40b3b2b8fd41769d2812a778459167fef25c53dc902ebf0463854de5c8001'
            '01ce462a84c021991f4f1ea82aff4e3daca1c8017f1d918380e28b0c6b47df76'
            '2b5ef518ccf49c507d3a125605e3b0055a0a26b239f5158f33046b5d6790aa1e'
            'a125a2555738cc8854f1625ac7756185e0dbd8c80b22888b9c26604c3c124fa8'
            '981644ca93f2d59e8521674cc6cc75b00fc0155d0dfc535f5af193e05b99c6bd'
            '4e8894754c31ef07820f7d289522b9cc29a9f4d86032b91ed806dcf9860071d6'
            '80c192256e57181ea49ee23e3ed9e17fed432bcec87ee131f2c22b296c6d6d51'
            '7e7e05608d388ff459684eeed61d1dd5fed4adfbde5c4305a70e874678754558'
            'a0e86948b0a0fc3cfe22f8b8bce40104f0385130fe4e175d03380e34d3b46945'
            '9f92f8c8c2163eb48a5b9faaa2a517e381598bac004cde16c47032f71fb14864'
            'fea14ba57914c5a64c222deb36e996fb46f587d9f3e716c1ea6ef8e231f570f6'
            '082601fc16f6020734f452dac1db20f3e467a1a7d9ce3bf6bb3154c59effaa94'
            'e9f8e2852d3456705bb35bb7d5532cf607c7b3a86677f9fe31d0ab4d481c24dc'
            'f3c7f69e342b6368194d7d6a25dcb14dc277e278cd5177c2dbaebf181a2a0e5e'
            'c4e02c1e80432432610ba6a61edd69817552652e00426ed20b7a627a69b308ba'
            'a179ac0eec75253b1d657311b64420c7176dc9e88015f51698703cb8eb6cb79b'
            '38948d736e5da1b347af306d3230e938b245af574507974e6174e13a8991b8b0'
            'b835cf5c1a9826a4fff6439d2f6f3735f749f54e9cc19ab09a90fd3e7b7aff2a'
            '45a13598a406d2d97078a9a755cbbacc5ab902bf9f192426833bf14397f8810e'
            '15dbb5a1a40e6a9040c7d4d6a2267004a5868e3c535af37c1a192dfe98da1fa9'
            '1f01bfa6a60a5a1784cf58240751e32d9cb4de29553878b5d72940b145eb1ba7'
            'f98ff3b9b357b5af16f35793b3fa00985e8ce917e653a123363469d10b869a75'
            '816b3c86886dbe1095b9b25366478e90a373d4c1bbe163cc575abc5f889057aa'
            'c0b11ebbdca4948b77c91f59dec51fc7297b3af3987520c25920d29db19fd550'
            '1d25515c7d0e778953cddc9810126b93bf3c760364958e902d2c1011a4847902'
            '9ac676971b238311e393ac52b88e4741bf9db198a91137cba188cd53fcbd6136'
            '7c3b4bcf280e9ce06e64624e634af727874898c7f7a40f31602a7e0e210e4e03'
            '81a6e1e1aa8a010b8ac5b186b75796c219b778354118eb2ea221ee3843189ddb'
            'f5d0f66567571276cb86f0d782d719b5386d1623cc4e26bd35179291aa6b0f32'
            '2e026ba99382b8915f0b4ae9962c7a6ff0f5bc275ad4a9d244d14b8d28e9e736'
            'e7912f83d0223c5b8aebca1f15f0478891cc28a905afe4898fccafa5580d9d7a'
            '51df31dde41a81b6843f386184e2a7c89c5ffd91f11fcbba8232333f91cfe7d5'
            '4c42ffdf6b37dae29178c0c363d6b61b89c6694cc0f31d213ef99eb438f2e1da'
            '3e20516dc4ca96f8956484f8b1d4b1bc84e82180c5638f5c57a2ccb56d46c310'
            'a7a5398951477ffe1a2fd88233953cd2cef147d89592cbf18447159bb4f9f264'
            '91301bd0d571c7d75362079533daa834e2c784ac7a7972f8ab38392997c8a954'
            '768d2679b28dd6337fa7d093e64a2fa235693aaa3e56afa608980bb2c926d5ca'
            '48f7286ff22c0fc11fe7963cfd7d681f151af63850362f76a0b399f564b76422'
            '854420fe089c0861f98dbe8c1b34612baabe8d08e12bdab8c87b540bb7258aa9'
            '8ada3fec5a57955749722c94a7d7378c4613e163b918a8f7fe6f18db59bb40c4'
            'b76d2e47f2fb5904a3f416ef6e39eb505401c97584a3ea08e78b98c0a6673ee5'
            '444304b4ee11fcdd71ac302e20a890551c681c3e55798091c88be18f160b7da6'
            'de6277b95371b71775b58e43393c739cdf858cf6ba64505b06bac91c222df6b5'
            'a5b9490f4b899cd94394f6bf044dda67cd0e1b72f66742fee31f41f5f741890d'
            '535fef8a5f00db4a1f7329af5bf2bd9f6d8a4d781c84e59fc0e2f857df647942'
            'e1d02c0f9e4800d5bc10f40496483070119f12e5707aedd66640369d7ee35926'
            'a4f27a4489c9c748d84fbdf70a72d9300a508c988cd88f1b21a44d6248224fd5'
            '6d42d9f42ac2c05498bc7d8121c0e113258fa1632239e50d82bc38d45efc382b'
            '757c8407334eea2eb7566c63bd52412975025432602fa6017fa95ca477fa3cf9'
            'fd2c13f27eeab19e3babd4470813a6e98eaa0e9ccc8a72d457162e963746597b')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}esr/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
