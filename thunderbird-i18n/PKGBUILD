
pkgbase=thunderbird-i18n
pkgver=91.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('4540a35f77d5c4611dd1e9247818bbbcce003479b91056590295701751c54224'
            '92cfeb4e4953277dd0236ba448652a3e245216b6766b1936785eac267b6e6603'
            '530e38c8055c8072ee539a1d12ce0123495ac122daf336ce9e3ba50dcb92d038'
            '25d0a7c28a1183f9c50382b3ae2cd44ed36ae8f3c3eea1e123dd3c0134adce69'
            '1dba15b913284fd4d36aaead65a93df81f506ec2c92aa0279bc77257bf929a4f'
            '8a6027134a1e0678140fe6bb13cf1381bab90a161ce1903e4ea8fa6d7faaaf3d'
            '0da32963d6cdd5ab43856f7db5ca2b473bd5e29076b506805f03fe376db90c47'
            '4f3d5b697c625b81d5ca236d25f93423bb089bf06be086b660135b35a65c733f'
            'a236af3de29fac6bc2ea365e43a0402ea613fc56bd86a6b135e6912b0000261b'
            'abd49cbce6d0e2a16c43a23bc151d4c19954b210b021c743ebb4a16f5768bb4c'
            '60c99da2ef421f0a9c17fd355bb31d713a616a624c2518abd46f115b267552af'
            '69da9b5056e9cd160e2caf6fe156426e131de7fb76a15146d30626e9e0b93a03'
            '55584789c8a14ed97ae03031e179df96e3b2c3302f5c2aed9acc092c7c5da75d'
            'fa26ce134cd8d3f0a112439c9a32cabea6f00c95b1c132e925495f17d4de7c1a'
            '25cd008c901493dfbc774a1d81e9c97a12c901500d5be7ce15dccdfade2accf6'
            '8994bb214948688ae861956a617fba6480887e61501d6dacb9efde50a67c8f86'
            '97560931b798d05994fc15d82d595df2284f71d99d52e55a395feb6e192c5fd3'
            '0a598d65ee42fa5e2b52ccecc624a41260f937b1fc26b5133c97236ebded3ba3'
            'db44e2283c1c457f5afaf270206f21e507fbb536d8a81b9d840f89f4c35a3ac7'
            '3122a34809421addd88e2584dd0f136b0614bfa86ffc3c1274b145bd6c4b455c'
            'ebb4ee7ce1b5bd662975c2a1ee21b9ac366ff6ce4107173ada724f0af12bba67'
            'a5909c614477edcb00f19396662b341afa9840b7c5529f7d3fe2d255d7925a0f'
            '0048287f9f71a440c3be20f67cebab71b24259c4742de949d86965d5bb56a0f9'
            '9b64f0f2a2d19b7b31b00db3971cb3dcdda5253cc6f0664b5af6b70487aafdee'
            '477e0ed145ddd2ac3bd8ca2f6c2090aa409fcef1db5be9643f72c695540903fa'
            '093c511eea13785f1ba558db16f940c043f1d1ad7502ea8c30024c64974b40ef'
            'e607fb420da1890ddd0387da87dfbb4dd4ce79c60ca4d7919d92cf7423dc3703'
            '3672a433c2679d9d1a913c915bcdd24fad89a6d706c360c6d15529f131c5cb83'
            '27a6884169829ffe03b746705848653a79e69e75aae7129de47a3462c0143e59'
            '05ee86bd95b69018c3c975a4b5481f267ef4c645d277fe1c69e98dd66c715157'
            '537e7f9f1dbb76022851669f9cccddc3b4636ee27015979d991c3d3d2b4eaf37'
            '6fc58b9a80417521fe481a32138a91222ac1977bb898e9eada3595546223467f'
            '7fb2d2e648b59ac0d9a1b72b6ad75446a471b96c07b4490ad407ccd25b4d45ea'
            'db79263e70be7e4980db0a71deb5377dbf6aa01c7f335f27799cdc3ed92e2e94'
            '2c12e1c447292cd19c643e561f201b0bda9a8a4680e1b35db655978e68297688'
            'c22d498369687707b788edc05fd5f1d634fceaa0d6a699150856bbf30c61b47f'
            '3ea5adbb4b4c6b97dd5f3e27acce7b5d38c90bf0c5b34cafbaa43924cd7c8531'
            '6c4952806f4fa6fa037da25a1c828d8b8c19bdaef06738dcfe216543d7211b0c'
            '8ae08b24a9a3cc8c8248961f0710bb5e5f597b0763f56471e288d34803a93b01'
            '034aac24e7606669df35e82efafe64c79a3c5095adbbfa634dc618dec73c0d58'
            '5500ef7aa8e6b8e03c8b927b4b0f366302ed8fbd843aefa1c85931a85795748a'
            'fb127900a4ae51553f54ed9d95af51809cf3def0a3a781b192bb0c4d394af8fb'
            '10edda784269ae99f358d3d4c8e6b4115a2ce1f0f188413e1985b1e055268173'
            '2821adf7cec32792cd0875c91d3099c68e307b9acf98aa0537b392a8efefa77c'
            'ed5e843c7d7a7ba56c4fe8786ece481b2dea750191faab985382eba90107d199'
            '3f46d089ec088839afe09c7c9ed0ac0d87a8e59b92debdb3bffca149342fdda8'
            '0833125bb3d4d0f8fcfda40810d77a3b9594aa431579e8b5d6984bc6de0dd642'
            '39353457551e69ab8f0211c8c239646e7e9179df7b960c39d8ee2fb128e399a1'
            '7168df9d2373532628a941fbcab5e9136823d69497d919973bc0e2fcb691a468'
            'b50541e879614626dbe4f59ac5906dd0d883a73b2fdcab4345e2140979dbd342'
            'd9a3ee314b7327dce279d8c980206e8f3c87ed44d3a49aa60adf8067c9ee93a9'
            '99ec21d7ba7a1f65a2f03a1b3ae19d5acafff14183af4b173c5f2a0258cf6281'
            '6f69a48e0ea1e68e44b79b29b2a42877ca3201b40dbe07f7db66ddf0edff4d51'
            '56daa69ac4923b27699dd294bf36e54a01f58c80233666d87244de649d69d88f'
            '6f977b7af2a59201f7b62c06e11b3604fe034b282649ed88a6cb89c0cfa58ccd'
            'd384c14b37b14c214227be7dd99410cbebba9d3caeed62e07172020020f07999'
            '1cc032173f2213a955d3639ea17459b5c4f419b97b9c928c9f74caca461b2844'
            '76cf013b3cbde5912bc16b8e42852298230b0953b0a23199e74d30df0d6c8d68'
            '94c80b28d78e8f8614c5d94fa765c21051aaa2c48cef22a6415d9cea29df3ba6'
            'd0a4784179cc3ce3a478ed4e62df5ed7120f2a96a6bc6f72e0668e23d3ec3462'
            'a5609bf7383c6d19c9c9a555375bde6dca81783065164cbc8e2fb038d6bc67d9'
            '8f88da600802804dd730e45df3fe6f0196a96be741d102a3fb797119d7ff464c'
            '2da495f9ad16e5ae698204c72bd6f81cff4d6845554de8e8fd2f375010dc7c0c')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
