
pkgbase=thunderbird-i18n
pkgver=91.3.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('97ba828c637f26807bb861073782d152ea3308642ca2f46935e204da42eb8479'
            '54aaacc9db66162d2ffea6c36642e92b545193c6a24e9ba6a13bbad0cfb692ef'
            '042db64a29dbb9c0826f8b86df3389e3bc4ae98a64f4edf1ecada75c464457b5'
            '5f8b86b763a3f3dfcfa0f3a803511f70d37a6ab9d028f4c636a21fcc2e8d97c1'
            '908d3a1a108e67b0833c8f815aa4e5610908d8145a181e942b4ff43b7ad6575e'
            'f3f7a7c364d63fe3f29f5c10b137865add53e65d6b34a391142a19bf1d138b39'
            'a0020bddefb84bbe5a68a86bcb8852e30739d3e5670c8e3ac25e8fa166b8c689'
            '66aa209b2812438a6d1e1dfd643b2aad5811abcee2fd73e2f7129129b0d99969'
            '6f8d12d2deba1df2ecf1ded751570a24a63c21f9393e5a59b7889696ab5d4d93'
            'b7ebbb43d5721c6825b8859e7d8c7702bb06c3d4762c13d671143809b7ca8828'
            'bbf25e35f372e420401d1ccbb51c038b307d2b0e8a23f788127c2aa2287315be'
            'a66ca0af6e2ecac6032e4ccbdfcadd46aaec251805dda0567329df6674103e94'
            'eda372a287843a450a3f40e1fc243b7f8662433b51185af63dcb0b666b08f370'
            '330bdd81270688e3265ca489c32f2f3427b39f432ffef24fc680f68360731a86'
            '75584278dd682485818f2f91f260754187f5c930da94b77032695077049c90af'
            '9d403380614ce709deb3c613b7da06b02c00d3ce9aa0ed33a1468aac6d882040'
            'dd09cc0927a29aca676b954a342ea2a11692d27b1d3cb11decfb581c0d99abd7'
            '3a63e31ce53d0922b5caa0018f2cb91f75611488b5fab0d59918fc47319e314d'
            '0b97007f0b8b16fbb19b43b1a0dd28fed53041c91324e6f68bca55b55bc941ee'
            '30ca307bb447165710c8911539d89965875204abedbf57f8fbf77616bbba7379'
            'd574c0a6439efac6e4cc462ef40fbddadf31f0cd735cdacb66899568275b0a1c'
            '172f238430867aafc66863e6e229e5c2416993fe0bd97b6fc285a1498a66078a'
            'fa514d1d0cde0af3c3137e690525397b324760cd5dd4e3919721376011bb904a'
            '2148938002a1bb0e018dd0a5f4725a3f57ce5ebc9053d959c00c93766c58c6d4'
            'fe3fb83cb738f6b7a3de033b6df5d6f5fdb87eb18370f36b5cb94c49894c2671'
            'ca4ab1806947dca8aa67dc9780d8253117ae44764f4342eccb06d81b9624e58c'
            'fb56fa4da47d487238227f38cff8ae80bde6ce205f0decd7001955530dd5c10b'
            '3be8f8f1c486125f6da08158c6219b632e1c380bfcc9b255a2b7abc459873c55'
            '953d61e06f875c5023ca8016e8fa75f385e0e5d88ef0befad0aae7ea94f89d00'
            'f87e38d51c06c9da9ee8fd55b67714a6ed7996d77e04f473e9404dc958cc09c6'
            'd1b883ff2d35d4c02df4789b358c54c89ca5e29b4325be6a1c5abe172f99cb81'
            '0e6655e16af2bad6c0498d2698fbb1a82086d4d0c9e35e847c57843cf06cae35'
            'f2f2a48a8099548d301b3b9a6cbfb64b01a9a0300f8ef60d17e963b1057918de'
            '3a0854d79a8b6c1713557561e8061fab1689ac8a792efc9ba659d55ba448f712'
            '882ffd6dfd1c8a4f04ddf52e5e001e1127896231c90947aa2d5a6fe9ff66ad6e'
            'c24227d0b5e3a426904e351ebe163dd5291d450818fe76fd8426e67000f83afb'
            'a68e6e717ff048cb02dc965b3a738502933ce19a5d1664c1e4f9af901a5115ab'
            '2fa565d91c0793d30dd20ad6f44b3f55ef510f3a6bd30fc82d9a5caffe0a4a7b'
            '66ec9dfe5e8ab82f726ba1c1702a5c41282ef6ebf8dec9cddbc8e429db7ec8da'
            '2c5e841a800965c1d6f062ba46b6fcb6a7c80e420c0eb9591253103b79b8bcef'
            '4d032a3db1d740ee90624df362afbd974ed1658eab32f0c2ef020daeeef82dab'
            '7304c1451aa84c29ad1e9fd2896dcc3d0c71be1106cb5f4c59ed928c05f7298a'
            '9cc9c81ed0ec25c1affeeb285599993285917b344c40a8859609dccfbdf1ec50'
            'e11e315748a8e3630b5e3ef33e4f4e41fd9e00ba488c612f1bccb25b889c5f7c'
            '37e3440ed59f9db29c6ee5f9ba3cdaeb05728a73057064400430c97fcec08aa7'
            'fafab2f3592998ea53e090d67f5ed15f7be34355f08c20d3b87bb17fd7d5c7ea'
            '0d642d944fbaedf8232dba8feec02560b2c543a0f2d48024a468f7fb1ec0cc96'
            '571974d5909c18e36aba64ab18e10886e6087e526311d8d22e8ecd5fc9a23534'
            'b6f77f962743803c74f86c946bbc17e6353dae6ce849cd8597d71e11ea54b595'
            '2dc9be4bc0d168d1d7bc241cfec205745358ecae0215bb273dffb9c14f84f344'
            '03d723e839ab16179fcf255788a93e7820db3469dfa7f7fbdce1e2633397b086'
            'd90230840b596f0ef1aa3ea0ae9bf7a116ee8a30e537c55b27a88fa825bcaad3'
            'f140722daf5c1e14be850dc3540507f73ce36b814d4bb3dd30026c84aff41d07'
            '2e5db76cd24c641b78b5ddf032533a39afb3f2c6dbca7413d715585f16e975b0'
            '7cfb6f6e078226e4e8c8d4827544411228c98e08fd727fbec73e4e53b3bb7978'
            '57f15ad36bed50d908e6aa9e5b21a1e1c67b5b0ac78c634481e2a54f47703158'
            '53ff848fba228571c17cf10548b898ae4558edd8264b6b693a28a0cb92ab0712'
            'ebdc46df664d3d76c82e94951794f964fdc0e1248bd22c17524468118c97fcfc'
            '20a92b971a86a3db414bae904dc54842fa94f4e926a168d800c760efcbb00683'
            '9a3bbc0bfe7892e717bb89832921e1e5a409907cb72770f93dffd7d47caf8792'
            'e81cebbee2858b7ffc92f9d74eaeed978c2fabafa827d5aa2870cc53ef795116'
            '3a702e18735c278d4dee08869a2442884a809688c81487b97ea088a3fd922761'
            '697ae2d5f007be138dc1e0e3132349f083de8d046de69dfa268ae542c498499c')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
