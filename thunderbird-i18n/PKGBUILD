
pkgbase=thunderbird-i18n
pkgver=102.5.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cak    "Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('f43bcc506a69c12ee30ca2eb0ae1590e1ec9f2ac862bd17dcfe52221dd1809cd'
            '02f4733574aef9bb7c6a9eebefb4ad7f81dd71f0756a795f311da5eeafae0b2d'
            '09a78bf538f165e8c6f3017ee1bae4fbb59b8f4d0d96fe8ccbde73a0f2fb20a4'
            '6fe0637071484ded4e08eac5ce4e001250fdc709a1abd878e5d22d2f284261dc'
            '7c43965e2a4afdbdd376ec3ba3a236b243c3b9299dea5efd01626978e6037ed2'
            'b5f53aa7eab289c6127fd70556ff6d7f2e5189d60a2c611c04136d800c158094'
            '259218677d24c276cbccd7b8618bea7afacc438eb94ef543048858238f75bca0'
            '1bef4ed62ff8be7282b13ac6643e3d5d90959b21cbee55fc8f9e0c7f17fa9bee'
            'aa14ab07e3b3d4cec6cecaf2a6cf39ae29ac190889f13c69cecc4d017eb7ba24'
            '37a4e8c8b7fb13880d9bff51dabd63bf320c6eb69eeab4500d6f63f8961f4386'
            '10723ad20dc192241edc9b4d4575e04b4c4ba17c59279df7c0717ad7d3505efc'
            '7c59f7b43ae698e8fca1d8284c8789285a650b0d2df37cd80f9746aa8cbd5dae'
            'c3feda838535322e97bc15bf3eb4c69d3922910043f3a56083016b83d8750325'
            '22a144749ac6f947a04ab316c868a529557cf06f3cc2fc94612c65b5b70d25a2'
            'd3515fa831df758017c646dcc7b5b5c50b0a879c9a25acbde1f107a755c3adce'
            '59a6a802e9552152aec09a149b523ac677bcbae1bffb3898ae7f26ea4260f7a9'
            'cc3e87cf8705cf0650e91db2f95b9503e5fed4ce607084004e9daabe55781b36'
            'c09ba2c44abc3502ac112b3269d30e818699aecd5083f2e0a51bf5af1919283c'
            '43fc7b8fe3727b7e1d6398a173e4b35673b53d6a65d708da627dba2708056d7b'
            'af987c8d3b95275a4e4c796c19b24b88ede2be6163191de6db97698076cc185d'
            '30d595157b471fd0bcfa618caec56fab006c27c2c7fd61076e0f9a24e455039a'
            '594d019602b102c933e4e06fd0530d84abb822fc04e348f64d42eefe8a227d90'
            '57134f0116c7de6b9f0874cb33c3e403d9e6ed19e0eaa1f39b03dfd117a36eca'
            '81e653de3c20f98b83a46977d4c132a90af4bc24ca5e9aa3a989b25428485009'
            'da58b9acaa5aa4c889dcfb512e10ef7592952ac5e4ef1b55fc888c724f1d63d5'
            '367f95fabb151b83b5ed1f8c8038c71707f0dc6d1555df69bba231af4e26fa1a'
            'a3759c737da0a588244219fd9fc341abc682d69d4c275489c9d09893011bdc43'
            '563431d8fb30fae29be6015cefc944b465604f87cad7059e33893d779610472b'
            '1dec4c9bf37ffadd709793510a987465f6fb16f19db2ae060e80a73b61e2de3a'
            'ec06131dc14bd7ba7628c52c687ca3e23639a699db4e1cf6e4383260ff942688'
            '9345c77405ca37ad4d5ba1b2e226119187b343e49cd2fea3928dd59e40835586'
            '682d61c65a028ad11c227290e48a284d6e19836ad22038a92c5378c6babc2a3e'
            '1d245237e8d961c245204569c7063db28979f7d5919812612b7049fd48f4785d'
            '089103e6daa38634d69f5ca88141c1fedc145f0447e03c6bfe895a6b9d2266d7'
            'ce82fe61754eeb8c9f026896739b2534c35b26ca690fb01290962829ab837ba3'
            '7fb8453875ca8aa611e08a77757eabb5b721fb0cf5ab98cd08c7b475ba6b2128'
            '85f770fdc2fcf1c307f1c32a57510016e26183a0f47c8760790e7ccf3e4cb69f'
            'cf860d6ed2556ada9f4a67e9bf46e97d5bbcab8d63093212ab261bce1df657a0'
            '8f6326e6855b2f88a82100bd9cead0e21a2f007c8f9924c98ec6c1812123237c'
            '76bb91b696dae818289739f0b0d6310751be6392997a25087ff59f9120e6b927'
            '53ee1482d84962d87d1d87cae1c95f20ec9ea78f7ee5c48d7d05c970a3fc5a4e'
            'c6417ed1e8a2d873050417bc479c5d6ceee2c2de6a6e9b6f9abe5a1cb0716519'
            'daf1bde037c60a7bcd7aa0e4c830aaa0c1d0ed5d42bcd56bac8cb86325cc7f55'
            '31a66497778800af0b771e098e788a5687f7ed4e2dc26430d9196942648ae57f'
            '319dd677d204abb85b5c75c1d1995622fc43cf5feeaea26a6eb8accb3bd45710'
            '929951bdabf65c3f2447391b0d886c37ef942008f49b6a65aadaf6cb919fdcc5'
            '6e3166ced739dcaeeb52b7020a5e7f55b588291325e7824ddac3ab45ae98d120'
            '048aa849f2e3b169990732480b13eaa15888d2b8808330ba315c6cf9b0cf1a72'
            'cb7939567672c3f7502554ebe3041ca62ead440ba0a2720c2467079aea79a7e1'
            '413dfbc38d1bc243e97045823326b7da20985e7a2c3b8acdf97f0e191429ff9c'
            'cbbf9e51f4aef8939deaf73c90517c854cc17a12a513ee4ab582b4cd60babe71'
            '43cef4aaf92f70b994a913e1b31abef351ecaa068d48aafc439c612a429ad6ae'
            'cbe4350ca5cb4c6dcfe978ec5c361057d1960341fab068c7a35af6782dc52874'
            'f73599c296da370fced42ec0b6485226e775f32cb4a00343bfc5bcf1297d9b9d'
            '313f36a93ae8556bf73085e44b53236a1fab935b9255c263ad969c067a5898de'
            'f3c8636e811d197e235761ac848106db3f21a758fb5d4fa2ffb2c777694c0d10'
            '72c495d323d0c78f5bf818d6704615cc795c9a34a5be87df91f4f90d54de9032'
            '0fe4fa0f71b5f1349763db1017daf94d5361f42c2604029ad58e6df64780c7c3'
            '331c712d8d05a31dd3300a581042af855e074901121969696d550f60b877371e'
            '47524ca267baafa626c5fc01d7011ba11a67b650ca349cca32fcde63157a8d95'
            '96e2d7f7c093faaedd8480e2657fa0ab182da65d8b996bea0655dc0e18a10e12'
            '51a3c36dd9a53db3023d9a83207de1be2103b12c0bc088aa01343b997705680d'
            'cf636dd5376b01d503ef8776a8d2e083640e8b82efc2f3bdba652951479f3d85')
_url=https://ftp.mozilla.org/pub/thunderbird/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
