
pkgname=pnpm
pkgver=8.9.0
pkgrel=1
pkgdesc='Fast, disk space efficient package manager'
arch=('x86_64')
url="https://pnpm.io"
license=('MIT')
depends=('nodejs')
makedepends=('pnpm')
source=("https://github.com/pnpm/pnpm/archive/v${pkgver}/${pkgname}-${pkgver}.tar.gz")
sha256sums=('4627c43fefd1a7ff8c417943ed26ecd66451d374a5adc20b320ff7fcdf4ef5ad')

package() {
  npm install -g \
    --cache ${srcdir}/npm-cache \
    --prefix ${pkgdir}/usr \
    pnpm

  cd ${pkgdir}/usr/lib/node_modules/pnpm
  rm -r dist/node-gyp-bin
  rm -r dist/vendor

  install -Dm644 LICENSE -t ${pkgdir}/usr/share/licenses/${pkgname}/
}
