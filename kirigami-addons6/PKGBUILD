 
pkgname=kirigami-addons6
_pkgname=kirigami-addons
pkgver=0.9.0
pkgrel=1
pkgdesc="Add-ons for the Kirigami framework (kf6 version)."
arch=('x86_64')
url="https://invent.kde.org/libraries/kirigami-addons"
license=('GPL3')
depends=('qt6-declarative' 'kirigami6' 'ki18n6')
makedepends=('extra-cmake-modules6')
source=("https://download.kde.org/stable/kirigami-addons/${_pkgname}-${pkgver}.tar.xz"
        "https://invent.kde.org/libraries/kirigami-addons/-/commit/c27ea7d599f0234da5e2b2e0d9bc933ead605837.diff")
sha256sums=('56d8073cd9797d4adf5a75f5dc0d2385fc2e896ab6e6106131a6f0d6a976d8a2'
            '868d33ef7154deaf497b61d48598b5a069a35162ac7afb35fe64956b0519f0fa')

prepare() {
  cd ${_pkgname}-${pkgver}

  #patch -p1 -i ${srcdir}/c27ea7d599f0234da5e2b2e0d9bc933ead605837.diff
}

build() {
  cmake -B build -S ${_pkgname}-${pkgver} \
    -DCMAKE_INSTALL_PREFIX=/usr \
    -DCMAKE_BUILD_TYPE=Release \
    -DKDE_INSTALL_LIBDIR=lib \
    -DQT_MAJOR_VERSION=6
  cmake --build build
}

package() {

  DESTDIR=${pkgdir} cmake --install build
}
