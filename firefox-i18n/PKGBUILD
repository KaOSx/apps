
pkgbase=firefox-i18n
pkgver=122.0.1
_pkgver=122.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('c3c3268a7ea7cfb03a975dde2d77225a'
         '841833090011604519eb82d70960decb'
         '6219e4a5bddb9e2900ccdb2672ecf97e'
         '34a5b90150b3a77a0a276140add7953a'
         '3fd80dffbcf8b80bcc4787aef41af586'
         '54e1f4f33f954d63d7de49ef032eefba'
         '02373b6cdda96208b5f9b3e18bdc1897'
         '4a070948adb9d152109d40d6e0e7c494'
         '8dc178bee765b513bca9fe1a44fc9292'
         '413838c4f102c920557edab09a7292e9'
         '9e4e0467fc85212d2682636b63a9deba'
         '60412f5bd8e7bda6d1ef3423a389e11b'
         '8fff3a33c5b12b9eb51d625f5b937354'
         '70a8c5877b0d80aa3ff1faf497284308'
         'd8e79608b6e8bbae029f1c1194d571f2'
         'f944958714aa169aac774162b6b01756'
         'f8ee97ccfa997c9b88b0ec6ff236bef8'
         'e0ffbb34eda92ba1e99698045cc68569'
         '92dbb303acf9f37ad8f3ff69040f5ef4'
         'add9780da2b80fc03153f7e4d80072a0'
         '88e987856f9c16b40c18cb780ecd3250'
         '39cbae79a1acdf337266067af7b7350f'
         'c008f764ad245fce7a4cc6d7bfef0504'
         'f68e31744f0e09a38e6adbe7f0ac8774'
         '96c808e75fd50cd737023c96ea558670'
         'b82a8f5ad959450ea89a749b991d5954'
         '1132b917648dcb5fe1a76d87400ea5bf'
         'e27112a056d19b47946d80bdf26e8d1a'
         '4c00b95cf11f3bcb9f99de51ce2925b3'
         'b575bc419e83e9f8fd70304bee10ebf5'
         'c920282f89346f275bac263809933d67'
         '517eecb8475bd38a24f729bbac6d3b4e'
         '6217e4dbaadac430f6173805e13b3b93'
         'bfa0e16681d010f2949d9b4c16b46880'
         '39f75f52c5dcd19a13a0fd2f56c7a760'
         'a7cb14f05cf04aa0b8fe09dcac9b9301'
         'b50449dc4dfbea384638e5bb495f5629'
         '6761307052e9d3d3ed3a9b536f809441'
         'ab12b570953c14eccb2cfbca9b7877d7'
         '7669ade2987dfef027a69641cd883f0f'
         '840e3b28c26ef5e12510bea415f6aca2'
         '6418112a9397198582bfe9a7cfb1560c'
         'ca91bab7ff4d09f34aa367a8b3c114ee'
         '320767395eec7a5369a192c448c7054e'
         '766cdc967bc833ea5a0ce68d77b5866a'
         '4b9ad00dd8024262fcb223063011938a'
         'ef5d61e932e5d25e6a63342a568a2ef8'
         '83468e30571594d659ee07bef6e39ac8'
         '7077f053fdfa61565aaff5a224698aed'
         '0b353a7288f06877d46dcb2b8ec80836'
         'ba1f2c744895ab3ec4f77c7da7cd4cc5'
         '6c03edfc5480674296d7aa188230c295'
         '548414708bd09e3898ee753eba5fba98'
         '55d8ed19d040cf60cb22b4dbeabfa68a'
         '3e7d59ab0dd2950916d615325a1ec608'
         '7d673f83ff0af535ed9e60d378357cb0'
         '66f8eebb9dcb6a88b8abe4f493619b24'
         '4b498d65c82fbf5b0d3cb93a2424ea00'
         'e1c6217f189f4ca12e39e32de94b21dd'
         '193e382245639cbdb9426d93aa23a5e3'
         'fad70903fdadccc44d3e277ca13c1fe4'
         '90e7e94ea5477e17adb1b7fc8af05c06'
         'b7e664ded0d38f657a8f094a3e812b12'
         'fc57b12fb4f390404af43a240dc44611'
         '1dfcd630f44b4de5536945a0e3545898'
         '635bca1639fdf87b1e43cdd4fedc6155'
         '90025e0c674a770f0c5b445966c80ae3'
         'dde57b50d1473900ff9fda8f14816df7'
         '9641193afd7b73e6f51df9c3348a5301'
         '0c79ce864936c62b896834b1c5341f6c'
         '3bb49834e0c15528e44357ec32c06581'
         'bd18c4fe85a02a030449adb6f256dd5f'
         '73ce4f264c47c46e27d02c55668524c1'
         '2050ad1a8896f6ca2fb33bbe1d62fac7'
         'bc41fd67b5d6ff80ea3d0f484e896c51'
         'b3329cb0ab3c5f383326c1b95c16f8aa')
_url=https://ftp.mozilla.org/pub/firefox/releases/${_pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
