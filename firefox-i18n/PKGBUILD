
pkgbase=firefox-i18n
pkgver=54.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  #'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('a712a90812ff0d9e4c1171d743c95c8e'
         '7ba0850ab79b38527375a204dade2896'
         '73a04408a1eafccde538c0d0df503757'
         '9636fec04e02ffaa368446443c21dbf3'
         '4e80d9e58749ea2ff1eaef4f5ec597f2'
         '4dd0159ca1c952410d909b9cd965f7b1'
         '9985c21b8c9d012adf6d6e8854053f69'
         '30587f2a48dbd053523ea3c03739940f'
         'fc11b2f8896c56fa1a5c749730b2440c'
         '664e32c7d9f56c1b097fe72c88fd0c34'
         '0bd634bf055eaf5d90d4c0786648a7ec'
         '72c4d7bf5784eacb4bd11a16de135cf3'
         'f4ef13287807f34d79761d8ee50797ce'
         '2e4b2b9dbcf429808bbcb86d4660b3af'
         '1a23e9de86a7d7319fced1f1cbda512f'
         '4954c992906bc966054d19d346ac1226'
         '14b3ece481e67b168b55d95f63ac2abc'
         'a3db15ac96a2ce86837b862167246eb9'
         '654f2aaa0ec08d862d7f42a40a196d58'
         'd7132c7134716a148343ccbbe7a3dcf6'
         'ce7c0b32cbdf9ce7b77c467a4fa07cdd'
         'b87edaf05560ddb5bc22995d22fa5b61'
         '8a603ca58ef4b3c60d06cce152e4d600'
         '171255a2919ee34b6e63f7a2aa4bc04a'
         '3694876850f0370a706525b86d2636da'
         '2d9425a889fdbd26c2088f937852febb'
         'c8678c65db6c9542178efbde266a4fdd'
         '56fbee3a174584e6f5bcd3db045e8b80'
         'e6b94865db5ab5f531081f558ab55399'
         'd341679b2b62ea8553716959d2e356e3'
         'd75291fc992646d4caaeb98ea21699e2'
         'f62c9400878634e6c6f32213f4824ea6'
         'c47ebac905e7b929d100ac9033ef582d'
         'f686f67f0368804d58c3dba320a00cc3'
         'd6641e12bf395fff20f9d71f434d27a6'
         '0662b5e9f92c4d065dbfa4a104613e4c'
         '1e937be70094981c2e324fa8549b293b'
         '2bab7c0d72fad98f8a1937b90d09cfbd'
         '7c41b9b7e2300235898f519a4a76b2d4'
         '7f844424e215a031f2824221f6d062f8'
         '178a65747a82cd7f6156ce361cae1212'
         '11ac3361d0dd4c40ce2ec34991785321'
         '15493db7fd921bb03b171c4d621014e8'
         'eb6f37ed21a59e8fd5fb76ff5a218b7c'
         '5cbfbcacb9ea74b0ed23cf3ee82bfe79'
         'c7b09afb34180c8e2eb9b09a071ee8f7'
         'dce9b1d14f0d9447b32d3e1207bbaff3'
         '1b35494e4561bb5c80624e203d07089d'
         '0454769addbb96c62364408b9b73a07f'
         'c59be389ca2bf3d0becca5c3bb9aa175'
         '7d78b681648d8d2b3348ac0128043be9'
         'df787ea9a2cd5951722e3b585a9af7ff'
         '10a123059c53e4817c08549cdce91306'
         'a70f7c2424416e0ba25f29a5ca77c62b'
         'b12bac564db203690e0200bd87d045b7'
         '9db1f801d5b76eecf9d86c1ec4cf1550'
         '008a1c5c9e8f1c61a4004626c291127e'
         '4224894aad54cf91fa9047f23618d774'
         'ed7add21143ca6c6ee23c816655c1f59'
         '887becf3a6bbc17153b0ba50faf948bf'
         '87de297f86ad4c311f2f7795884ad3d8'
         '1bdf7d0ca2f0feffb0b5c1e8a9996b94'
         '6c9793ab70d87461182bb466f434cc06'
         '81f972737c47794cd867265ed8605d32'
         '4a31419ed0f74546a4de076b937296e7'
         '81c64cc3b26976c34c60707e557fa7b9'
         '9f996c9b335779f7644e4ae7aafce6a0'
         'b9f1fd7fd2f6a57040d730cd6e0eb9af'
         '828bb2fbdc73618d0efcb906789b993b'
         '4b655ae768feaa71c40cf9464bc54ce4'
         '413fb06a07d4613a9757834f0a62b604'
         '7cb5521684294919c97a6c6f86953887'
         'e7c23dabde390a0e122ad7a185959d3a'
         '448deb16bb7f9a906008c5a3034a0d1f'
         '86b1d4781a33afc2fe38b1f6f71cdce3'
         '0a0f7bc0e4196f6d503b47eaa3493890'
         '8ff9b952a24c9c6a33f609baadd8c2d3'
         'aaaf24d8309677abbedfb485f1ef58fd'
         '39fadf686a5b38572bd2543a60563122'
         'c52a1e34a567549b7afab32e2331c09a')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
