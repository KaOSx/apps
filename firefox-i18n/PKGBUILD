
pkgbase=firefox-i18n
pkgver=128.0.3
_pkgver=128.0.3
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('6b0bb93aec650ba75097291db64bcb3e'
         '67a94bfb10da6a8b7957ba1a6911e839'
         'c251b62f0e181114e6a7a21ba93c63a4'
         'b3071195c6eec6cb26115bdba79cf9e0'
         'd0c2eb14aadef6db1746987a34f72aff'
         '9766518c985efd5528236c25cfb48fdd'
         '7b488cf7ed1fbbfe917f3ad22e79f4e6'
         'e574e7c4d929f5a26f6e796f18d1225b'
         '42afc4120996eda99cb4d9af6051578d'
         '906f01c15bba11c53189a716220ebc61'
         'f66abc608e1dfb65d1a03526893cf82b'
         '00e702e096264bc5271d52b12ad310a8'
         '02fe7e0a0da81ebbe24b458bd87f63e0'
         '31fa340a150dcdf91d89f2640c41eac1'
         '17ea1f658c365278801f57c3e70f6107'
         'db9b9c9ea47db1a021115a5a5eda5180'
         '9cdaacfef23061b5e8888e2fda004f0a'
         '3c7c2d98154a6a1087d4e1343df5f493'
         '6428e9ed0b9f48ebfe93a3098dd9b0b9'
         '9a92255be224a0d7660a336003573587'
         '26c8e3fad8f087c63f62097aa368dfc6'
         '19456b05ed28f6c5a68283a1e9b1fb2c'
         '512cb9b4c56beb9472aea259e06e469c'
         'e880b6e993c52a87f2ded76658d3f034'
         'f75e423d8e41a2c794700dad50cb19a5'
         '0758f6420a478bb1910a0513b3bd8181'
         'e959a565e93bafcee194dff22fee5c34'
         '652c66d85e0eb1eb109bb4b23e01299d'
         'e96461a7d0f66c3432805eaa3d1bd874'
         'd2a609da951c01109f44da3385f8f94d'
         '3e6f5be4d024e8becfee64ab37b783a4'
         'e32c35636e310005386c06cdce328e28'
         '3bf0933fdd8435bfb9a6105350ccea37'
         'c8dc5de74c8b4457797b41e2b314d5ac'
         '70b013a42ae1f4b80577fc9ea6196091'
         'b8e725f0795e647f7b22fc145233d3dc'
         '8439d60a8d8c0f287952fe9d050c7f35'
         'e0f566405426fe578ef370d57f67827e'
         '62a44ac33e5fe40918a3ae0c79f62c33'
         '40c2c46fa404a76de3d4a84a4bc46c53'
         'e2031992128bbf03938ec8e2e8320672'
         '42ce26ceb9d11f25de924a0939192ea0'
         '875191a88a3a6485ebb9d9e0ab3c7727'
         '9ccfd97fad44b2f0c1ef2a3b63d51ac5'
         '41f9595a1e8e90d0a646ddaf8a596964'
         '6f33a83346e03ec41862b5fe462bb69e'
         'f563e916c3eac792ec3c7556e9d9b85d'
         '3f87571ceee2478ad6e35986631a1283'
         'c1291ab0482d9380e45ba2dfe1426745'
         '1b3e847b279bb52b18cc733e9d1a358b'
         '94ab07ee98c63256784c3cb85a956537'
         '3a954a85489c8571e00d3c1926aa41bf'
         '0dce63eeb5c3b17d201f638de7e38302'
         'c989d5f3f8afd0d8f27cd73545173640'
         '6e3054f660c31eafa09684b23a94123b'
         'cb7f2108fee4ad5eacddeafc5969a6c6'
         '4f91b70a0c6f088871027a6643fb47fa'
         '003b57abe6072aa5366d341e368f5e4b'
         'e4e2b30c83e76c05c8de8a9839083ca2'
         '301c9163bec89ac90c2c36b9fe971d71'
         'dd2730cc32e8fb643471392cb502851e'
         'f319390e9ef71cabf6a09ad4a62ac3fa'
         'b82886e5bd5b59b154f51604b7ade502'
         '0f4e5a890f63331101e02ccf29a7b24f'
         '1cb234a249b56e677859f0e004e63a2d'
         '84af5a128abfa61243dd1ca7f06c2514'
         '3a8df4ac36f4d7518625a1d3527c051e'
         'fa122589a1da830d6d83fd86c146aa70'
         '9b8fc93e1f7d1a4309f4a3c7fea04626'
         '7414fc58e5d490679144999877161864'
         '9e9a254bd930a00f29711d407a24cc91'
         '3e973679a3413c6190f9477debb7499d'
         '78c4ba3ad9cfffee65857a3158be0aad'
         'e8e51851bafb49bb37d6933332e31b28'
         '88e1c4e14b8a8b00a135b796ca6ba1ec'
         'da99d19f72277d0f2c95377ea513504f')
_url=https://ftp.mozilla.org/pub/firefox/releases/${_pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
