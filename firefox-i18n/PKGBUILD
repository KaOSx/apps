
pkgbase=firefox-i18n
pkgver=115.0.2
_pkgver=115.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('554afd9acd9acf99b70c5034974486f8'
         'de571fd37861f3ca09186adc09d99dbd'
         'dad77e11ab75acb72fd1b808dc30c9a0'
         'ec8d394dfa8b2ae291ff01d7112d9b73'
         '0b7cb468bb0cd22804dc9602080e4104'
         '98f0cacb3fc9c22c26a09a3cce513c4e'
         '4613f411c1ad4059fbfe5f1a5eaccbf9'
         '31e690f29ebd28b3a952e0e7b4c47d6c'
         '888d0b7902c5d0b334de54643356744c'
         'de40dbe63b0bcd1326a8bc37caffc9ab'
         '1285e9c08a9dd3f0212b5922b1931b28'
         '562d2ef844a3731da8b33b4e17dd7fb6'
         'ae5cc4d9357385f3fd1de846cd08ccec'
         '010744a8e065a2861f1633801aa0e88f'
         '536ba25ed6dc9790d191e59280985772'
         '5ffff0be0d0614bd03b4c1f226f6f06f'
         '6a38974f98df5791f95aa7d1f62842c4'
         'a7a61a7bc67b74a788fb859436f67b5a'
         '092f08c7e0a8c14f87c1705471ea46d3'
         '523e43b27980de136348c1e19d03a9ed'
         'a2eabf77007356d83857a7028b297663'
         '2325ac9dc62a498013d0be9b217013ed'
         '0bae27eb4095a1456e74ebd9355845e1'
         'a8e0dd7f252582e3585ed695450fdcb3'
         '58e9b6d1cc29559a427b5a4380706033'
         'c553215295370840b53737c29dbfaa2b'
         '243266ab3ce260cf8cae9c582682c3fe'
         '68d342190ecd05d0c5f941741d2d8ac2'
         '8839bea8d558b076ff19cd7483e5f338'
         'c48274226b045b3afd3bf96518ea3329'
         'f3ef820350fb74dcf9c4149a3a0cfb19'
         'a731c6b9360b1b9cbcf7270b87367dea'
         '11e9fdda4922c44deb034f33d0714c87'
         '557c3804a8ca14fadb534e92c6560698'
         'f4fcf77bf7d79fd32d8f5a2cebb9e423'
         '8c372df02979627e0323bd6a334ba295'
         'ad194850e2907aaba40f28a937c9dcf1'
         'ff119e3f402c7e1f88812475e9ecd1b4'
         '798e127e835c921a9f79adff8efd45ae'
         'eb5a0fa64075cad8e67ab9592237943c'
         'a1a782604208a91f65a7ba2d9bcd98d5'
         '5973ad1bf427c1717595c4003071cbab'
         '56819a7ba1e3defe7866169e2bd0e60b'
         'df85260d5ff8d70e6501a0095130c3f8'
         'a5d159703a9206c8f1ea92b6016df0a1'
         '0bf7860e1212f575c1bb825a5b263de1'
         'ad1aaf6f29ae53b9ca0601238339fb65'
         '9f30fa31611533fe79791f43b64619ca'
         '5a1decffeb50e9ef9f2f8258ece05fbb'
         '5545749abe2e4722e18990113dc9a5e3'
         'f38109841bfc6ce2739c79bfd63851e8'
         '168da7d253d6d4c5ff760de427e89659'
         '15a9f584c319dd7769226d4ae6243c12'
         '638152887bbc81006d85a12318e4e93f'
         '76f186173d229656b1308a520da7e618'
         'df26b4e49216520c03470eaf1a2f534d'
         '90e2b20b11751277533c136b5120f790'
         'eb661f54ebc082ea45c9b54212dbb1c7'
         '26d84af5b5f42ab31abeaf67cd9d7df6'
         '2c446aea3a39f12aefe70b1a09545e98'
         'c353c4ab5fd2d91855865fa4d27afc3a'
         '87a232b01e0d26a9aad360a9d6525432'
         'f1c4c3b505d781dd5c4c8219050142af'
         'a315d079163dcdd38cccc60681ce55e3'
         'cd5d2f173d69751c0005bbbf82a0dfb9'
         '7755294e412034d8109dc165d3ee1605'
         '03c3d867a11c2d130328f666d2f168ae'
         '354e90f9928995a4b05d40e3dd50076d'
         '77f121f18be15007e7edd248d8cda322'
         '01660faec371926ad677a6ffa0d79c44'
         '5cb9b48a5d3e9ad1b9c5762fc097009b'
         '02a78f2faebd8a7a5a5c63da8c118ee6'
         '7fcc7e0b6cbba4a8a62ef64f160523e2'
         'acbafd07fdbdfa51d945f033e0d05a42'
         '7d264b3b3f542ea641fec1818d2a434f'
         'e1d8c40494c5e774acedcd35f50d034d')
_url=https://ftp.mozilla.org/pub/firefox/releases/${_pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
