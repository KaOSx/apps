
pkgbase=firefox-i18n
pkgver=98.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('82f3079ee6d2278578d517185484d7f7'
         '850ab0e913365d42c1039c04f7a9bf5f'
         'cb2d9118081c632e6e76f7ddc3840fad'
         '2e6ed3b09b7f2bcf00135b555d2f98ce'
         '3305fccc197fa2dbc2c61bb8d04ce279'
         'd4ecd05ab6d64eb9d121710876835467'
         'c4404df9f147b1af677ce157b4590a4c'
         'aabce425b49be53fb9e44a3b28e055c0'
         '780737f15a0e3aa1f5b130a111f69b6c'
         'd6d81555af8e644995d318a4cc5bff5b'
         '8ac5909c6355fe40d6a0920855ae1d2f'
         '4cad209f435cf5e09244868a38becc61'
         'cef45e62a2ac564a8208c3838fc996ce'
         'b952d6d8dd23650221886af330eadf84'
         '5a76963f391ffdf0dbd81214ffa348a3'
         '78ce2b07030c0dc9cd15f19a486f4452'
         '2cdeb679047d55889e59f21287ee5f1b'
         'ff35b3bfeab7582598e2fda59d758923'
         'f905ad05e8ef9bf1132ff60fef919c15'
         'd7e0db8438025eab026a87d5765ea67e'
         'e31d587b31609e1ea6081e562ae5bfa1'
         '68cb4d8ff9694a238a9f835010a6bf8c'
         '46d2611a0878df212b1c6639962df146'
         '9c0f1f9a0c2f7d8c979fe19479c04bcd'
         '3542de1fddd80524a1d071b24af83426'
         'f6a6a0d486bf748a841ccec92802564b'
         'da2ddc5db7038388d2cfeba8e5e3cbd4'
         'cfe8faa8a2113e38953059bd3253d16b'
         'fef2cf95a5789b65f754277c92f4c26f'
         '0a1f272537be5d88054e0cc915894e19'
         '04678dd8a21fe939158cd2ab9a8774b7'
         'b41510cd3a24ebca2ef4c1d79ff8da39'
         '50b1d92ff8f14d794d354efd01b7499c'
         '85df7e701054dd601f205ae1a50102aa'
         '04f619c74d94f003c99f8513d84fcab0'
         '2ced629f97f3d756856aa964f8cd29a8'
         'e0b24e365cc8398bff77214690e040da'
         '2b010721ae438e47854f89b57bc86403'
         '192ce7de7104a3f86744dbe29bb73612'
         '2bb0bac8337d3911d4029cec4a85b692'
         '3ff053aa3a1e6fc5e2b47787a28f3fc0'
         '323f9e7a35ce898873317e40e1c92aed'
         '40270819738dae0441f7af848e144399'
         '4022e8d2a76759a8f516638a1be9f3cc'
         'b5942774974b302249ea577b12723545'
         '7d44dbd664fdcec1a6de15e196bf9a20'
         'e7d684228b505a16a11b2f771b87b99a'
         '92ab8b067a3eb7eab9254db6742bc1c4'
         '136115e98f8d5a70987fbcbccfbe161e'
         '233c5968138b8e4807336658cc4fff71'
         '1557f8a8a48abe2e7164741d236a41e8'
         'f5e985ebd8ca68873a7e4dfb7c4b8543'
         'b090d5ae70b6a11d5f2b3b25e9d9854f'
         '828591cd16be2d61ee08d5585621148f'
         'f97a56083785025a0f0461ed983b0a07'
         'e594ca0935b8c2eed22802d2df93ef0d'
         '1f38dd5bc87a42ea3e5099b26ead4ffe'
         '7f960f8635c2256b7e0c033423345ebe'
         'd93bcd82834e278b1c7ee159950f4e22'
         '6b5fe97af88ff00609aab06f0ab22703'
         '7bba792993411c7507e39fbc5ef939c8'
         'beff8c73bb748de0a2613c05a4bf2eee'
         'e7164ed448eb972cc8e22e36ba84d2c7'
         'f430d14279bdefbc2dcf5d6e29c6e3bf'
         'f1cdf90319ec6d5e93ecf59240de1414'
         '437a98b39c98a780db3319e2eddff804'
         '17d84c6a75f1ac8de00eafcc79b19d13'
         '8faf94c9e18c7590dc2b82828ac3cce8'
         '9147c93bba24a9cb54ef36167ae7cd9e'
         'f97535def396bf2396473bf8e0170c14'
         'cf3653b8fcb23e8d25b07c7a2ac37e0d'
         'db740167b4784719ee26abb3af2337b9'
         '19af9513e2df054e8398bd2dfc20a40c'
         'cdacb218ff0d68e96a19d9f7534b80ad'
         '3e955f10433524f1b66ee3e8ee6cd978'
         'f8a8e2ab40e82735f5f8dc4633bbf893')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
