
pkgbase=firefox-i18n
pkgver=78.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('96aac2fea03d27f0cd5b3caffab97402'
         '11603cf7d55bb4dbf7b82c620bc00cf2'
         'fc5d502f7c5ccdebff5976431a2136d2'
         'c1c5893f6cb5abcc0d3553ead5377db9'
         '4e23446dd21eee42e98399bc9777336e'
         '7db96ab5e2784b1ce7d5f440197d9986'
         'cb46e603c7167958aba5db609bd6a42a'
         '15ebcd412007e52d4111e732af81b436'
         '97a9c90c0e063fdafc96f6dfecef1935'
         '87f2094183732d600b52d419b30dcb78'
         '7dde4c7e6b25185093a14ab6be3dbff9'
         '28d0da945fd38e19943a23a061b0232f'
         'ad4677f860dc95d44aeaefa83b4dc079'
         '559768696aadfe0b8bd0b76abba9a0cb'
         'ece7a3e347fbbc9bfb3c35b9a55dc63e'
         '1f6bd13bf64b9b5a56cdd14bbb3b901a'
         '0065995b42b26f5aa7e66a488f2a78d3'
         '8707e983b0b3bf853123313bffb8075d'
         'bf7355ac6253a99d35d913b09d12eaa2'
         '32d66a347aca3b0f7327e7ec0749845a'
         '1bd85725e71ab0a8ae8a521a61ed39a8'
         'efffd12bc2c5a607298ba6664320c497'
         '975827696bf5087e14e4315175d54d7a'
         'bf8d00703965accedbce5654945b1984'
         'ca89449e3c8d56b677da2bd5826ee5c4'
         'b55d1e91ac4a0bf923e240df2ed3c0b0'
         'c57485b6f0b3a5b72181769d159d827b'
         '6f9880d1845fbe30ce5e1f4a21d2850d'
         '58e369021e7a50fc50ed59a251bf02e5'
         'd050b63edb85f4a0797d72774479e23d'
         '68428edf09a18b83f4189c60b7350247'
         '4c219904c53d84c9e69ec1dcb91df6f2'
         '0873d78272c0ef60d25755d9d3eed575'
         '03f358d43806ce26f1a5aa6b80e4e789'
         'c590753fda7222c3bbc2b5d75c8e732d'
         '670bfb0611c5ac69c80547072daad054'
         '407a516f3d5d4c32480efc29a28e2c20'
         '6082b2aa895ffc738d7e5506c87cd915'
         '7728fac6998ab9bd3973b281116881c8'
         'b6d1ba1673da97d65bd5d9654c5693f2'
         'a44526195f34d4410f801b3bf23eb1f0'
         '2848e46ce1c1fe4361fc275a7dc3029d'
         'e2924d4e1612c8ee1827c11cedc9a5e0'
         '0a7d21f348ded1ee09105ef5a9c5bf87'
         '044500fec665b520d490383b997e9ba4'
         'f3039e330368a6e85727583c093550ab'
         '40bb599f170a38ed8e366722349541c7'
         '3cbf75d719f9377899af50752a069477'
         '420de1b1b1ba5fa1c7ff3326b14caf26'
         'db77e8903c359822640546fd97da54f5'
         'cceb8e5e67156dd7fd42b935b27a072c'
         '72f57cff365e2eda67dda42800a6cdd1'
         '23c1ecd1e3de747cb3fa510a5a42ee82'
         'f8430200d36e48ea4cebcf181e6fbeb1'
         '1490d323f2ecee4289f8efdb7cb90861'
         '2931ea0f6173c2b97e145be3c8e86f76'
         '426dc2b788089a124b64ff7d98e28016'
         '4c133388d552faeb76005cf06c27a811'
         '434405845aa588baf64cfe1762d87555'
         '74ce8c521faf01c2765b5669e4781d01'
         '8adc5e2d6f7c102efafb169a7f1e6f49'
         'a9ca696d368f88542a386579f4abbe4a'
         'a998a0e1bb96b5ecde1dba2a7eded964'
         '6381670598cea5566b5f6350df422cf8'
         '146f034525defebbfe86d3662d03e954'
         '8b10000bcdeefb0112b2e922ed9b8490'
         '320ef70b515f05eda0592838425d92f4'
         'a564ffa332c5d2fea63ac288007a801f'
         '42b73ffaf58e1e40e82b172bbb2dde9e'
         '2d1494219bc2580394622402234b8d4d'
         '47e2613a5d2e9419e07f4194b917dfae'
         '9acdc6277b3409c57dc00cb663e19500'
         'e5ec2395117bdfd79bc73dc9f9684bd5'
         '5b064f5bab61fe79424c81073f326f9e'
         'c5b3f8a9b479229b349cfa6abd08b431'
         'bb9257415bf99954fdfdf400174946a9')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
