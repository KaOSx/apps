
pkgbase=firefox-i18n
pkgver=104.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('ee79218e723c5824a8bfab098e55fc9c'
         'ab80bc5ad0d229dc5e55cc8232bbb7ed'
         '7bed3e8d5aa3ca0c263ad9876911e767'
         '5bb97b91559106a4e376df9e1883fc24'
         '16000247ce4dea39998574b6b368f91f'
         'e35925982d170bb74fac78a14544fb40'
         'e4fa36138fafac657ee81f2399984598'
         'fef63c8766ad4061c38d1db932e7f07f'
         'd9bd916b5007f4cdce8295a091b852f7'
         '7f1df8ce227cf81a2af28ad810dccff6'
         '435d4c94a44bd4e2c40680f3716717e3'
         '03a6bb8a3c34e28242a324b7b2608aff'
         '1f61af48323935697099167f1b95d392'
         '7f8da6605dc17703f38c716254fe8c2c'
         'b780e48355dd09c7d26f766cfdb43bd6'
         '78e2e64482eb7c62b6556e5d8261f71f'
         '167014e5ee6c72617cff72cdd8699987'
         '176b7e05097cf540462d9c2fd7c8cd57'
         '0c55051a607910ac040eeca6db6974ee'
         '48e7565cd1a0aa1e4c9b5939750b4435'
         '18fd9b665176024e259b1546f1a44f63'
         'fbaa5161b0eeefeda4c543446a9c751b'
         '5e7a03e26935e5e4ab51d49094f2dd51'
         '0a7289236d49314caf149e16e3ec4145'
         '524d55c4820d45cb06a9754ed8790466'
         '8df291aeaf6f574064177b78e6b147be'
         '99beb3f5a54ad6a6fb3533043be52577'
         'b28e76e02ef7ada1f2f6647c0016971e'
         'cf81a67a467954bdee5a47d26d0b0378'
         '1a34f648da96873e8016c2ab833b8d1c'
         'b2fd13bea51e7d1d6952f9096434509f'
         '5ddf20fccf64706aa2dcc954eb37a398'
         '72b37de6d5dffefe7e3a6de1ab720c6b'
         '7951c7af2bd7cef6e628ccca182ab4bd'
         '50704ced0c169763295f4ce158369123'
         '91b2a97d448721445678bfeab316ee48'
         'e6e109c04bc724a934d56269383947de'
         '424daf70c03d27ba58a6a9e5f28d6d10'
         'bc4fb02c3aabe4feb3b228529dbb1779'
         '2d34b1ebeb02351f2c3c7cc53b526173'
         'c3a5681791551d1c13f56492a004e43f'
         'c4d1e26a15385496791c9ff212047014'
         'bf1484a9c8dc4c7a70cda26f0ba9ed7d'
         'c4548877a7aedc0f99a0d228c306496d'
         '4f82414c48b44e9b54940f5c1e99da2b'
         '9d9b5881585c8cb4d99e740866c654a6'
         '14ab8a63dd1abff92e853f7d266b183a'
         'c1a413aeae2c9ba377dda368abf771d7'
         'dba595b49980e7578d9ae7f52f8f497d'
         '5b7d1db9db0eb0d5b94356ebabc05ec0'
         '8233187f6d905e20d8251099196c8ed0'
         'e64d2e86f1da45b98dbe6c51988f3e4a'
         'f6fb3d337a151aed5360d250719e11e8'
         'bf1c4340af1977c690d0f2dd15c8fb62'
         '7ffa37f53296a453994799cc01206a08'
         '185b27a88280c4f3891342646227ccbe'
         'f03444054085b0bed04a9bc1ee1a78d1'
         'fddab5b9d202c7da35a97659d5d1932c'
         '9628c9766339db4c43d35f677649130d'
         '14d056b82edc0902853f099eb208d0c9'
         '67290f12522588b88fc50ead6b5142cb'
         '7cdb61009deb833362383ccb830eeeb9'
         'f6322d272270196bba34782d39906e9c'
         '1a8670473640ddbc2e0f21a745163f0b'
         'c10b52fab4d4cf1a846c9e5a8349c2a9'
         '444686b99fbefe4ab3b9b8fea56c0fb5'
         '14a0ded3b6ded231a2cf5f5d8fa1a6ec'
         'fafb4edfc51d0e5f28e566a80e6fd0d0'
         '73faa8d3bf7d281c26418fe45eb22ff5'
         'ce6716170f3cec060c861be203f51f0a'
         'fcc48bbd4d4cef2140d5279e9dbc31e8'
         '7229cb55eed00ce3c0772351f0766fb4'
         '4ea2279ef9c310ac58676c11b2e5ddb6'
         '245558eaab40a7c48daa7ce3a46a1f9a'
         '6970c685c86219dab79c9fd62fcd91d0'
         '126f7183ec45a1e990975dd4b6d2ae14')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
