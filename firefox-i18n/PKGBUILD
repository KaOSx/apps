
pkgbase=firefox-i18n
pkgver=90.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('1506286b53ca53ae4252d5c5bd262cfc'
         'ac8e196da18f74306ccef07c1fce5ed0'
         '2ff2e279f601bbd154fca98e771d9388'
         'a44e5437437567a987ec5080f3f2cd89'
         '26424a097b8c5e6686a0094fc794fb9a'
         '1ccd909c432bf066e76ecb3cdb937774'
         '3d33819b52a3927b330ecc410c855431'
         '46ef623ac11d89b2dd7fa9514cd8cdef'
         'b4e3d5b2b8a948ca003bd1a02db90c5a'
         '53dfa9e464d075c640db4407cb9b8f40'
         '107431b2916ec2f175562900acd2f9ab'
         '05d0afdda7c8e9730735726b825a66bc'
         'e562442223c297ac5c1e5369155205a8'
         'cffef7b29e1746a917eaad7ef5efa5c6'
         '3bb7c07d20bc051758fb0b7e81dd9f52'
         '78fa6ef163da30cd385bab27753c5cf4'
         'ce4e52188330f4f14f5b39ddb18a1646'
         'ce29334584348f5645262368ed86858d'
         'e4916ca30c1d031e46f79f0106c477c3'
         '3ffaf41f6609afbb4f6b6d72dc87d25a'
         'd1f7d05173f442e895fd04c623614c89'
         '86f7523b8d8d2719ca36ec199cdd4c54'
         '8f8fcd159221a3a1984972ceddacb466'
         '5aaaa2505692f5ee6bd5068adbbeb165'
         '1533c4561ea9bdb60977dfe3609a12f5'
         '945e668a592411c1c57832e40f776575'
         '2eb18d69d0c4cf49562e56aaab75aedb'
         '7569aa4c551c9518d0e9fa8e7ee32511'
         '623932f4a910b0929279c5d9ed9ed8f1'
         'fb3c46cc79f42b6a7c1e495ca1e8fb17'
         'c702b4d45755e7814f2574f78a8ae47a'
         'fe338897405c69b30bf7aa02565ae3d0'
         '25723e618a244382fcec112d9c8c89d0'
         'af0ada20db62133eaf3a38cd4b2f9050'
         '06b1e56993224139488ee8b394da469f'
         'bcaf722a410731d89e714a112e5e65b2'
         '5e68ed31083298f8734c95989322284d'
         '7e4cc7f1ed5ddcede1f23705cbfc1c8b'
         'c69a03a0eef396f95ea7697db9481a32'
         '18156d08932f3be6605f297a62d86889'
         'aa3c45d3cbc4e7e16cade9db50f2b177'
         '71a66b3db2530e0f998579d83b2671aa'
         '6ba4ec6d8ab4603cb37a4231db914ef5'
         '534a7d3b787d04c1d78d167d666582f7'
         'f291f39a2c6491edace3902067f26a74'
         '97deddfe103717b762496d51414c84d0'
         'dada0507f0b307f6d05d4c5f8a2bcfc8'
         '4ee768b9436daec579da41c150078329'
         '1c069b4e842c893ebf4837f08c9765b6'
         '5b2d7f534e7fdb683adf0bb61d18286e'
         'ea2f5eb762fadefdcdb03e869ab6cde5'
         '0e329da3a533eeaba01149656a54736a'
         '3cc063fe4066bc7865aa9d45b0f3ac41'
         'cddb9965b608fc854a4c45cf35b7b695'
         '6400570a559f67421a26184288142ae7'
         '80e88b861c38d738d1b6c4dd1b55c8ba'
         '8b5bcba1d5a3511fd6123aee9537b689'
         'e6bcad557c65f40c5dd9a95be2a39fc0'
         '8448de33e9d6ce2d625671dbdcab80f2'
         '7a85416ecefb0f7fa12f4a662b1838f9'
         'f60356a85f8983f2875eb0df307fb4bc'
         'd02b789bb8d5a4ba858e363554904cf4'
         '34dcc95a8cff3d7a733ee59d8cfaa803'
         'd9697cb673c26b436bcead40443179ef'
         '4dd1e9deea0c4d468fe08595bbf551ee'
         '610b5c449338506494b89fa282b2bb49'
         'b331fc450320389a3340f997ef2e0b99'
         '5e36dc973c5cffaac116e14e32997ffa'
         '2009e1a84565e55e10fdf2c104fc9684'
         'eb5596208cdeaae6786cd137ddb65fe9'
         '3a9ef63f23b98a4ca42452fa9757d4b5'
         '7e2265a0e2f76cf0e2c6bc8e5e82ddc7'
         '1f2d26983af9d20fa0192d9d5e496434'
         '313cbc63e0f6bc1529d845f7b655d35d'
         'b1656df9eda77305d58ab5de757d3a7b'
         'e3c4070ad78e3b29f5ae8e2992260ad3')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
