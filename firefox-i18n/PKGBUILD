
pkgbase=firefox-i18n
pkgver=84.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('3a0fc2e1204337dc7f6c952b8ce1f50a'
         'baddc781edb052b59885511a9167b00b'
         '47e3254bf91ea13fc0dbb8916560edf9'
         'cd157f003bedba3e08bfe00289dde0c8'
         '797bfcdfef8ab6bdaf2fdcaab6e6dc41'
         'd26845b0f5930bcffa81ed0edd15e646'
         '22061b2b341b9bd792362ee8264c9623'
         'e6c56933d2e48e0aedcbaaaaece9fa31'
         'eebf4a951c24b04e7c4340e881dd5316'
         '681af5dcf74edba3feb64387d77cb99f'
         'dbfc2d5b2a58eee0b356370d0c5d8a8e'
         '45b37a3786c5c35be7c6a5cd22746f74'
         '1ec752d84ddb9019d959ae6bda7389e6'
         '0c7e46c3740c56acd46de84281c9dcf1'
         'e284a7ead539f192656903bd3f9cb507'
         'd6a3bed7359fc320961d25f65d5ef9c8'
         '86b1e7d9ba22dc875f59f578e512b889'
         '91c82648551200ad7084fa9bb50d2590'
         'f988768aa83f032feb2c01e1ff57cf77'
         '21c9279c2feab8c06a3d89768398adc3'
         'a4ecd269125789005e680a7678548bda'
         'e9e47faa4bc16b314599123b5738d966'
         '72ad6a02f6fd91a18d0d22f8ea9ddb81'
         '1ba1289f7682bdeb9e604bcb01701023'
         '6d71faec643e258036572cb8337760fc'
         'fe676ee03f8ac88d14c9ba0d2b2be419'
         '26c66cf5beac2896a13b8c2cbcb59575'
         '97c266eedffe7feb095bdf50d8975f54'
         '988438b10c0d9d439d0965a44fa3917a'
         '015eb13b0d6b6f2fec4f7da9be77ed74'
         '383d580cd309d28481608d3f23be89d4'
         '909de41780bc2bac4a99339e76c8cf9b'
         '37538b8bcbea821a3134fccf2a8cd817'
         'cb841bbfa44cb72a0f48c2e2fbdee168'
         '0c792467620541bd57a89b40fa901603'
         '6245df63028aece8d6d9fde540eeb4ee'
         '93f267019252459dcb4cb7df542ae7b9'
         '1bd6be43fbad2e1a88a67bcfe5513b3e'
         '58949a29579c1be3f49af9d5e9974f72'
         '3fbf5d9fc568636ec709e2b66e6c768c'
         '0fefac82a503e610b86f58ec9db2148d'
         '355f216fba683c64a3620ecea7780570'
         '966987e38d4034ad4339d90fe41a29bf'
         '669a91de876081da0bd9bff971f246be'
         '41c2a265e6f169150ec1ef00f666cb6d'
         'c274331b6237ff340fe73307da9806d2'
         '7a19371b7815d6450bf715081a073dd3'
         '071894c721296d36c252454d9e3bc96e'
         'f53ddd8800a5716662e55a9fb4ec9b0c'
         '278cf449eed2b5612e838e22c478f206'
         '66f9adde4d88e11d72c8445d9361167b'
         '0625333cb3d5cb03ca9dcb0dd83d030f'
         '79ad0db835e5ed45088daa4ccc9f4af9'
         'c7807441f684247d49df69ba8f6138e8'
         '6b30390fd06c04d71c8dd97daee82eac'
         '5be65bc8bdf8301a303461cbd29eb85e'
         'd12f01e992dceb8196668127ad80e1f4'
         '28c874aed182242cdc1d13be1dd8806a'
         '4d541a870e23d6f0f8cecc99474d6da5'
         '2b7aca8b5767b9d41d29ef9343d61b9a'
         'fc3db8537737a30cbdbf697043857b1c'
         'a816a9f0a2fec559fe1dc2c4fb3dd077'
         'ac75aa59ee7364cc0e21a8e6465d3ecb'
         '6cec229d549380b6be7ddcc04daba922'
         'a7b2769db70a1770f8705d5a80d7fab8'
         '9501e47f8ca2fc145e9a2ae68bfbaa7c'
         '997c821d5e96245dd1ef2a792f1bd514'
         'c607129625fbcc466b57c06085f81ebf'
         'c289dfabf3531203bd680faaea9831c5'
         '8bf2c2d05ae8c269e09c747959286c61'
         '8263ea8ca5bab775acf4ca3e2319893b'
         'a4e228af9fe85d32e6e45af68bece333'
         '6dac69c58f7ab5c5110f217762bd8ea0'
         '1ea1bbd707cf7cd2b4e48b1c85670985'
         '24b10f0e3f927c58d89d0bf5d0a0e278'
         '484026ac8d6569a6e0379193e2c3a827')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
