
pkgbase=firefox-i18n
pkgver=107.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('23fe6d672e0437a38fcfa40d1fda4312'
         'c66d711d1993e72e357110754346e3d5'
         '5be9cbe6a0b2dfcf019c39f175001413'
         'c65faf79c8f87392861c95af4f71414b'
         'b0834a8ae9c149ab35b1b04de53da660'
         'b3833baa27846356094fd97b5999e191'
         '4e103025cf956cb542a84f58edf68fc1'
         '8c340c6808f7816103ed5a35529238a0'
         'e1e9811d951e8fb2fa1163c8ca205f40'
         'c9e77a8ca3210f66d92f7b3fb2ec88e9'
         '91275c1f028e48b293630714f5891ad7'
         '9a647656a07d1744831931525e11085a'
         'ce6cebb8b6d9dff6b157f7e9d6621d3d'
         'ea4b0eda15c4975f7adda991a1f4eff3'
         '1695fac8265099bc7e7bd13cac348484'
         'bb75cb33d2d1918d932f23b3864cdbee'
         'b5991219f98d9512c5e6b60b856c4844'
         '12b086cfc16c48937e29523bd836259e'
         '94b4d998bf465ad9b0e120234bcae8ee'
         '7efbddf272da9989e2593e52978bbdd3'
         '99cbff10ffbae3546000f97c9879faf2'
         'df704bc60a22fb5746cb9c9691e83b39'
         'd3a98ce81938fb1aef463772e9f6e37b'
         'c210565832c3f03b9d671bc4f4e6eb1a'
         'c388bf7f33fbcafa96a9d112360a09bb'
         '740ef1ebb7e90543f1fc7ed186fb1d18'
         '447201cb46021283c38fe271fc5cfe11'
         '99614e8d0077cad386df431b6db8d70f'
         'b4f8b9c500452720ef06413d9a73a7ad'
         '3f1459c12684b4fbc7c58ae5858227d6'
         'e4e5c64f12c30f89a118b988a6430f0a'
         '4a2cccd6dd891ab76fe8ab322868c9d4'
         'b982e51986a3a7a6e222000721dbb670'
         '9ab6c15a9756b5c2fa19967f05d0d790'
         '06ca2c549356fbcb9060d26c8c51b12e'
         '759db6b99a5f59444e634743eb06c5f1'
         'b72ece7c3754a38754d01f7f23535021'
         'c03e44dbf0da0548fda23c55525a29cc'
         '2917964788cd77da050e0989f2f22df4'
         'b765db5072176fb2ddde33bc934d7da7'
         '308355d255face3a7fcf7567c5da8b7e'
         '6ee3a53dc1de5661297d32256383e83d'
         '5652b1fc7a7d1914109dfdb9671b86ce'
         '1fb2a618852a738fab73ce343f93ace2'
         '6177c652bb1f41a9f1ac4070209a11b1'
         'dd1047fc888939f7e641277e0307aab6'
         '637115b98a1bf2393b0052b7a94c7985'
         'b1fdf241d5812f4eced39d0387f23f24'
         '5f9b55badf8e2c5f7702f2a564c891e5'
         'e78703cac5d7c7b062e3b782261c5ffd'
         'e2b4ce7ac96031dbf50cc9be17551100'
         '8141c67072563f61623a327613d05da3'
         '91d1cc0662d19f25e77d6a8250458099'
         '574664c8d41b5162341245df45c6f3e2'
         '0409a7b277bb4d9385de331f44f00ea3'
         '4f884a929f198c1e0a2a0107bcb9b1ab'
         'e1bfa63163b432fb3b8dae10efc9850a'
         '833855d39cb8dad4f1794da7f3c9efdf'
         '2c9da7a12cb92eead5506d94729a833b'
         'adb89f799258865efd9f10b04e9a09d9'
         '72a2d9939de5051b47a708f5804325bc'
         '61492696f6d7140e15c7387ff6e200eb'
         '49309804404040dfd6006b606331857d'
         'f5d9e898a4479f85234c75679bcd38d1'
         'ea70a2b148c78139077f197e3c900a34'
         '867e9ccd8de27b3dd30c81e689a1d633'
         'a84b5ae5726736432966da211a1e96a4'
         '261a09ba876afc1e82e575b8528f516f'
         '53a71b615f13f4ee586991e4110f507d'
         '3baa32f569e881172b1a41aac9c845ca'
         'b6c6610649a400d63f31d1049b32f821'
         'ae0899d74260c61f96f6c20294cdd86a'
         'ea4a849f922790884ff2bd406c374262'
         '8ceffbfe1c80ae611384e742eec537a7'
         'b05514f8a93a45bca0f7e0bb547b6bf7'
         '718848f9e543a8705bb66048d69aa427')
_url=https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
