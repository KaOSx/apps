
pkgbase=firefox-i18n
pkgver=26.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  'ku     "Kurdish"'
  'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('ad25f0902520f7208fc4aaca526fe572'
         '53f57d7fe525a5fd29dfd553023bc6aa'
         '07ce7ae754ef0ca6d596c0f8f60581d3'
         '00fc3955d5a4e44599e029591963c6b8'
         'f5531191b0e220d47481a255641d2619'
         'dfa394a37918f2362ea7a8ad2b4c9956'
         '7dc95eed6b0a5ae5381d1042c2d7463e'
         '6f6be628428eb53c78fd8e717862987a'
         '3716e94f635eabcc61f4552733bd19dc'
         '01f9ee620f54a8ed3e8f0c0a73cf4bd2'
         '870b7d078d052db4ec4c26c705c0ec87'
         '0a7463b38d70efcbeb52cfac049462b2'
         'afe23e5e04bd9e65f50bebd7ab6f9a64'
         'e67dde7b9b8ad06d12f5e2272b309a3e'
         'bc04942a11c73a2c567ee09abf3d94a9'
         'ac9080b4365ed93f61067c975891a5d0'
         'e7606d63b28c79bf49112e1c9d83b53a'
         'c0bea221ac2ac52c9d984bdffd57a04e'
         'a19d7a1cd2359f313c622d674accc745'
         '40b3c89a36636379dba7f3582adee6a2'
         '7e3c24481b412239447fe8f246a5f0c5'
         'a9bccaa475b616c8fc5a6bcc94c98e5e'
         'a10cbc8ade0c36740b4701746812cf46'
         'e742149786e22e8a8c321785e25830e6'
         'cedb9106ad8839ef6bde5b01f8e2397f'
         '656681528d2389f39428434538cad9bc'
         '2f3cd9c258534a4b4b99762a1939847a'
         'd229e0a9a9ba21ca2db50155c9a10a9e'
         'ab05a4bfcec81d739c4cc0748f9bd83e'
         '791003d0d126dea9e80e1c02e0d1ebc6'
         '95e41b43a5797b31912192278bcbb6b0'
         'de984944f133c8baab5e8f0f7916cf44'
         '3999c7071f5897b5080d01e93b6acc92'
         '35d8f3ec1ed8f3ddb223052d49da756c'
         'b1842d5b3684b70e26c2fb4bd3509a2e'
         'fc7f35b30e96507aaa8c766d98e71bbc'
         'ab9c6ab45cce58a5c2b6880e9c67fee0'
         '052ec38cde4e8e41bc826963516a2890'
         '3c12ecdc81d63cffaa05d531f04869a4'
         'eb69998cd1f5b3e4cc91607afeff9658'
         '5b0892798f7ee97fb3a41d1e206a39d3'
         '45015c41af51a738e82192ada84e548b'
         'dd64ea9fb078ff0d31388ec300024570'
         '959477343ccf875b13c6616b99b17777'
         '49a6ef1b5fd58338e174603a14215f45'
         '492571b6fc511949fa0d1486b1c6ca10'
         '7efaac868a7c8235fc4efcd9a79eb57f'
         '610007e7d3f7ddb57fc035ef3c8ef86f'
         '7376a7fcb02bce1e6d486086de76f3f1'
         '9b0cab76abc8e8eb70dfeffb80e161df'
         '72e6426e22bb51aed7c5299e8030c0f1'
         '367b498a346e7c06d98aa9f83a7f63dc'
         '10b98573485796e3351be70ce3bc4956'
         '17297d5562f84014c3d6e316dd786855'
         '2ea2fad1ff571a8281430696d1b6c012'
         'f74de75a684a3f3efd4a78e371c072cd'
         'b7b8cbd12638c532185140dc1efb06c9'
         'bb27c477d53b8e5cecc4d3dde1678bb8'
         '2e5a22a69c1a2d22e0e7990065dab0a3'
         '2f2f6e48a5a20304ae1ea36f1e58a36f'
         '32cc6371adcdaaad2c7c94917ec66c85'
         'b173b20d939bc17b0eb490628831c159'
         'b9a30700ef1b60f248ffcb91c2ce5fdb'
         'fd283d160cc356806fedb259d6fa6db2'
         'd320f7ecf7d46396ab2f66379e17e9f9'
         '7eda48151fda7f77d8535020f25671b4'
         'b2b22eca6e20b13f5d589dd2f73e3502'
         'fa177bd3ec4b1d901dc6feba9a62a885'
         '28e6d95e8dfb25bb231f319a1e6c3e79'
         '4f1783b0b9ad64b9ba6e0700708315d0'
         '02bfdaa2d84566b12300bce141a5e64d'
         '469f2c2f9de8e1d5590d6af7877117a8'
         '7fec75319d06f17fb8c68ab496d2f9ec'
         '64d09602908098e33f0cc8ea933ca159'
         'edbdfe8446b3b06558dcff547facc880'
         'd3c8ac9e471a3d126b0b5060781e68d5'
         '61e4b54f5aea6f55ee0b5bf6069ab4a6'
         '9d2a69331a40e4d9e09e68787031f256'
         '123c11ad2d6f6b8a6d3a8d6da3720535'
         '2a3049cdbb6026d28884e3695c382360'
         '13fdaa6d0f88d834d592ef90def37401'
         '8ed8688316207cbd23fa10aee778c55a'
         '6bbc90a1eedfc25938e65e9a8b49f952'
         'dfeef9b402885976b61e51c3947f5282'
         'dd878d27bd6f7ee36c7298d53b84d9e9'
         '4cd8526f9df80ed2b3c4e9a3569a1813'
         'e26648a6a12ac56bb8fdb45c1fbe629d'
         'b37599720dcfd7cbf9ac79d3872f9512'
         '709124d5d45d8fd1bbf4944afc686135')
_url=ftp://ftp.mozilla.org/pub/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/opt/firefox-${pkgver}/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
