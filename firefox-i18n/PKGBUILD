
pkgbase=firefox-i18n
pkgver=129.0.1
_pkgver=129.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('d0b374603c644c8fb7b7d1cbbab63660'
         '67af842d9c3360c90e4b76c9fbb58275'
         '4b885ec0edb0dc2957f72b61e1314e59'
         'c2451b7972ae4c0a6b5ce1c759c4f49a'
         '8037307cf00a93d7c89f2256d005e3c2'
         '6845cb788b2187a7ea3b27b5fffc1617'
         'e6d1aae073765c463a28cfb7a9f2720a'
         '26a29a67ad6beb1f6a6a899e4f492c89'
         'c939b8a190f74cf2d21e4b584a79fccb'
         '5c8b200b627e6f8df4cfbe42f7c71e8a'
         '65ac09b83541321de1cbd80063d1084f'
         '7a0f50dfe403fd86576bc1dbc11b6087'
         '0b327eeb9c16bb4ae453bedb94edb71a'
         'db01f43cf1034a802ce4fe975b5fc8a1'
         '80cbb54176c3d8ffcf21368a81b2392b'
         'aa2fc80b6c99c53037e86a6689ff8373'
         '640e75f2084d5a50a50b2d1971707417'
         '5c0d6ac9f7aa77bd6902b1de11efa3ee'
         '6fd722651d43cb841dcd384005a193a1'
         '1113e907c1cd74c9ffce42808d2e951d'
         'd3199f4513ff8409a1ef1fee1f247d36'
         'e57f77e05d9cb5a5a8a8bea045dec218'
         'a250c5b18f6eb62fca48cc1499b47eb7'
         '6a9a17c9c6e89ac90aa30667071b02f9'
         '8cd0d477d226ff8bc82cd82339cd1a6f'
         'a81870046c6b9cb3e71e7fccb99bbde5'
         '5846f3792366406461b17fcad29234b9'
         '7d87a436dd93e06047079232d6c31fb9'
         '776a27eba9391c8cadf8957370de9261'
         'a0f154067454dd899f7c8a05e4e89d0a'
         '268df096340df7e96814b6d5921f5d0d'
         '7e317abcb90ebabc539962eafe3b34b4'
         '1eabfdf405f6b2d1045197b44cd59069'
         '6ca6383ddf798a57ced7fc7c969f52bc'
         '8a4045eaad94842939a8c1e642d7996e'
         '6b85775c0f06b005ea5346d39b83d7b5'
         '073ac888a284812088debb4013357332'
         'ebb968ad5e62c57746da0c79e864169b'
         '11bf71501256603973fb964a7bd8ce72'
         'f8d267640dce207642bcffe87261d114'
         '6abaa4c77290407880c4488222868610'
         'f2e0b37962da7b6848c61bb992d24e70'
         'b528a8a6fd7c78d78c9e745e33e716f0'
         '3ce77bb5ae113ccb67287f11018fd6ad'
         '421830060f2ac68ef9abc542fb68d993'
         '2d37d2a2d0fdca496a0332fad465a3b2'
         '113545812b891c40681439d2b110368d'
         '4cd86442cc9bda633cfab985f3dd36c9'
         '5f2d52c32a2f7e14954ecec1a3047677'
         'a850db671aa0daf30dfb04d13dc3721f'
         '13de77e6be6260092b3dfb7ded936020'
         '99ed2b3087910f04205672b69e5ae75e'
         '892e2132c2a586bc8250fac5dab72346'
         '9958afe2dbb1dc2f0768277744c47e1a'
         '58ca0cc15d58547f0f7f114841cafd9a'
         '1e34597d30d816f702051a7d87f48a39'
         'a9e617dbff796c4b7e70f51e9e844f45'
         '2bdd83cff6f04beb23fefa91206671b3'
         'eeece5108f2d56aba92f022f8db213d0'
         'fb0a1d358fdb79eecae33b9e80999368'
         '9c54d892cb05706bc0d914fe44e001cf'
         'b01e06f3bed95690e2c952361834bbc3'
         '59277bc474ee9ff88209923d44f01b88'
         '2fbd7cd02561d18c6d4034e2dbe4d763'
         'bf6f964841e23744cdf0d3cf0c2ce0c4'
         '9329ed6d7f536d473f32d656a74e1b1b'
         'ad471bbdb0e9729d6b04df59c862273d'
         '7870f1e8be403f12e022bcf969c93203'
         '646c5334b16024e246a0da6e20554409'
         '07c6a974701f1adf0d052ca9d0f981f1'
         'f9b23aaf63eac184f3d70071d511222a'
         'ff1f88736afc0e12900f1ad9286fd8a4'
         '79f5f491fb45b24de9eb916e34485949'
         'f4d98e821dfc99097be80444173649b1'
         'a69d78cbd039ff53aff0330ee1a5c1b4'
         'c9661b7f40cbb4b86ddaa898b7c79d3b')
_url=https://ftp.mozilla.org/pub/firefox/releases/${_pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
