
pkgbase=firefox-i18n
pkgver=118.0.1
_pkgver=118.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('c37a8f2791c5d3b31582852814bde603'
         'b4fc2952329e0dbb4dfc9b6bfb58865a'
         '6a78e6b05a92099bc8d622825453be03'
         '6bd26033e6c1df5f0c26b8b0871d6c40'
         '8a9b8236b483b7cb7cb8f21140b5457e'
         '4fe30e8b1345cbce92715b99ecca6b6a'
         'f3a75c800eb02e6ac7c7133ef7f775b0'
         '336a67cd28c4b2012dc40128ea8aee7e'
         '84ff4d23722cdafc39984384193a9e12'
         '38c455d1ddca19006b1ebf0e08575bf1'
         '2a98e76598af575e1fa26a7dfb3947b8'
         'e5107aba26636b496bb66244d4ffe0c9'
         '0b1a89acb317047a4e5957be9a453140'
         'a2cbaf4e45560ee9c77a4040503edcb2'
         '15564c4c036ead593d6fc1efeba39240'
         'f57392c74140f07be6fd43e6b722d82b'
         'ae71e8656e2cfd4667eee5aa09569cc5'
         'b8e60047c91627aea312f612a8c0b9d3'
         '0975c75ad49eeb23848f994fdfce07bf'
         'db41247020dc2cd43402dc99a2dfe51f'
         '1f8823a8b7ad83705585f2ae73d4f818'
         '12816f7f4420977208f4dda9de1dd80e'
         'a3971ef51a58307bc3da2d53e6aeac34'
         '10a4c12409e5a50e8475c4a10b8d5041'
         '2e262bea8eada66bf34b191fbfe5a683'
         '397e4121b6c17718f1960d58f8f1d5f0'
         '593fa877dc12191df79ee7a893086397'
         '33def68f41c02c219c316a8dfe8acaf2'
         'bfc430c3d6a83bafab7c70a8565f7a70'
         '7ea92ef3c7f7fc4910b6e2b12287a9ff'
         'fb3cb421727c847c7add280e7f533951'
         '98c9db5fbf238fb063176dc42c746e91'
         '3beb4720a4f3e9634eb3d6e1e2676772'
         '440d3f90aabb80aab301245ccaca2a47'
         '8cfb3873af75c67110bfabedfc91c5ef'
         'fb6e646481ee9a3876015baace6675a2'
         '7869cc91296a6bb10edb8394e59fae90'
         '02916c13465aa50bb0ff89344e502e2d'
         '214515405ba572149259e168b6443760'
         '45be175a56c636b9ec8c6e17f6f2c829'
         '1c4405c47780e5009513c80885d7edab'
         '805d5b0bffccd810475fae63a5ca493e'
         '6753a410b0786922a8faf4f5c8d12c96'
         '5b73c277103e5f57b8edc546d4f42e14'
         '71f473228d607e82915ab23bde0f28c8'
         '7506fcd37f60b2b9735e778c5f2e9399'
         '602e2f88e09fbda132dbd85ee043543a'
         '865447ef640f0428001a7a6aecc589f9'
         'a65f9fbe9af023c5b4ebb00b2f8a7217'
         'bd04731eeed82a9c2fbfa341efeef55a'
         'e4438d3b248a8f762dbab7d1d60569b4'
         '546e038a8331db8efafb7e20a6670e5b'
         '71183af89839ac30bf9b42803aabfc31'
         'a90572b1c4d771da5913a02534e9727c'
         '06fef4b0e7f3b2b0ff991e5df8c45c7a'
         'ddb93e11ccd52d6b69a9a945fb0803d4'
         'd5784b3bd09120a5792d433035f599f5'
         '0ebd3dfdad94d8191212056f51ca175b'
         'ea8aa15174696719b6515fb4cf180a68'
         '2e4c9e019ceaa7b8ecafbe74d40f561d'
         '2fcb41aa4b927d644123ae533a3f562e'
         '5533fde6d2bf293c9f62a992efef9397'
         '3d1ec1b9d05f17f22db683e7b0de9d87'
         'f8d155623b6001f71415f0d8bf6c3aa4'
         '67cee352bed251aab0485767d13ec09b'
         '245ef27435e85f362dcbda6851d750f3'
         '9804af3c0b2528e1f54eff0d4c569290'
         '021aea32ca5a65cdd635b07a84faa72c'
         'abf1ccd46b030759cd7595319203f634'
         'e89068127369b16568eabe1c31fb7a76'
         'bd4f0e20974d5ee333b2e91132000674'
         '9bea2b66f2b8c4aa930bed001e951520'
         '28c603188ad872a97b6e12fdf5acc729'
         '3a6b3bb0228a737331e8fc44460682f9'
         'cceda53de467a98e2052241a6d01117a'
         '9dd28b6858bdec059a829e1dfdadb3a8')
_url=https://ftp.mozilla.org/pub/firefox/releases/${_pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
