
pkgbase=firefox-i18n
pkgver=94.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('2da8fe22e330d5eff5e36e5fbe8749c9'
         'f14a8fcec98b5601623f7b85cc97e95a'
         '76c6b19d888f7173559577f76018a782'
         'e5edd087b8b88946e9a639d4b9715d7a'
         '628eaa5fcdb48eac79f2b002f4b284cb'
         '8afd82d1bae5eea69103683bd9ec4057'
         '3b5875a898a56c1819d9c01ee2121b31'
         '2af1b33929b567141292f24366920079'
         '639bc629c9b217512913a9bdea6824c4'
         'f1bd42932f5ea0408f6b5ab12f7375cf'
         'a94704e18f22f903757248295416806b'
         'c30601bbe5939f8b6ceff5fb6657596e'
         'd16cbc940e357b0c06b36d794afe18fa'
         '77904183a00d132fd500bb901cd44fb0'
         'e36a227ec84c3147305b69be6cb02937'
         'edef3c748b4972d2384c3904383447e2'
         'cc145609869b8c9eec9abfa4dd8f8747'
         'b008faa27b4106d50b4478d366e3ecaa'
         '68f545767aa16d7cfb9d0dbce7b6bb51'
         '95fa97e388b543af51226ec42e3dbf01'
         '093683c6fcf3137f5bfb0f05d9abc238'
         '6404df021ab526c71fd3bd73e6343104'
         '24825ed94afea6f99e79cc27cdf56b59'
         '543027922573aa9462057e596e73ed33'
         '3db93ccf124da466a7518e597adab21b'
         'a950cd7472fc22dadd73bcb4dc1e6e77'
         '9c080e1a8861c165a6cd2fa726df572e'
         '03ee0a27f9d57fa6a8c9619174fed4f1'
         '36fa93886123ec6a324bac5fc3cd4838'
         '2ff95712c4685690f6ab2e555137433e'
         '9204b75b65f7136f65c1804b06441930'
         '83580a1d3708a3c545f5806ae2e1918e'
         '1fc9d16df4a2c96b4623e80bac6f1e7b'
         'b3a82a49c5eeeabf5cc2f816572fb21d'
         '3f070e15ab1ab58a197bac873b944d77'
         '0f629df39a6d834497480fad6fe58a54'
         '47e36e241aeebb3c673aa4fa0818f07f'
         '91e0c7cba8f7b52174a467677edf8462'
         '8f6cab9f1ae1867b6af811128eb34623'
         '41ef1fc861a807d1c3283feaca6b62f5'
         '6404b73fe513a5691a65825a72999980'
         'd205447e53e51c52073f957577bd5f1f'
         'a0c6051791a33e694446fc651435d5b7'
         'b550bdc1b13929d63299f655949b183f'
         'c4452da629775befb22e45db6aded12b'
         'b257bd21fd255c95c7aca52a6906c0e8'
         'aea36c86cd07d3462f3e0219118f76ac'
         'ac6deff27acb31054c1fe3e5dd5a2051'
         'ade2fa917b361c91164522fcc625a3be'
         'fb807a6991d53234a4197600255a7ee8'
         'eaf20caca296fadae5e54f7739ba881e'
         '6d8430f3cadb6e4b868d1e895e53541d'
         '6e7629f340e5a058f568bc53d01aedef'
         'b52cbb2974012675421e722954a02fb9'
         '056cddbd60a8f04249b43fadfd3797de'
         'cac40ecc853879457659638c136f1d46'
         '7ff3a6bd81701249b8341bf09d0d28ae'
         'cd2e8f2839024fc2cbecc69fb9d4b216'
         '07b9e97881f85e8475ffe09406f6ae46'
         '774c44652402afe39ef29c0f3b2a5547'
         '19b2ca275b2bdc64912b37c65a89ee53'
         '3e480b284194b29a4983ff4f21dfe2da'
         '5769296801a61e93581abffc0891bb62'
         'd3a481e259ab737e16503c94b6b8f026'
         '6992401715fdb7f82fad941397bfa15b'
         '5385873a3f1fd0a80ade3f0cd37f407a'
         'd0b424ea32f4043e047353ef2518c94d'
         'c1b2bc77296d39ada288383dcc25ca09'
         'f77f29784f59babd9c8e75e03ff712e4'
         '912c36909eba1f808462375fcaa7f266'
         '5a39336d03de39d468941f3ac9d8c580'
         '8175aaff7cb940b2d075bcc9b2616e6b'
         '8024d453b8adc8bac57b2ccc50fa543f'
         '14736f87b815378ee493d1e541c2c8b4'
         'ad75c98651053757783a4a39f9c1e86e'
         'a25c24c2ebb2e195ef916f5f6be41b44')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
