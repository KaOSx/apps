
pkgbase=firefox-i18n
pkgver=106.0.4
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('65e54f91c2b27cb61d1eff5fb473b608'
         'a21e87ac19d792984d0bb068f31e770a'
         '6f797b0dbca32df0eacbcc4fb7fd3a3d'
         'da25ea83424af04e6189a21ee3fcc92b'
         '01b9f149123e0362b52f1346d1fefd22'
         '4ec6a55da816453854c13311919730a8'
         'a0e7fd77c3531352f8561c18078267e9'
         'a40cebcd073ac8f4b37a0161552b966c'
         '55e2a9832171e1112f7426fb5d2f0fb7'
         '71e00788a1a32529940b4e2b45d3b1ce'
         '4fe23e9a2d826e250d31b86c2af37a63'
         'c9e834a0d91d85fe5460363f591670f5'
         '325567e86e6218a0de35b3190fbcae96'
         '7a32bfe44a385f0eb9c9af16710ba31f'
         'ab2284d069a2a1ad3c245960b2a11b7b'
         'da8c74409cfa5a372f8c485969b4d32b'
         '63f94c83d0460eff24c7fe3823914ba2'
         'b89035f9dadc2de1e9cb455baa6c8b88'
         'a5ea2ee11892b1792084d5998b83cd76'
         '0cbb44ed02765f72584ae84d18fcb947'
         '94e3ff9eb58720615a054c3c54bf6786'
         'ce05d04b5740ee64b298e99d4fc05452'
         '5961a2779f70135e822652f1622c8fcc'
         '9802c7a6c207a5192a8118634b91ed05'
         'd02d373e773bc64dd853b9768b34714d'
         'a5044b81909566764433e3a7acb883a2'
         'c68e3350901ede6a01a2109923c23e1c'
         '6367986592790d12ee701148c3d4efa5'
         '681822f8b8b5b2e0d2c84b2b6a8441ea'
         'd66bb2f714b157ea4f1203c0c3c159d2'
         '580299f3bd77e2c70fed0dfc92e2e7e2'
         '20c0986de62ea61686f6186ce572d3b2'
         'c4d7656ec484cf2a68025acc4e539cee'
         'eb1a3d1cb05c7f2602413d0faa746edc'
         'dbd3c3ced49e0bc626f82f73a266b21b'
         '3bbbecb2d3393123b8d5462d0d26c728'
         '6cdeb3bfe9d27372a347f52d4a81dea3'
         'b59c4f850e3389fe99ae9891dd66b71c'
         '0c1d93c0c6ba78677c0c97a1d1329268'
         '4af9bbc51af681c17d87e928aad5e9d7'
         '2a6c28f9174b9b5b8c1fb7a6d85e432e'
         'cb3ba65529525b7e4f00bfb1b57d46e6'
         '13540c700cad56b09a7d43ed2b73bab5'
         'e55916c04484c7ea4290874277a58e58'
         '1220a9a5e545b167324f36914f34732f'
         '075ba44f5ff3aa00dd4d3b4d1cfad60a'
         '69850a01843418261158606fab8720d8'
         'd8b9bfd326a02ec0827cdd315619c0a0'
         'f3920a3872102a9d52afb4ffc8021a4e'
         '80ae19b1a2b6b148ca99231dd8565521'
         'd75dd8a915e26f1755865125086276b1'
         '2e1c97a6f50bb45730ea60a3dce92c5d'
         '195c661b8bd63fa3ba34c4e5bd26810f'
         '8356d90995f0763e9e049f45cc2caa72'
         '5865b183d3df212b8aba62adfcd33447'
         'dc1a4a8f493f08fe301b93063612ab73'
         'abcea1679e2ffc9dde58f83709b35c70'
         '7aef3063e85bad9ef93cbd2ecca96d2b'
         'e10afff466442e105573735eda53b717'
         '8d53611fafa48a31ba78f8d5b3180937'
         '69979952e8670c62a92a69d94de0fb78'
         'f5aa87eaf37cd6f6cddda175f6608677'
         'f7b98e810a2175649de1f964b0812153'
         '5f9730ef67cad2aa0d0b87a5f0945bf8'
         'fcda7b7f84f469d4646d277399bc066d'
         '1590fd2db8e349df4a0ac6d3877a5bca'
         'a99df3ccb03af5d9cf328fe33cefcf1b'
         'a53a2cc8839e788c71b567fc7dcdc67b'
         'f648078a65ea748238241cbb7228c910'
         '192db81289315c6e502646816769f381'
         'bf9d3d968601022d9712e2f11bb16507'
         '32313df8504dfe585c752c9b89cdd6f8'
         '7c25e770688579fca574912b5fda97aa'
         '7dc23b3306cf00768981bf74685abc2f'
         '86076ed7b22b21e47d3f3891f8e05456'
         '7c7b6cd53621528c9e6cb3479e92b092')
_url=https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
