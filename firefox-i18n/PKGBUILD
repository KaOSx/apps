
pkgbase=firefox-i18n
pkgver=91.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('1057ef0b2e9f70350de3b44f3b8daf82'
         '8791757299e391acb57d99455e047647'
         '6c02a632b872d7930165922d95bd91f4'
         '38ad2cd2b575ffe31b2f1425901eefd3'
         '2974a768328cbb8f255fd20c92c34b57'
         '4bd06f0f727b8fd5ad01e5891c1a2886'
         '419a79bf9561ae826a47614f77bff4b1'
         '4098fee47ec359f99b616f48c2e0345e'
         '740e84012f35cf4a67236af83822f262'
         '8a280991fc4ba0ea0bd85cce305ada17'
         'a315f66177a54957633d8c372229c692'
         'fc3a3e3fbca079242e4f86b906389dcd'
         '877711ef466caafbcaa28e7e7937559e'
         '313fafa2871d23d0f1b83179e9052caa'
         '08ffa405641e5d57f5d94da64931d9a9'
         '3557761cd98ad8fa3a51b929312903c4'
         '9df14642602be60b8868cb8d3eefc6da'
         '89b1b894d9eed9c591400d72f7c9d6fb'
         '13c444f3dbc0a46a4938a87e91f23ccb'
         '8675c1ef15c5ed88bbfcb2c56956faf3'
         '5b4b20893f14a41438f3ff3c47bb8dc3'
         'e187b18eccc3769d168205be16def8f4'
         'daa9a25fbae3a2815224db935f6f8514'
         '27ca293c21a65f2148060ebbf2b5697a'
         'b016fbd80bafa9d4c009f5865336a5e6'
         'ee189a21234e9046f638bab6a6603875'
         '8fdbe07b9038ad04c29d9898aaf66eab'
         '1fc1f3ca3461a00a07c385e2c7f177c0'
         'ca2a810cc3b7b900411f401045113f88'
         'eafa66e0282291b10694d4c0110f1e78'
         '32635bc6922b43e567d01c896f697f46'
         'ca409fd20aea5a4c961ee5c60457f561'
         'cda128fda163059b7ec08bf0a7d17169'
         'e058efbf9d813dafa14e649d9d853b4e'
         '93663a4dd38d60a785bd77de30acf6ed'
         '02bfa076b1ab5236df985087f4e0034d'
         '840c0bc57a54285b363d14af0773f2a4'
         '2383e65b4a96649d8f770b1065bb8efb'
         'f65b515f04af343f0252b562ddf54af5'
         '5289209793c60dfefe392a6e7a5e7001'
         'ab6c928279188911ad09baa7b7adbba5'
         '46e16ec849b2ce7ef191a65ad68a30b2'
         'a349588b964e30c47e1e32f47e33e717'
         'be70caa217fe67a2e5f11028abb6e199'
         '4d1674f106a6353d349be1bb6652d4da'
         'e51cdae18748fa9581035fe8242a7012'
         'f39741119a7f879e75649b8b8a8bc37a'
         'dbfc69d40cd787707bdee6b1d8218018'
         'ff7efa477ad8dd880d78e0de8ebbfbab'
         '32f583ba13bd25663c1571d291d86c1a'
         'c25fc52b2a078ef1a083ffd812028f10'
         '03523495b41dd711c9c06d19d3f1bb34'
         '2fe3ea477007027d2575aaae1457ea90'
         '9b31c6974e224834f731cbd580736533'
         '9747ac6dbd481a709c332fa701a18be4'
         'c28477bfe0d7a5cfbecb904c89c10a40'
         'cb8f59e8c779b96c8991b59db5169e6a'
         '5067e06858f5baa8539157877b5cc6f3'
         'bd9c31f26d21234aaac39e9a44e8ec35'
         'a141069aad39653bd4c26d04394c7fbb'
         '35580e07af591f0f4786c529708c40b0'
         'a0ac15087c7c6067d18f537956628f85'
         '849e0f962b8b89d0ef0d47bc24a83551'
         '1d9bb8d4bae7468ac5669fb77943c7a7'
         '9e0e099b695d99f97719960b5694c5e4'
         'c1bcfe98e0b4cc81498f7dc440403093'
         '90b423e73dc0c2a098ae672c29d54306'
         'cc9a1bc0517c3103a47b750669d7ef01'
         '08f0d6944d30a762a5350bc948cf0780'
         '3bc3e7bd00b2dbce52324005b95d7d7b'
         'b59773438e40c33a1af1fc5dd066923b'
         'b9ba2a2bca7886aab395141e8d8dd8e0'
         'd7b1ec6f90a2bce7307464560b18f7d0'
         '2e8e43383182a528e5f7e10d087a9739'
         '4070bcf9909f20d3908498f1b52387fa'
         'e2ba75ace70a03316deecd39ce1ef89c')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
