
pkgbase=firefox-i18n
pkgver=114.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('c45004951c6c103966bacbc5bfa6465e'
         'd459c562af41cdfe849cba052fb1667f'
         '018a876416901fdf21c3443603ccf3ac'
         '2405933a6534ee8ce8711ff5a94baf40'
         '4079a15bf9fe2bdc9b2ccce627337f08'
         'eed11aeb2714230ee8f1695f1607107c'
         '5c781e1ea831797ff5990388ad406dce'
         'd71e2b69ff5bf4a1dacf625e38e000de'
         '2695393a5633a8b7a6ab2d1f59a460e0'
         'a20f5502d8d780fd6dd8b05f1b13e1a9'
         '100d3e325b4e0ea4b8d3cca66b67f5a1'
         '05a876671b8db71c0e65f4c13f4b8679'
         'ac514953d0faa479edc821456d45ae94'
         '9995e11ba459120bcd9ff0438ff945a7'
         '6ab2907bd7f6c50a6cefbf08b1541447'
         'fae964d999d915de7173980dd5e41334'
         'c20afeb7412eea34257d2b0bcbac0a9d'
         'ac8c4b8779cf775fbcba942d7a141914'
         '6cf45ec8293c7867eb4b132c6e94c1d0'
         '2e50304dd5d63b325a47bc3b94cfe079'
         'aee818419f1861432ff9237c23b1f99d'
         '879f6d55d2fddd7e4615ca3f40fc67f1'
         '65fcb871a36bf1e30f41a935bc03ccef'
         '9f8a72d27cf1a1fa6ec5e78dc77ffacb'
         '5cef621df6e19a2c8c2b0de967cf9747'
         'fa243f6e676fb38c6020e87a04240c78'
         'f9f3b911b7c74f9acda81a80d195f5ba'
         '7a395a4c67e76f57d520748d9a449e5b'
         '8705a8e1601eb58d5e1e500b18e71812'
         '22445e14e32552cd1c63bc8f757517ca'
         '33b1e7d1f5a4e4e3008b2abff4dd01b0'
         '5bd2de405b28e3a75911eaf066a4944f'
         '3b5fe18273fdd2d19a0d6a464862a1d7'
         '5e624ecfc2288bc2f86b8f1294da3907'
         '50865f76b12119836c7b2608598b596d'
         '2a74c3523a754cfb43cdd9ffe583fcac'
         '0569f5db70c80906adcff252d86522f5'
         '2e6363cb9834848d491fd26e8d71bac3'
         'a98784c8e35b04780041924891ad879a'
         'a1d6e81a474ddfa852b2cfa0acb96b8a'
         '651e100021718cb824ca3299302b847b'
         '352ed9aec46b8fb6473d3fc987169ca1'
         'c658239606d78dc67feb0bd396136967'
         '1eacf71d80a503b0b8949069f4bd87d7'
         '1c0633fa7afd5375065a7cd41501a6b6'
         '25072820e0e34691ace6799a7f24bfa1'
         '67759c17dd045b9310f8c8e1ef8ad25d'
         'cb5220af427586805a32957e64cc8784'
         '9510ed980c724ad811592e4cacbf8211'
         '34c79d9f1ae36758ce3104e2b2aea664'
         '3be97a8198d8ef4edc6601c243b6f8f0'
         '7f10e26eaf7d586631d29d950fef3f59'
         '778763291b80c7e28c4bec45c80ad898'
         '9febcbc874f4eb30229dbc7909101151'
         '764ba9f98c91f3178d99faa850ca7ba0'
         'b8998501ef70cd41ed8f7a1937b483c1'
         'dd4a050d105bb89036e4d0737b43a170'
         '85ded74d5eac880540f12bf383b74316'
         '62d0c31c8a99c9154a1ab75a8bf6fafb'
         '094f78b490cd24d7f3653460bd09fe4c'
         '60e95cc31ecf1aa8e6e9bc6bbd60fed2'
         '84075b25571b848f779a570f64da7b9f'
         '66d62a49a2ea1616f67d832e22d48aa7'
         '80a400ed504dc6140feee24a2f190037'
         'd1b09c6584a02efc80209fbaf1da3873'
         '1813a182e3f188642bee0961074908f9'
         '4a33625e25801559046c4b25a4565f0a'
         '426d09299e952f079681c74f5a58c689'
         '28220fd3e026f7e6b5e15bfb5e3fd606'
         'a2e592547f6a2fc1a091ce79d1895e8a'
         '844f967c31e5660f7f214365e0be8cc9'
         'f38a53d19c43740c3c27bf41a71cd3ff'
         'eea5326022ea4f6f5a61db975451210d'
         'c2ebd56a0b6724e2238382e6f34ce6bc'
         '6e66d4a47717351a421e735b39a721b1'
         '7b6e4ef632dae6397b455467d91f430b')
_url=https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
