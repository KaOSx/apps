
pkgbase=firefox-i18n
pkgver=108.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('7de764ddd3d7e4bf1a9542c7f3c7e491'
         'c104499e19acac7b482dab9f24320156'
         '96ebac4561f2e5a4cc902d0e9fcfe2ae'
         '9253ea5eff27216456c8a550b4e9c64f'
         '24240d091be8b1d710fbd517c92884f3'
         'f847d6cb2430a6e59f8226acfdb0125a'
         '98e8b62bf105e4c2aa4dac1c4b93bca0'
         '60c86615b9bceeca437198ca976927c1'
         'f69e58dea0951daf15684f6ab3ad459c'
         '35e43da6cbd33e9f601580ea643568a4'
         '63ec82b586249e14a4bc9b534a5ebd61'
         '9092208c41880ddbfa5c4e37e7b3029a'
         '9f789df2e8eb14276d803d2505ec410e'
         '5bfb638baab2636b12793aee1c834f1b'
         'be70e378d3c8841193a9d8c9c983177c'
         'b5aa20146866809ad35103e184711ee1'
         'dc0f981291e954459b0df8315ad7cac3'
         '463d1db39e40051b6dad72fa37caaa79'
         '7fb88441236ac34a702f122084f74bf5'
         '74e22ff60ab0842eead3167a44de12e9'
         'b9e11f82f9b993f878728d3e02007e8f'
         '4504cf6c731cb349042c53c4d87e4d76'
         '948ed5c427a6768defb7f9bf6c4f368f'
         '6f714fdeed1e239aaae0823975a75bfd'
         '06eb77b3de179c430ffe5af4a3e31ca2'
         '1c68f2e45848c45461bcff2bf08cddac'
         'c8e18a379c964256e0d746b94023f92e'
         '817cbc4ce56a7ca3c527e1edda4aaf40'
         '7d928746ba9ade676107be8fb87dc3f3'
         '7848f535e106db9e910008b78e5434fa'
         'b2fc59ae2bb8bd6f59ed9b9271d47bee'
         '3f0dd139958df28f2a4f77022d0968df'
         '9404de3d8b825397d0a02ff28c2cd8c6'
         '1e9c34d386bdd27e6842940a77fc71e4'
         '18c212e99507f24dbc2578fa8d375abd'
         '0cbb7b8f2db04b56d7a4a39aceaa7a49'
         'faa7fcee201f358d4362019045750174'
         '3c50958afbf567d55cda0d82d7894f88'
         'abdadb8af57436d58c1418ea16349795'
         '6014b96c24e34a7e4156c66c0b9e1d82'
         '61a8b8e7677077079a1894051445ef1f'
         '7b640eb2da37d1e4b3a21254933e0b44'
         'c7ae61d1aa7cfe93b9e4a8829e9e80e2'
         'dc18ba591fe4f24a7613e9e069d63e6e'
         'e9def673194b970160a0d3d6b4e2d443'
         '10e861424a8230eeb3fa7111cb4a12aa'
         'f13f98aa01724389845404dcadf6318e'
         'c88fe5057e19088504a015ff28214029'
         'b8eeb1a38f03a0f74f4eee16aee1e4dc'
         'de278faec95321a7a1003beaea06a136'
         '87a94bb3a314529f235a107c804fdedb'
         'ac058fccf56d029b2af1985a9f094610'
         'cf6fa95de021845f50a3209c8cece59a'
         '55c784fc005ce3d7a9e522dc087943be'
         '437e37af9a1ef0e6741bd87954ecbd41'
         'a3929c9df9901c6372f8783bc18f1cca'
         '87317bc7382c61c2152cf78d9b134bcd'
         '693fd77a56876fed7f89989f71710005'
         '1c54aaf3026c9889ebef4280e4a720bf'
         'fe01d1a93ffe86cd76026ac9649d0799'
         '9ecf9e3818d9ca5e0c87d6c0f00d03fe'
         'a0e9c906c80a5dd3f8e0813f51f1c062'
         '368f5dea2377b1be9296f59f37416597'
         '4fa82ef7749e2f6c16fe13d0828bb82a'
         '1cb3a692be4ea6ae8e267df148881223'
         'f6b3156c0613503e094df847d24db234'
         'ca9a2050c891d9fb0be859070341c099'
         'cd332c37218db8a1f958c1f72f83a375'
         '3c72599a9b02772f948f8301a5273b7b'
         '2a280ffedfbb882134866ffdaac9fba3'
         '538286e8855aa822f18527b253a68809'
         '474aa0477a948f87cf90892e0d7609f0'
         'c0c38d8c488435d89835a87d976e9d60'
         'd6f2441394aad99fe7ad2b26fbb94302'
         'efdcd582bc31785c6d3696a8cc82196c'
         'b56141fdca72715f6abbf895037dd64a')
_url=https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
