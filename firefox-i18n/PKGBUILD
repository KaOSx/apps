
pkgbase=firefox-i18n
pkgver=100.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('3e935b152317141b9b8d4f8e0cbe780b'
         '1d02677adeb3c6d6ee689df20f86ee45'
         '3e0e4d21ff4b9a14110ee13cd4ce9d5c'
         '6749fcc83e217fdc87e14e8107382594'
         'ba0fd3edea795362174a3eefeecbc183'
         'ad070e5d125ea8af76671b2e4b63654f'
         '1f2b0df8929b96a052e71015ce433c21'
         '67783eba1122b66f94b9b9af771bcec3'
         'a8d196a88e5f6f79202521d30c2858d3'
         '1e2972461f260a007bb7d52f29b7a204'
         '135fb69fb8e21a8462333fa14fa240a1'
         'dcd029e1e68879f7e98926d10bdda382'
         '0eb91cf4df69e01aff921ab21747b301'
         'f87029a1afcd58b4952dc53c7474bf57'
         '868efa5c76da78cc759f90958a01f255'
         '5c964386ebbee81f51d2003ec9f489dc'
         '67ced7ccdf1448612f16cb0272752876'
         '02833ca976dd4ec0deca4acf82ab13b8'
         '15110c6f25927c7c25d0a7c256977412'
         '1416718736c598af996865a8d4ac9051'
         'fe94933a34515cffbecf8c55e4e845af'
         '9abc3aaf406fe3a2faf43a004dcd189b'
         'd552f70d1e74af69915ced2b89114bff'
         'be53af29bcd038cc4b64d8829fdcfdbd'
         '65ee8ddafb536518857fdd3f5f8ed4b3'
         '9ba4e334b6880c5d2426ec33948045dc'
         'e309077ee1a23d8420e3de1a01eb6692'
         'b8b3e664303ac9b3e7bac719e9ed20b6'
         'dcc0ea6f2b8f4570d5b1ba478f5d4c17'
         '5e70540fe10da0ade976ee87278a9096'
         '20e69594dd0bd5495bec1905c076290b'
         '2b848b013a14c7df08fd88adc44cbcc3'
         'ade8923b3e1ea87e4c12db3bec13c158'
         '4f94f717081ab5eeabf1cc8b8e2172fa'
         '1fcd18683d934d6669e10af7a7ec0999'
         '4aa2249d08f4cbe34389ef95817a6f5d'
         '004f12abcd6e679fee7695e1148bc993'
         '2aac22a5f2d76da7251031c57d8cae8d'
         'b111b668c60c2792579b11d25c755403'
         '4c9a5fb7af615fb93b0c0620e1e019b0'
         '927d09b741b0b3104537f2ffcadf87ad'
         'ac5a63b2f5fa3f72f3ed54aa822d4d75'
         '25ebc5831c7e0694d8faa3e9d43e0e98'
         '757285ffd9f593ca7561c745bb71a2d1'
         '8fac3dc17c1991a0861c472dcbeae383'
         '4dd01d0ef2ec73d375f5ca22cc59f918'
         '8d8645a5e6341e42545d4c7ad7f592b4'
         '66d3ebd95a909e85dfe9bb832ccb2855'
         '9ddb472c30f98377ad146cdfd65f6237'
         'fb578f15639e9bd7b362688dd33a3fa9'
         'c20142dd8bc6bdf1323970cd8d3957f7'
         '4bb6ea96a6f88c84ef8cf326c3dc7e8a'
         'e67992f79d9b82f3ec1dcfabe0aadf4f'
         '429da1ffb74b67b0652b8586b5d2b9f0'
         '5454abfe52c409b73c77e34e415eed11'
         '28e96eef0811d11c4df406cd629cd497'
         '76e3a511e64e954954badf94f62cb1f0'
         '96b5383bbe566e9b5fd830cbe2024df5'
         '44cee51aecbc2f094259f80e3200808c'
         'a835524ef13bf518b99092f988a31834'
         '79eff80e2a7791c8008edb04533bd87a'
         'd8dbd727a0520e44a7ea32d55b1cc462'
         '15717b221cee611521753b8d59a7c6e6'
         '0bf9821719d7fe8877b53775a31b049c'
         'e1b508934c00430f57f3c08eae6ed756'
         '163d852214863afc8dbe406755230be0'
         '866d33078908c2f527bbc3db6e0419ee'
         '5101b41d35ce68cb25804e2a3c75e115'
         '76e3fccbe0f880b221144df73aef0b5e'
         '2b2174705807e3dddcaeae8d04c956a3'
         '4b234b071b5120f2029b8f9ce63d23af'
         '31ae51f6ade4127ef0e828140b7d3f01'
         'aa2976474945340158b5058b80f2e78a'
         '0e981f5a99a1abda75db587e2bf60c3d'
         'b9776211ab0caa668c034c02238330ce'
         'e3a5085a1f7e142b74877e94c29c3c51')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
