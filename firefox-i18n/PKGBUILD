
pkgbase=firefox-i18n
pkgver=89.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('793a5ec13ba2656e5ec98759a613fff7'
         '742b6d3467ab009524dcd4c6465e811a'
         '1a8057012c0d51894ce0b76c05e2b743'
         'f7238f3585381331c028632b44fc8ac1'
         '1df5187dfccd32664dfd860584e21d91'
         'ec54df6f4cc7744683ea090643cb27ce'
         '8e118a24db80b43efc690e9be09e936d'
         'c9ce5a161c46d0c7232b1f439858efc4'
         'f89f1164b22e46a3140233f967422128'
         'ed9ca38ea4f22f4ddb739a5cf5c41938'
         '5f162e2d1a74d6d6c6097a9ae5cb33ff'
         '958fe9502e868ca80b05590855d17543'
         '8f1dd3629a7af363db039b495acebaf0'
         '5897e082b54897bf16c58274438e302e'
         '92afc5be0a35e93612bc34849a98ed6f'
         'ed977711380c2b7de5d570eace64cef2'
         'ef2e263e975edea29a11a823f05e9bb6'
         '4fefc6cd57e5f62d9504af5972179ab9'
         '3a6fab88ed1459c04827181886bc298d'
         'aa49ff58a6a75fa63d225fcab744179e'
         '3edc4bb8cbce7bee439fead5e7d231ce'
         '2104eabc2d7a318e0c6e73bfa10d143e'
         '385d2e8f166afc3662d68c6d0b5be87b'
         'ac183857b39dfcf5febf8bb547340b5a'
         '2588c943d5c9870abf64dcab7ae3a814'
         'bb45fccb3e712810643a300856a40a39'
         'b419d223dc2e3b590f887d74496b2ccf'
         '1c85394e8db31abe3351076e9d4c6302'
         '236c2692b415537adcfc4b0200cf521a'
         '4d75f18a103b91a3ebd35a83aee54798'
         'f5ff6bb5bd00382f6369a96fe48f6d35'
         '27b192a0504b41d054abbfad9853e1f0'
         '8eb2eea18ae099c3afed8bb4d75ba501'
         'bf157caab5979add8896252745422138'
         'e83b8c23cc5d2e168f262ef5a1ceae51'
         'c12195d0729f690625381b0f2aac1c3d'
         '83025424ab9e616e8310cb1199c834a0'
         'ef6c96db699b85aabde182c15534e82c'
         '22639acf7d7c8f64e5a683f7413336d1'
         'fcae249b67b68685a37320ccbb526455'
         'f4e569b7bcbbfdf6864e350a606a7c53'
         '34a97de354655a8ccc0e87bfc52ee65c'
         '4b68ae384b7720f78af355471c03b9ba'
         '92cefabb370a9fcaa9db2c2dcd70bc74'
         '600aa90bc1ecc42a9c08e7ab6957413c'
         'cd83b281440cc4f4b4a6739a765d7818'
         '9ac883b6b9f32e7f0d404d031559e740'
         '70ad187cfbab94e0724f865509f71fa0'
         'bf3e9542ecb759b382063eac2ea4676f'
         '7db344cccbcb1b56c96a4b35af193291'
         'df0ab21d517bb0d7d22ebfcdce8f2767'
         '43dc2dc88e972c11c8b4494854db6bf5'
         'bb808fb6230c3aceb63edc855c0b682c'
         'fbda8ab32ce97dbdcbb36e4e2f4f2f21'
         '42e6e407ec67ba126e329e1890fb8323'
         'e6d61efb1ff9dfcb981917144c6f1ad6'
         '902b230f608fc1edac1a07d5e4bfe3fb'
         'f858de9ab9794b8a86e2d798185e2553'
         '0a705b6edb41d2d2834329cd8f0eb396'
         'b3759ad6b5900258a9cd2a29d66c133e'
         '66e7267550ffe37d15d79f99b16acae9'
         'a90212d09e085fb1079d9b0b6fbfc9d3'
         'fa12558bfab6baebee6f74d89e3302c1'
         '7bce50030640ebe52fb9b3a66b291091'
         'c629ab8cfa82df32a47f747647a284cc'
         '0f8909e1fd434e58b8c85ad629a68696'
         'd3935a57753008c5843df790f773655f'
         'e6485d738ce6104f6388c09992cf429b'
         '686de80ccc6dd30813cd127f4146186b'
         '6d775d476b2121a7765d84ddbd7e754b'
         'c108b6361d844d55de6930607419958a'
         'e62590a15d0839c29feebec755344a2a'
         'e8ee985c60f7d1bf93f362a165f5ff53'
         'c94b2e33f9ed882e8db7c93bb6ccaddc'
         '7e845f4604d876275584bb3c59c6c202'
         '94108cac14a7bc290e87a7f3861779c0')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
