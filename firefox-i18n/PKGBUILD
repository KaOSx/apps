
pkgbase=firefox-i18n
pkgver=118.0.2
_pkgver=118.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('0e53a4847bb077ef0734933d80e177b3'
         'e1227ccaa753fcc7950db07e240cb776'
         'bfe1465c049e01f5daf66af2d45890cc'
         '3e220ccbe3b99df420b66a74493d44be'
         '13ac7ce11e5f77a6fbaa45d2284ecd5d'
         'adb5b9fd2216d675db7b3f9156f712db'
         'd5d19756c6bbccee2229622b2d478a9f'
         '0151d591e479784454b00fa01a5b973f'
         '589596fb3b82cbc4b3adff84c516a8c8'
         '62bc1c4a9b64ad0c2f1aac103a96be47'
         'ae6095db92a100eb6a2731eb10dcfbd2'
         '438f473ca2a43636f9135214bb0aa856'
         'a0dd6d1bbaf496798b83eb81503c8ff9'
         '97f30a84101316954fb37d0308376c6e'
         '41168914208b7f41744cae00a60731a4'
         'f47d8a62608cf1b29e2cceb66306e758'
         'b94031e04e6e62e847cf55c20c820923'
         '8737ef67ee6e7efd95b2b94fa8fec0ec'
         'c745db2d311221e492346144a697b722'
         '698eefcb19876fed489f38b322e047e7'
         '414172cf09a6e47ba6bd2fe973514ff0'
         '2fe2ed17629f042fb05b8f06d0e5a182'
         'd70b4cd87498b9f3d453f01fa137c132'
         '72d6d14f1e5afde4315a225461960e14'
         '307f0ef836528dfb03006ae3b048ba8e'
         '812298f09f5de1f865b9b9970dd399b2'
         'b781c9fc07253b33fcca724ee71f13bc'
         'a821a1e9b36dca57439dd542ce540fd2'
         '1297c7ec6728c2496a8a4b715acc29f6'
         'e164075974e37e698fb2c106b68ec593'
         '897a23cb55d9977ac4996a0f65f540bc'
         '6bc73b95c4d110593b93c3f068a790da'
         '1d2dbcdd8f157a8a45c0f35faf76ece1'
         '20a615b5b2d919d5b6c80efa84e2198a'
         '36b2a6418cc102a9f4eaa965a4d845f9'
         '8a062fa051dac932217bb5affef6bfc0'
         '9c0aef2cc5bd7352de7a69c4a9f17259'
         '5d64c1b7a50186d9a1eb36e50d700f56'
         'f3d65d885880d1ce02438210c4a78f22'
         '12a82996c6c68799e401b64f9090e960'
         'd451fd7262938ac78d57482b8c9f8d09'
         'f897f31ce7adf73ea71d350b67577ec1'
         '925da468140046d79369d49d33997cd7'
         '9ea193811366a2b9c38a6a17757a5706'
         'bca55a7277f3d95d5e6aafba6e1bafb8'
         'dee4896824fdd9dc1c6df5274be6237c'
         '530346dd5d5ac5c18e0f98041078004c'
         'af1c127b199cf264972328d32f910274'
         'e2835ac6a496fbf0f87052e85c220756'
         '7c7032cbf6a92070f431e84440c7d16d'
         'eed559fe0c1190e92df98fdfc9621891'
         '5d734f60456046283d7af42221038e72'
         '4e204b33bbe4a846ca3778dda6b8908a'
         '6a4e22ddb69c6c97b168e2c54b48263d'
         '00752722866aa6f99785f76c84b9d013'
         'f1191fc0979e4362753ee7e07047e399'
         '960f56e828ae99fece194aeb837ebb89'
         'ae21fc0510d5b51ea27ef25fb18e0f16'
         'dca6e0f10f2342775f70ec108b92c934'
         'a4cbf02d5c9fa34ab1a825e0e1414afe'
         '36b12c450372fdd8685f138c18579214'
         '74e645ed7e58326a2211260695c558e6'
         '7888a48615a294068213a3a32f6914cf'
         '242c974905eb87709c866e252047d525'
         'd56678d447fca8478d3297f5698394ac'
         'ea42ed581591238196c027bf6594e1fc'
         'a50839327b95259dbe7dbd0c00b75841'
         '441eae5168b52efcc91e287c9799045b'
         '1a47897e938fd8d03c0d703b29e07674'
         '83b3b756ee5e09bdeb562b3157e1ee9a'
         'c30221c40867d59fe404c353c05982f3'
         '7a55622d9b041217e6dbabe170536ded'
         '932753ddc8b0de4f68683d362b5788bb'
         '08ea747d0bd8219a0c5415277204622f'
         '62233600a00f64e4a7d708b2dd6b8609'
         '079edaa4f274c2b4fe4d9b8c5b47da43')
_url=https://ftp.mozilla.org/pub/firefox/releases/${_pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
