
pkgbase=firefox-i18n
pkgver=28.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('814dc52d6eb203a3a34ae2fedc68bddb'
         '3217aea82c91ba456b88ce8708d1d084'
         'f6626695df898556658a98ead272ca86'
         'f59b7fa3d349ab981d4390e98405923a'
         '1dcdb36f2fb1b35dc2743f0a9d3897da'
         '6a939f2540b0bc7f59ba74e9264c49f0'
         '1d0bc0307eacb3e52c840c9d0ec239f7'
         'a2cb359ac750f5e27f57d1618ea92afa'
         '51a2e450bc5fcd082f2feee8a3359d03'
         '6646a9a7439b1db8f393a704debec4cc'
         '25b58522a1f5aae097472de6fa30af11'
         '2bfdc09f7430d85611cd40e1c4b2d5e9'
         'c11d571143f5709a291469ac7d880c86'
         '3c11263639c5fb9968208018bede3e42'
         'cf445192ae9418566e409a9cf64ca982'
         'c5639722b0f49af0038ca4361d7c66ac'
         '4f7bd3a8bca05cb9ee268f61ddd8bc09'
         '2c4af2ea39870275fe3b305d10f2c960'
         '7222a3dd34546849697c16937a6cfc9a'
         '12bac73aecc869bfbcf57659d6559f8c'
         '8491af21f355ca328876ef60e56b7f29'
         '699f1f1143156b50fbd5bac020643c59'
         'eaabb69dd2df9b815c8a81081b0fcadb'
         '80186979b2655c4144e193bf073eb7ea'
         '4ea3e1f06a89eb14456ec66c4074967d'
         '6f11e63ae02d450c189fb10387f81e9a'
         'f98ed2d001059c1cc73d2b005ed8ec4a'
         'b061a60583eacda87ddc7cbeca51bbc8'
         '4ee7fef87d13e0ec4eb1b53a3c4ede3d'
         'a6130aa23f59b04108359a178ceb4460'
         'a6987118415d0e58c3bc0e535709cff9'
         '9324e4de93cde20705753195bead1342'
         'bec157b71f0ea7fe4ba72ad0ffcf3221'
         'b2e6b31a7f56988ea1c7c44bf281d187'
         '830d07107fe57c09b4980bdfa18b626d'
         'd71f933d4f80dee7809fb6a2b60e7457'
         '1b3616d252fe502fbaa47f658a84b07d'
         'c9fadf7e803f1b1d9284adf6f0512a85'
         '3a823cea17a814a83f9bc62610ef4c89'
         'eb407bf9de255fd9bc07e9f388c35c74'
         '0775e34ec9a04c2baddc0f85cf702c0f'
         'bc9d36e7e3c2be6afd6e5946603acb03'
         '1096c627c9b993679d2f3d57c4dd9483'
         '96ba945fc6c0276251afd1b9897e10ba'
         '2ce8db1956d8058d90dce2c5c79115be'
         '3be55d9f058420b6ec5ef8384cc71725'
         '308c9a3ff9a6d86e0b6f60abc29a8954'
         'e52b6de730d4c795eaa1afbb6d1e42b5'
         '0b88db7057f569e37f9aef965aa15c7b'
         '39768f9e855d5ebec4f90607706de5d4'
         '3fcc0535f580173294914a4b6ea47572'
         '9aa2f41fca0e04664bd5f734c6f64c70'
         '904071b591c649abb2d82c18bb80412c'
         'af9d2832b02bb3441ce32345ebe37b13'
         'd153d44884dcd836b504b0f379ed126d'
         'ad99152d2420905d159cecbbca002807'
         'e782c8053d866445e17f25ee7abfd59e'
         'd9a4df70a25c481e7d8e31fb57e5ca9d'
         'e34cd2c60984cb791ec9cb0894d22637'
         '704916970f42f07e8c4b32486084a3b7'
         'd2b01996a408af588a84f05824443587'
         'a408cb2d24825edbc65eddd31dd06eef'
         'ade2bb12444191c16791c0fe632d416f'
         '7b3718a3755963f890e8c2fce6a80d0b'
         '14e1dd928e895b163312addbb101da76'
         '64f727916049e81e89006751aca42aa4'
         '46ab57b802e96c13a070691288a130d5'
         '9037f51eb198464969885d06ba5f805d'
         '89d023de454cd484889960380e44e3da'
         '24dd6234c51f980c42b0841cb26f1cd5'
         'f3351f15eab3a357e7e656c00a6b3147'
         '21b033ad0d3db18de239cd24291e5a80'
         '24ced7b5ae48f77910b4b2952ff4f1e4'
         'c6a02edd370079b9deac2fc16f9e334a'
         '31054144a62521089e81aa643b1e6df1'
         '9fa71c4032b01aa2e6f311f9c48eab91'
         'e00f5a97d3e32719e97f15a4afdf3539'
         '51fe3418472262367b6a29dbef90d5b7'
         'dcb2024f757f6de2e02c24ffd436444f'
         'f4615ecdcf6aa8ff74d173516f69ae32'
         'f7d416f7c8c7c18e6fdbceb1dd89029e'
         '9f568a4c111342cad4061ee8b436710d'
         '7c53ca5539589b8078d22416baad25ef'
         '4f9af927e5723a8bab7a33505bd47cc0'
         '1cdf04414c96c8c9af691fd46eef7bad')
_url=ftp://ftp.mozilla.org/pub/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/opt/firefox-${pkgver}/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
