
pkgbase=firefox-i18n
pkgver=96.0.3
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('28764381aee0f5b527feea392706fa4e'
         'da2d2ab29fa67451b4772be4c199f125'
         'a89bba32b675cd100fc04bfeddf7a671'
         'd71bada82dc3c9aa70cc55d7030fb596'
         '1ea94915eb0dce4d810891dd240d50c7'
         'd87c4e8c218340b5d76d034dbcded462'
         'cd06f856067d81c53d7148b343f53f70'
         '245dd195f9d091a304fcb3d8fce1917c'
         '6079f5dfbacf02da37acb8b9007f01f0'
         'dcfa21b7c9363f825d314194e388b7e8'
         '6ec2a6e6847423348a081e9ef992e8a5'
         '9e1ed6a76082ce01f171cd9b78d20451'
         '6be87f7a79c5aa5ed3bf28abea72822e'
         '2d0bb24f3521ff99bd0c905f22669bcd'
         '4bf0e2abbbb911a99332ae65d80fea52'
         '6f40bc1b3b566eceab38a9763f55caf2'
         '6a75328c7afcf5ffe7d29c0545c75cfc'
         'fcef95cbd16276c7f6d0cc24fca126f8'
         'db8b12a170bbc04f0bc4dba7a868c916'
         'd53ac40bcd36ceba933e589da407f98a'
         '976ebb32fd4da0aae7e1460c179b547b'
         '2a1e6c735e7fa5a7b4c9181963e5099e'
         '44fe0719f5ccd383e81a3d07eb609599'
         '315b39a2fb02a241d1048d6a8b0f8598'
         'e7a109e90fc0c5479b43792ac0d96460'
         '7ada11c20d9d504a0d04509f25d341c0'
         'e42bd5c06d9bc837ec37a4514f593b42'
         '32ec0048628008a29ab8bc7c54b5a804'
         'dc9b7bb31a6255fc20314c18d9c98973'
         '8de1dd8007a53011e35eff74a3608a0a'
         '9778b911f2fa57b2d8b0dfff60106dbf'
         '04dd447d84bdf4b09607baf9767a411f'
         '9558de6b7abffb5b8ae83c2766b7d3e9'
         '2476cfd9444bac777e249e6ae22937c1'
         '8a0de64461cea7477a58f32527af9221'
         'bd6d8b96c651af0da59ffc37b313391f'
         'a882b833c8f7b833fa1963ec5c175fb2'
         'd1ce6610c61f8301822f6fce9d020127'
         '70c2936e88573562945e204b738bd099'
         '95a0f386d50e1210652d84815598a879'
         '44ecc2822702ab239d3db4257b1ae43d'
         'bc71aec290e31b1197e1d497bfa19a6d'
         '5d4e60d34a365d451246fa1b972514ef'
         '0943f752a5d9d4e5d54d67411cc6a6dd'
         'e6bf444eaae086068142d7eac16e5524'
         '6e3797d04ff3070075d2978927a1a7b2'
         '86f668a9f1fdc0fbba3b8dbb3545ecbc'
         '81aa5f5cdc206f324bfe9802555c455b'
         '52953d76063c99b230cfd3cf9341a90b'
         'f2ebbb8e92653bcbf27579de025dcd54'
         '16b6066ec4ff4effaa05dd5363762921'
         'ada23aad8dde155d1964a3d464854a8c'
         '3dacc1694bb2fa8909acee5b7b21ee21'
         'b426b0ca4eafccea45b62f93848226a1'
         'ce4993759507285fff50e244c94e9636'
         'c1d502bf428b3bec1946121504259fb0'
         '5ad5f038176c382f2d265781b0d35b55'
         '95cfa9127060028ddcf3876f3021b3c4'
         '7fe528a36e47ad2d742255001aa25397'
         'da5d0458bf832c27b29ed8f970afc8c8'
         '4a845ae23eb87955c9a8f6fac7edbaa5'
         '7bc4e6b3be0f4b477f1b453b12c68fda'
         'b2561d81e3c16174124c5997aba3d7b2'
         'b4561a1303018d78a8223fc6f754df4e'
         'c6abdaaf431aa9d1ea4d2502c674149a'
         '1d86395ac212b6a6176cf75bdd792cc8'
         'ff179b8bea018462ee3925d1848d3a3e'
         '37de2e8609b086fb5a4bce66b3892c18'
         '16b53e95c7c77d65e36cee2344ff0d16'
         'a3c21bb732ff1b40a6014b03ab58b369'
         '65e33e74fb40b0891287292adc8969dd'
         'fa9d72a4586a9ac46e6d905770eff508'
         '043933bdfd6d42ad77296b6e5b323562'
         '702a1a92be5015d670a5cd2b37452400'
         '2d750dee27b2b85d1b5b13c1e1ede028'
         '9edf809c7e0d7ccb268c93d8a6f9feb4')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
