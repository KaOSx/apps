
pkgbase=firefox-i18n
pkgver=98.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('37e6ccf9147c6f9074ac0e6407b619fd'
         '04deef9034ddc0f8c5427d103465dbce'
         'a1a7bedbe243d5599900a6bc57d2089b'
         'ae09bd20b71c38774c658916d3e7aa7f'
         '40c13c25efd3084148b5bb06ca7b26b4'
         'd31e54e8f1dbca7c425b4d08ef4706db'
         'c344e62f58707c1bf3cb0c12a0429ff0'
         '2b075821d14743f13fd126b7420f68b5'
         '3a0a1ee3caed44a0b94e4c7fb9b8dbe9'
         '1f56fb4ce94d7b5f89cb96c8dddb1c46'
         '37d6b7d17e2326b4d091803a02c9e190'
         '4152a6f4be5b3d3d0f745e549fda37dc'
         'd0b485aebcd54a860ace62ec09f68637'
         'bb9e1bd6eb9b67727bafb8bbcfcd8b6c'
         '257342f41fbfba10f875661d7ff35b66'
         '7884167054a34ea580bbe6f98530bfbd'
         'cb924edbfc82b24a299cf71fa6644b53'
         'db8cf8f2154a7ce066d2ada7d21c2d9c'
         '2776e0318f24cdabdf77c428190f4246'
         '169e1ac0dfc1d5ee3ba7300cd22603b6'
         'edc3f01ab2df56b441d1001f86cfbf79'
         '75c09410b1c6548cb4f8026b4570ee39'
         '3fc9c31b9ff0a7026a7efe47ffc95fcf'
         '24b95b299412b9df7deb75b8127c2891'
         '59b51cea4c31e455202ef90cffe5455a'
         'ad12c681cc10eecd80f579bf9bbbeaf8'
         'c0e45e1e9d1bf284e3d26cf9949aec7c'
         '3020a647d5540cd68bdb80c660f79020'
         'ed7925954b821f757a46860a9194f984'
         'c2a4f9c1be36ef61766ad94e75991aab'
         '8117c6a154a3ae4b066d941f8124ac35'
         '307b66a4755f667d6a800e5fe41072bc'
         '3e35d242140e2f88c750674d9ecac1c9'
         '6f586337ff10f5e51b8cfabeec47698e'
         '038ea7ec474bb8dc1e898f5c4a073c24'
         'bc96ed0648d09af53c920fec10c7e9dd'
         'd001411a4a089505e9eae753e4d6a27b'
         '9ec9d08b86c4d0d891f1aea29ce81ed6'
         '865663739f7c3fcd4d7ddc0c47c9c26a'
         'ca8d6ca1791fc4239e523083ec5e2965'
         '95f9da7f573f79ad2377da69d4139a81'
         '56a7ba2482430dc3f3eb700839495538'
         '27e10a4c58c8e384c66137ae33a7b5da'
         'd2aca3332e21662a977fe4d0c852440e'
         '36e53c14bb97673f9de2f0d0affa0b07'
         'dd121b51ad8cfff96b2e9da153c0b14d'
         '901a78055b8d09b8e0d1fd7e142a173a'
         '0948adb9c562ed7670b2dc6fe48c082d'
         'e497cc5d086077b7c4110c3b7503bd81'
         '7affcfd1c0c8bf7e85b570ec28658a96'
         'b9abe2aaae8d5cb8df1a9bd3dba41da3'
         'c39e9b1961aaf883a31d11f5705df822'
         'fa2b7968abc32e8166c3bffdedd08069'
         '326de72874379bd9b1fe5dc3ea06a3d8'
         '9cd464654eb63bbec3f8e25a73fdee53'
         '0501cafaaf06be9eb8a1c5ca42310dab'
         '8fa12b6dc98b04edd7b98ba5b974ff68'
         '3dac5dd247d1a5905c275a1ced1a58a7'
         '307ebef8bde9ca7b6eb0cf12ede9979b'
         'afea923054e0e4cb874ddaa92a52afa4'
         'e2ffb62acf1b0e1bdd9c1f7462e4ae94'
         'b2b5c26cf6649e38fd9b3b491664dd27'
         'e8c9b42f399dae9926bfc3400eff26ca'
         '1b7987916b44f5b6d2ccc5737aa7b6c7'
         'e273b81d5705bc8b8d9590f43d2ba1c3'
         '0902650c00ef4d6e5a0a8008f1a2ab92'
         '7119831c6b2389428aee1a833f5661f6'
         'a390bc76d7f27b3d111a36ef7428c7c6'
         'd9c0c4bac1bc313c920bb64ba84b5a14'
         '3dd582e3c73e50c924703d222eb21dbf'
         '68b8447642ea89fc93de1cabfb21b782'
         'c1842de0f156e7658fd28f4bb0ea4e85'
         '3ad4ca89b910e536b475985f387130b0'
         '9b524c5b26b3484772f3b3bf5b9233af'
         '2d223241254595c310c41590283cdd0d'
         '9c57a00af1a1caa561f97009062d2324')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
