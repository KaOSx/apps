
pkgbase=firefox-i18n
pkgver=106.0.3
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('4da955f63e7c22cd04e5705fd4038d40'
         '3ed9f65f56315c95b07b1060719c64cd'
         '806ac96fc672f9f0cef7070f3c3e104b'
         'c0b319e94c53f6fa09e3ef7ca1fc80cd'
         '5b4960af2df0cbbc27c3ad7d3b06d531'
         '64a27cbe9da3565700d524b6d2ad336b'
         '91d8df145fc415348253870d7c10fdbc'
         'cdcf788e58cf2296411aa48988d48fd5'
         '09ac156e70c75fd2fb0665a9c8c8042e'
         '9a06d9f22947e3c7afd0a733feec9ea7'
         '7dd315565512ed23c4730fa540790be8'
         '8435e715f0f2a28172c805aba4578eb9'
         '773b32b8dd7857bcc64116678b8b54ec'
         '24126789327c66cc7671dd18bc6323d9'
         'de456bb909ff75f59ecd2abbb585d1a3'
         'd4f852361e6264a60cfff21c14079c3e'
         'b586a3be5cafc8ac5c0bbccdad3d59d6'
         'ea3ad6f9ddeeb2975f6a1cc5d8c6555c'
         '252dfe9003554bb45e6fb3af55180ea6'
         '703690ad69338fb0caa7cd7ace3dc06f'
         'c5a25907ba487dc9e94033f1aec26ed3'
         '92baabda268211f126ef3f9147419b98'
         '1e06f414a80d5d83f1693d699ef5a3ca'
         'a9ec8164f3ec7f537e76ff38b1fc8bba'
         '566ee40b627f9618accab931e382d0b3'
         '467706b0fad78eeff81449698fa660c2'
         '72d9088c9130ae919b6c7ede27b076f8'
         '427c18c36297e777a0efe7a4443bf5d8'
         'd92550c3d52a60b7e0c5c3c815db7b39'
         '4c21036d4b21392b10490f28e2e7e2c4'
         '78c590820d26ba8e86a2588cc49e8ae7'
         '9a9a70edd66d1e6c88e3d8d3a06ee795'
         'ce2a4b890bc91732a576eaf551c3186e'
         '08f46f9efadc59665be7625f42f74d1c'
         '990d5a83281ae2d5663bf2bf281b51ad'
         'a52c3ad423873ee6dbf64b371671a67d'
         'fb6f550c8f47b121d4799c66beccf774'
         'c8d02f52f77060d0d3857d1904cbe89d'
         'bfa70dcafa6f9770c9d3d1e011b2cef4'
         'ae36888aaf811fff0142b948de97a541'
         '6aaca3770fd7e151cfa1501202a8acd1'
         '97bff6e7af95df7864c98de151178325'
         '3af511dae2fb9aeed217fd122febaac1'
         'bbfaf61f0fad43c32f7e136ac03348e1'
         '31a21d1d08367fba5ef4ea2186872d25'
         'f9e2ff0449c688792dbc2a5e81bea359'
         '6cd9ba0e0627bdb642d78f9d8a477651'
         '975afd8bf2ab3858a80121d433030103'
         '27b41eb08fa8b0ffd7c87cfc23e4a3e0'
         '0741f7c9db3d4fe632816e73dcef5a67'
         '53d58e428ea6e044e12e474e40c768d0'
         '8d01c8e11a39db3bb427b0b51bd44e80'
         'af205d07b8d51d3f12ab6c255b5a4a7b'
         '0845f8e4a68886eb76d3ad4a631af2de'
         '24d0576c9a49886eaf7817bae9dc1e44'
         '6e9787050c95fdb918621c4774acfa3f'
         'bd633c686d5806bfec98b2c731a8e10c'
         'e2cea2ea79f4a216cf296fa2c87f9b73'
         '89c00effc8be140b56f26ad9f12ad14f'
         '6f93248a236810bac2a2da181ee1e20f'
         '1c21eca6c26284e0fd7244083b083495'
         '276022ce041657530bc87af649ed9ed8'
         '714c2214742e057d301cf3e1c7e9094b'
         '7f02c95f416a4e53f0de6daa80243431'
         '870d2f92a161a344746c810af160e339'
         '212c8b93654a0952a7989e543da725bf'
         'b611be5d4f8bbc170ebc973893706451'
         '9ad3131b80251b13c5624a011830107e'
         '6f23da86ed38b3b55750bfb8397eca26'
         'f698a5561e64ebff3a3abcc016c64a7f'
         'c81ebf41efcf6e84b34314ec04895c0b'
         '24ff850028d19b82de5e3070c20f3ff4'
         'b528edfa42892a56a2df93fe6bd8ff8e'
         'bbb69486cd099dba38316a0d882db7bf'
         '5d25792dc8b6ba2228469de5487ceb8a'
         'b1882f133badc76b9d499e7bcf8e991c')
_url=https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
