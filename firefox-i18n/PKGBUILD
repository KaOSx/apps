
pkgbase=firefox-i18n
pkgver=61.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  #'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('f3bd9d39200c434828338236e946e73a'
         'd370d6715df60edec591667150bdf15d'
         '4bceb3d925362a3a28fcec0be62a83cf'
         'b154a3c5ced273c6f1e35a7053184971'
         '966480e86511ccb895219cc6bbba7934'
         'f1f355db13f6a13580ce033a2d061103'
         '1cf7ee453aab0b4b3c6ca682071dc22b'
         'ef0ffb5506c2444f728cdf8a783bcd5c'
         '4ba0c35879374aff308924068f3d66ed'
         'c54fe706b84665a1917224f77e62cb67'
         '2260b488c3ddfe3fd4f54c025d35160c'
         '20d8240e45047c5f2e60ab9fba52bd3c'
         '0828d1a3fe1f1134072aab8655a4d6d1'
         'a7cb4a830fb132bed8fb24419f7edb18'
         'a7ab93fd2aebbf6f6872bbcfc68917ca'
         '8d7a2962615746fa190b5cc4f8dfee7c'
         'ad6301dbdacd10df018d7e89ad2411ea'
         '8a4b394f294c96ded4d043d0ffc79d34'
         '4ccd5229b6086b5cb4fb96570f155ceb'
         '302f7871f96c0a19d51c5315d16829de'
         'c1dae1baa9910b5a566609c437dcf637'
         'a26af8fc008c59d9b24ea3e5ea5c3013'
         '47d77cf1389899a152979707c1670654'
         'ffd6fafff81e8f65cae01f021c855ee7'
         'aeb67ec9b07a6a4ef2e6e2c82c9f8fc9'
         '73e616be434839764668cf9009527919'
         '09a190c206e0237de6364057824e0473'
         '2f62571092a0e5ba4902a502e0814c27'
         '1102acf28b91f7c383d2c51c4feaa24f'
         'f4a3a377e212136051774b2b00025f72'
         'fbf96e99697fac74675915e28dbfcbdf'
         '38c78dd6259aeaa4d2537486f7ff4065'
         '527f6e42774b8e143f97652ae829d883'
         '59b626035425f38d5e434c5473f9f0c0'
         'cb0addff7d8e4a9c0f5ebbb121de26f1'
         'e208a03d675785bd1eb32c32a5231522'
         '5189434ab6c2bef66fb1ea799a425e31'
         '3dbfbfb24daa874b164341f766e9cdab'
         '38e7bdd893b9ac3107c89b01756f2f06'
         'fadba2817c211092853eac7426cf8b6c'
         'e70386fff233e6a92ecb6452d8359984'
         'fdb3ae9d8901d4ebfdc59204b5d3a66b'
         '84234603440a82479027487503178ffe'
         'd5dc1271126881e9930851dfecefc47d'
         'adf63ba3342e491b136d7f5eb7e021fc'
         '067f173d31889779df283f99076d6b9b'
         '7f24809f3758f3032e119386e92841fe'
         '8102e4941a7482a51a27e3efc5c64363'
         '17583097114887caf02fffe474f18fe1'
         'b92d9c6caed1a9725017eadb8709d146'
         '3297e1ae660890b37bf55606ccdbee76'
         'b72b45c0d7d217fb647fdb83fc76f5db'
         'f9de512663081d0834812ec6e14112f6'
         'bcfeaf7535a478430e58e34c8b0aef3b'
         '3a32efbe013bb489ffbc9c3ffcb5c65a'
         'bf9f4008553d379992b99e84c96b0547'
         '66f6ddb97ab43c436d1e0667ce336562'
         '68967d2bf84e225c8f82fc694e8fdd3b'
         '5f00d7996c0c2a5fa34c224e14e5d71d'
         'cabaf7343e4328eccfa5ce21ad79daf3'
         '682d1153bfbd4e5f390b60ef28a08aec'
         '04d08a5d570283bcbcae692bf7544a7e'
         'a33ba1accc518c0322a8bdbf1ba96a9a'
         'ca7c0e8c4887b1757261d974bb3bc921'
         '28ce959c9df5686385563e66d6ca994d'
         'cabdf38af2a22bab3c0d30b6f0320439'
         'd48191f9ecc9bcee331d9af254f24eff'
         '05a49ee206e830bae3211f8f41150183'
         '86203e122542b99fa35e653930763e58'
         '96fdc906bdbc2be0fcc9283fba26ed0d'
         'ffe216d83d5beb7ba45c17977a890b87'
         '28f4b8c81ef77a11bebcbbb129f658da'
         '77a2225fac772c9f3cd51c1779040c84'
         '9bd79dedc92b329ccd0903f9418e274c'
         'a9b8142740697e7a98ba6bb8ff89f389'
         'e6f367ca81a88f77b0521bce937d6cdf'
         '4c4f9f827bf0fe4b72827a0bbabb8745'
         '82401373cbe8a0a148602f90d773346e'
         '6b6c83aca1ff614c91518cb82d210398'
         '680454d834b2fa5cb8675bea6d3c0bb9')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
