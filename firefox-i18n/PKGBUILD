
pkgbase=firefox-i18n
pkgver=90.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('2da8fca2a9594cca00ff6ac62f2ea072'
         'cd90ea15d1a8f22ae64446cfc27977ca'
         '3ebf33da40798fa9e3778bf95da2e093'
         '1e9ec091a87e8048221e5f84fa28684e'
         '31ed51632696d9e5739baf72263f9f81'
         'edea49998fa8d0ef6ce4b95671c4668f'
         'e478d0bf773e3bfc9b4eb986b6b70530'
         '96cb02a0bc4418b506edc76f725d0ab4'
         'cf972284e28c6be978857ad28eb8ee07'
         '08d1eabcdf9c28113bd1c7e7e08d1b51'
         'c32d0a960f498e21bddc4e16eac5e503'
         '735faec7228b114afb0b218bc3a5ff9a'
         '4cfcf6b21f2eb60a9d140f1c6d5d7191'
         '8ae60efef3d52faedcbbb326cdd66c64'
         'e9239fc70947f7b80b136d9d475a0d87'
         'fbd2532531d88e296929a07c68c055a8'
         'a5e45fdbdbc224766463f1346e552064'
         'c039a562305485a271218e2c2a0ef0b7'
         'b67d387b6ab55239f6961f392cc8a3db'
         '57f661dc480e9b613b5a72db4a9939da'
         'fe06b69b348aff0f23d329d6168d9d34'
         'e2406d0a03d6283386e6e90ec9d709ac'
         'b853cd0406dd9d78fb936b9bbcc13d9c'
         '2352254d06600b13934388734174b7ac'
         '7680fe794b1229446403e98d7d7665e4'
         'e471b874d9904ae99ee48eab52e46c50'
         '09c338c6022497fb18ae36d2581a77a3'
         '26596bd35f5a78b934d8b2c0b479e355'
         '24bee026f4c91c4d016e0f10fcd08113'
         'bca8065f75b0f563fca04da349188e1d'
         'fd128735f0188f795a79f3ef49a29049'
         'e0199a1923ab44f54311517e3f350fce'
         '5db6a39250f2e87f2aff03e3e0c64584'
         'd8412bc32aa827217581c7322ef9876c'
         'fe3a616d8fa1b2edea0b057485e19d80'
         '5ef2a7814655752b8676fabb5274016c'
         '4b6d1ac3fe2c8741b4924809950e4486'
         '76b801d5bc885c5fa5a2070559d98c14'
         'a5ad39f311315bb8641bba3d31214180'
         '04333e6a8d7f3b05ee4ac5677d3488ee'
         '0b983ff0ec7728e3fd9f4282dd2e3c34'
         '34788cc10327519c2efcbe4b67e1ac66'
         '4d619f1fd5ea73e3c2f7e65204f8bbbe'
         '60698605e46f67cf4ec8841389dc85b9'
         '7fc6a26d2048bc48c250f82dedc9cc7d'
         '92c0086ef055737b8a143b51a245d006'
         'e41054d9dc9b163b455a868a49daefdb'
         '8540321098ec78c16fe73050329d3f20'
         '6cc309ba21003ecc97685bed55b53292'
         '2b810331ef2f9ef39c0829c48291b266'
         'be7d6054f69794dd7d85f189cf743b73'
         'c9a1cc2906d53e02ad76ac643baa4c4b'
         'd3a3d0df9d0a6f541d67682db45681ef'
         '0faf4d4a7f62f39d50b039231ac6fd16'
         'f6c42a4022f67f4b98b7c423eb90cac0'
         'e679c0e2fc51d531fd68480000d32887'
         '7b8fb30ed7dbe18e7d5fed402a224bc3'
         '301d5a345e05b37c7bc30bc30810f84b'
         'aabef1a598c601a55af930d70479d286'
         '1f11832b65eb5ade49311f91557b9836'
         'd77041decc61a954412018199dcd0ac2'
         'ce5d3350ee24ec3bfaa94f6758652ea6'
         '18cceb2ce455650d26f93bb8c7b5a3d9'
         'e2da3aeb5a243fd9871877f9bbda908b'
         'eddde185b1148298f79151fd13e2c4f3'
         '0be7bbdad96db997f82c2bc24ab68d59'
         '1348483d870beffdc19aed92dd06b3fe'
         '040a4aefd74c470eb245a50797944e35'
         '50649c79979d85f686a8c09ae1e3cbf4'
         '7700e8cb272c8ab49722077f5a4e5add'
         '6c69fe137ce227ed225b62eb1e0d1e29'
         '11865f9fb2b78951a60a33df28f017ed'
         '17d78da35fcb1c87d9535256fec2b98c'
         'ccc75da7971048a1e9ce278c850d786c'
         'a554ad1816a9f8c5615e5a695c4796e6'
         'c592c4e3e4dea5271be52171e5a58374')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
