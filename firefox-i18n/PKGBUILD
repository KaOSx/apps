
pkgbase=firefox-i18n
pkgver=112.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('0d29dbfd693413f044069e6a9eb83f49'
         '576efb7ff4c7f4148751f14a10283e05'
         '0b3d44813af43c5cc2c55ebfc1867052'
         'f26ecf2c947781c1def60746f8bc6399'
         '69fcb80856240c649ed19a9832bad022'
         '3fe92e04870023bfc833cc3755a4f370'
         'a12a177f543a5141ba02a3aa3675ed59'
         'aee1035e43b275ca5427f864af06bf61'
         'd9a548a1941cc1252f48271645b94240'
         '16cdece7ba499e1bcdec5317537f38fa'
         'a4ce820999ab2572d18ec96d86feb5f1'
         '8288a46e5c33037e16fe24851f8bef5e'
         'ce8716c1a5d497e55fd3fe8c9dfb5215'
         '35df802a8942dca7135ba92cbc4d2d8a'
         '54df35996d68077175c8b7e8af90fd25'
         'e878a8b26b4515d7e9e18c55ea33435c'
         '24fbf18d7319c94f7cb74c50c9128002'
         '14e5188e46fe0cb39d1a0fe47e4fd606'
         'a008781d23a590c6dfc176d698150371'
         '57428e5442bcf2f69090a9ba53be727d'
         '554fd8ce80b61b7d3a3b2f5d4755a528'
         '87682133d9f4809d65a6d9cfa13aba3e'
         'fb73faf63c4d1cfd1eb4cac1e556f37b'
         '96a1d15d0f5c61f08c9c6e4aa35eb025'
         '3898af8972ca5a5f8f1d300d24f9ad5a'
         'e6576fcbc78671e52cbb72e61ebdfcba'
         '4e95eaa51cedc68840d1484eff1ae012'
         'eb18fd682eb85edfcb2ed8878990ab78'
         'f610372a8de440a6c346cda158eb77ba'
         '6dd49382081c690b04b692a38315d38c'
         'a03a2c0db6fa7c416d9c985ee8076490'
         '3d0806e959730cb40ebbeac372a31dc5'
         'ac7d81dc4de4800804ced437e0c86ace'
         'c9e54d7840f5f42480f3792f31d84a77'
         '974e9815470ead4d5729376e6fdc191a'
         '15aeb399d7141a09116ce2bf90cff916'
         'f3d4a8eb55e2462ca6e3f378b7718176'
         '3e23300a4c826d76903c5faef94ab96b'
         '87083a03c4299795aa72712e170c33ad'
         '333b0fd19ba54bc6d1a6ad56dead9407'
         '64d846964c52afffc364ebf3b311ea56'
         '591e7ea01d8d6eedc3fc5933e454c0ce'
         '1a3d5b565af98ab847a556f636ba60fc'
         'eadd4638357757b2658595bdc58db49b'
         '4342f2a6338fed3ad8da416109d8e76e'
         '696e97371d01a5acfcbeb99e4f19c76a'
         '531fdfefa35eb4a615096d038e79b708'
         'd0b679979d7749276ad8a788c8667c80'
         '2ca6e171bb1c099e4e21558d4b3aeecd'
         '9cce064a2a15709d93800fd7e01fd1b3'
         'c4f528a4753f0fd4b96841813e0e676c'
         'c236eeb75d55b6be201f4ca450adccdb'
         '89639e281d64887e5d15ba077cef05cb'
         'fe60d362ce011994b70af1416a0a8a74'
         '85e69a626eeb05d4a6a02f53aec2213c'
         '7915829d5cc37a87313b0b5a9f86df57'
         'a9eb966d4e2326b44cc205a41083771d'
         '8558e84d9b521eb0529bc696fd6a883f'
         '3dd3ca8f5b2930830108545ee474d690'
         '0dee7677100c3d654476d35972021b2b'
         '0955bab11a433d9dd5c3776d316e0186'
         '166e39e85acb24e928e96fc43196c564'
         '29bb862fbc50b81f88724c1cfee18800'
         '161de392dd2502f59822ede604e682fd'
         'be611d987607b891f2ce3cd246390a69'
         '935cd10cbd3e81b04db8d3ee63b08e19'
         'f00c6e571eee9890887e3001ffc040ac'
         'd44f716332a6344ae6925cccf0e8a1c2'
         'fb6fc20ab6831b1b53de675170354740'
         '49618f79feb6d01d386be6bec2d32f91'
         '03127227749b7838234f8fa92f0172d9'
         '956bfe0d2fa2beb7b60510b262bfa6a7'
         '849ca5cda2ab1d660a0f60ddda3684cf'
         'cc0a41a8acf2dd6963a3cd33b3a34916'
         '479f66517b1c72863dcff2732fc40fb6'
         '34c100026ed04edeba5e62e02b616f64')
_url=https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
