
pkgbase=firefox-i18n
pkgver=109.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('83e595cace3a5ee3d10e31bd914b423e'
         '81179261c7f87ad8ec3037ec3d6ce636'
         'e9f2350b549a06dab0e5ccb11f17a484'
         '3c3cb0bcdb6377541baecbb4c91eeb64'
         '3377909be8e97cf03b07c9e05b65a21a'
         '1e2ccd35ddffe8706cab9b4e122ba891'
         '00cf5a09b81eff0bd688861172fd2e0e'
         'aba818e12d07e142992273f68f2346a0'
         'b2f05a15a0fb05df0526d7cea1ec394e'
         '316b75ad339667a7a2d0a11293425bad'
         'bced53a8d7d74bcb7d0438e0ad4f85fb'
         'd1a7e8bc4906500924fdacbdfecd247f'
         '7d61067268c8eb843be1d96f7a5ba207'
         '6031bc9f35a786d1ac6737c65d567f92'
         'ba4665a264c3c0d0b038ec60d6bbbadd'
         'bbbeb154c7d4cd144c8dd19bc8bb713e'
         'c8d87a4e8a6839496efc4fe9b9286cff'
         'b641b25ec1f6e058a477cd5345d04b7a'
         'a6f570420fd0c9fae48aa81b6c81ee36'
         '5671e8032423344b7617a389bd7c6a53'
         '9d35a3acea80f44e047c992a456d8d48'
         '3ea232f7420945375535e4921f4200e7'
         '03bbca70c9633ddd6d520ae3a6d181e1'
         'a12cad1d396980b55f71cc1fb2d30f1e'
         '6a4886d75ba2690dc3dd970f5e6317fc'
         '9b823b87dac6c6807737dd18714267c7'
         'fc6ea117ec6249a0b50c898acd020f9c'
         'abf261b7cb1f06613a073fc99bcc143d'
         '1ff4c9a8802acfadad20560ca9fc657b'
         '71fcad0c0022e6908a4cc4a109fadf6e'
         'b512bb95e744149e7017c0bc1033c302'
         '334f4634c0d29795cf25fb09a9e43af4'
         'e5cc33438c1bbe9fb118dda7c681b0f6'
         '37de6a76f639f6b9d1860306735cd386'
         '0d649149b02fbf84600f6ba92b925385'
         'ac79bea1516bd67bbeaecd310bd62504'
         '8761de21bb0b49d8292654b78a3876d8'
         '8d8b6949d9aed148e07a2467aff0ed78'
         'db3ffa17c311a22db5a55841bc7e214d'
         '2de80cbb6dfdf98cb0affbee67c33826'
         '4f8b3eb6c2990599cc52fa200cf242bd'
         '4eee5836167b89c9aa9d037564e9305a'
         'bb7474bca27f2d590141ce811c10a819'
         'aeb0c628c6912847a8d8c78618d8e3b7'
         '969be79625826e2394e9c9ba01eeecfc'
         'b231d9b80374dbcca7b697dba00ef764'
         '15cc46301bed7f41ed0072a96e730b5a'
         '7c810921fad6cc250bdc1faf42a6f604'
         'd1d3d00a480cfc00299529accb70957f'
         'b3c02e9f5a10a1cd5d6ad2e1bb3695e5'
         '32ce15847ec4b304dd21eab257a27723'
         '197c54a88c2c6aaa26c56f5c53b5f296'
         'a6a029f084f467b285f3687763e8aba2'
         '102bb71d76c0dad33b1d9d55716d935e'
         '819476d94a60ce30fa39065eb80604f4'
         '912ee6eea091b50a57009692f1d5090c'
         '04acb79d924ff1e7b1b7a42007893d97'
         'c880eddb6eeaf58f717edfd91648570b'
         '05666b406b5e8bf519b7aeeb6a78a57f'
         'd4d6dd58c7d4141c25dfb2cc30fed3b6'
         'bde98c87fcd1475628c538f9a0dde782'
         'f9f52f8318616edc1b0a9fa1fbdca80c'
         '729cc81ef456be98c0f9b68bd42ad92c'
         '08758f67d8047213f71ab82c2ffc7006'
         'f58706c70eba2142aba3545625e48972'
         '9d5105b6d455b74705d038812150b11a'
         'f47183c4f185c4cea6d044e5e109b790'
         'e8f684dffff71f2a5e4f0850378739c3'
         '71c7f369db4337bd8a531b5a8974e365'
         'c36e69d1b5bb4678040a35313eeefb11'
         '61b949580809b55d94988c72d17c5699'
         '89fc4581379e794926593d21f9d3eee8'
         'fc510e7ab3292dd9aa5a8505243b2a56'
         '79a110e49be36f64a1e8fe0a57e8594f'
         '60d7ee4dfba99ff7b0c555e6dca5345d'
         'db44b57e6073d908d9408699486672a3')
_url=https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
