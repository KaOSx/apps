
pkgbase=firefox-i18n
pkgver=76.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('0829d7d654702957f5d02dab578d6964'
         'f6a4a1ea0a4911e8a5c67ddea9ca2535'
         'fac244613c39bcdc60834afbc91f2eed'
         'd22a5392a4fa9ad0e5af932c624f6686'
         '0b43251c83b2fa272218ecd15ee85dfd'
         'e35906d569647fd7cede51bcdc71e28b'
         '95fec508f34d4dd2527acad8b7404d0d'
         'ac6e3bab6cdea77c5ad9d2abeb0bb9d2'
         'e4dd68140013550fe99e6073e1aeb06f'
         'f9eae008f28e3867841f8f85a224c114'
         'ff3a3b5a4dc0b8b805c624a7f0c021c1'
         'ce1ffb995287b04d19a310be190cdf30'
         'b80afa9e5870d4bc89feab60341b2cf2'
         'ad6aedbade696c1754ecf2bf04cb79fb'
         '09d11a942728846c19bc5a7d66f8c1f1'
         '4de8ed4567d95e17449ec1accd9296b9'
         'c14beb7defd99720fa90d0ddf3519d41'
         '7ce261273dca994dfdf38698212e45fa'
         '6b507c359f30fc51c70e73737cd63fca'
         '239d66c85ec7ca50260b708a6b2734be'
         '1154bea233ca90702cf41128d3943f58'
         'fcfa157b95cc25b880d818d6f9f63d51'
         'cc472b8b13ea2e59ac6d48f0da0c0080'
         '53f9d48a8e5cfc8759bd92d976dc3c2b'
         '2cc9cdcb052a1ca8e0a659db5c455578'
         '1ccc7600717871c285ce4e8abd6ea9fc'
         'ab13b3c90ce7fa3349cccb319f99f6dd'
         '188285d48402f1d341887249f0f254fc'
         'e492d220cc452c7acac6ef467673e75c'
         'f86e72c9ba3308f6d8b9c76890071828'
         '0c736a24a0d0505cab77842393fc31be'
         'd8469240b0798bbff56e7dcfbd4873d6'
         'a6cc671e2c99d44aaa5e3977fae42f97'
         'f47f14cfb696cdfcf60c1988040110a9'
         'c77d0b82e3ca252d38a9601cbcda06ea'
         '591a462db2e0fff2257db22b65ae4b61'
         '90aede40e3c80241e464d8559182e31e'
         'f97e218f2be9730446d345a794f00e44'
         'f1405506fced8ebe0cf4de8f1b6d7c68'
         '8b34e7acdff2a8cb9e9f888de1d1d74c'
         '8d15183bd021cedfc11687a903bece56'
         '3ce20c3204cf61c4172ecf5b58bda3a7'
         '5bd4e83c634e0a7b157892c47ca3f894'
         '965d2b75b157595284bfc0e60f4ad2a5'
         'ec76c40416d22583e4b43c85866b55c7'
         '0545a0e43e3af47b2321b6d01d5aff65'
         '12d790099fef0f82943da37b56acd345'
         '626b36cf77676c99ed9090ec5b1a4c03'
         'b99bb029f8f1fbd370f0e75fdcd6e19e'
         'f4f497555cc6272bef7ec0ecec0f9390'
         'a26f1e014bd1d579d1397b81b8b20018'
         'deb05d81dcc8d44710da00f795ada095'
         '46571e00a404f8805606535c500af85b'
         'c790f529ecdc258f57edabc157ff8a62'
         '1e4f103e8639c5473b5ad55919e23bac'
         'cf247dec20023730c08c63170a610ee0'
         'd9d7d314cf210edf06737217fc2a9290'
         'a83e76bc16ab92b06be1bd21a5cf9eda'
         'a4744f4087e95d5896513a035216358d'
         'eefbcf5fa115632c484d8c89adf981b9'
         'a24364ae3b02c254aa183732b2614d0d'
         '93dafee33271055f280748cf4a4378e9'
         'a8bf111afc9804ef20fcfb1e45c79100'
         '15fa2832f1ff6ae4e735aba459b173a7'
         'e201a8b61db6d24e8349a50bfaf6ff55'
         '83414dad022b215612a0bc8709b22c52'
         'acaf04358ebc5c74f22ef78e6714846c'
         '312a1c5e6dd192aafae0d5c536b46316'
         'f5703a4a1e4a52c8e66a758987aec3ee'
         '34865e2532ab75391c88d77f2eb9b505'
         'dec6e40bdf6935500e38947da1610ebd'
         '159e2a6ccc07489756cd204b7934dbd9'
         'a3888759eb2943f876f80316532ffa79'
         'c4c4b98147a3815a9c8c6614b4159c8d'
         'cbdc0fad807d69b3667db62727f53ac6'
         '488f66e2b4b653074b27c86335aeca91')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
