
pkgbase=firefox-i18n
pkgver=133.0
_pkgver=133.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('4a80427ebc694ef0f79fc9a6c628b2a0'
         'a7bdf27a761d77b96d358044d042b004'
         '27cbc4f9a3fca1588991866ebac6eea6'
         '7d5e6e084ca0b5bacf3575f29fd1bdc7'
         '5dec90147694af420853c21738e43c69'
         'c57cb197b3ce75e8fada315abac52f03'
         '7e67c0990d2d32265f3c90fd5043f4b3'
         '8798427708af1ddd569dab770375170e'
         '2599e373f0ee8c75ae730d1372a878cb'
         '8a482e03d461676605f8831e1df2e8a9'
         '11d7f5758d84b7ec8ac18d38d0dcb12d'
         '01b42d0771e53c3a57adec8fe6765737'
         '7eed610cc8023c8e53d161f9502f8b3a'
         'c6a2377b55adc1e1274f85719c9afaf2'
         '86ec0a874d7ea0dfc294a4b3a8584af5'
         '04cb35e365ecd091dcd3ccc0bbeb2530'
         '1e1ff7af7dc44b2fa190334642e2e743'
         '420085b21d8e44dbabd317afe4c5daa0'
         '3389f48f5b40f33bb418189cdfeb402e'
         'f3ad96bf9970d03e131c62e7cf6e33c9'
         '9923e4b3d77e04842088d092300df281'
         '9e0ddb353e4406be26f16e90a27e8892'
         'edde8e04f657d7ee882b073f0fae27e9'
         '2c05553081fe8332231f0ac98e9a472e'
         'ee582e9e859e44cd67c71d75722fac32'
         '5952674fa9b9b5045aa1175fd6d2c6dc'
         '608f133a666547b520e97c9a0002ca09'
         'ef449f58cc5c632f6baccc83da871cba'
         'bba71197f0287517c6ebaf2fa27e1034'
         'ce87928ccd1acccf74976789270c7019'
         '7cdfd8d0efd999c12dd49c0ea8671894'
         '6fa175fd70883c9744c0c3e5adb74bdb'
         '67462750bd3e7a10a7be0c1ed10cbc04'
         'a1e8cf71036281340c78ccad810f40c3'
         'e5864ec1cf25f9aef5d01745c549aa54'
         '70e5d7000749a5fa0f1c925c06b48d03'
         'ea9630726393b8f4122ab7b6ffb65342'
         'e24529727f05a5eb64ec68bd04e445ca'
         '5ed9dd5f7d95126a4b88f2118c2c2b78'
         'f9f150c60bcebcaf08a7dd21b53da83a'
         '09a15ce8a1f963183dbaba0f2ff726fb'
         '3169563597cbd702d4c88576723d8b0b'
         '9127ee0aca25da1a71b7d92fb7d5a89d'
         '7bd8be1339933ae8263d9ea4356fed10'
         'e7875b0c1fcd8aa6f8e6626cc09cc306'
         'f95f06e951ac230cc31af807dc4ad0f8'
         '4db2a606bed1ff73f5ab4b68d51d697f'
         '0b6f28ac7eba04ccee6986b9171a192b'
         'e263626ef07dd1c9c72a5f23f00b68bc'
         '95f98c329f5b7895b6c54e797d0809f2'
         'f38c3022ad43a1457ab1d470e6eee1f2'
         '475a48b7890c38d8d8b7d88e6cf31ec4'
         'f2bfbf3c9fd2788f7c42cf47e1ba5f8a'
         '3167ded6fd10c1b0d5283348373b632a'
         'f1047a180bcb1ab69606ac47801db43a'
         '0d0e1a6670c4e908290757dc13fbb472'
         'c8822ebcbfb6bf5ade79b7fd83505d38'
         '993fc3c36eb5c57fdb046990195cd6d6'
         'd2e9cc1e886682c7648f27c7d221c6be'
         '0682df75b00b7450ab0ca2e40566b8ae'
         '8f37bc49751d8efe18d95f8a5fff8591'
         '46cb0f463f943ffe98a9132b1c65c43c'
         '5be618739fc02c16a23775aef73488d5'
         '4e454ac94c6a2891b436f212a5f18478'
         '4123eb1242acb1b69d8f8390c113ee01'
         'b74a3d13f0298ec0b56a120573e58fb0'
         'f139371455ddf46f0942b55139aafa07'
         '09455780d5b927996cff655b64de5a1e'
         '7aad38f9e08469f61428da8a56c863b5'
         'a5fab7f8b0a7c10137df63fd4d741f13'
         '191b38705fc3330ed61e6dfe9099cfed'
         '06143ab31545b2fbc95bda102553fa7f'
         'abdf2d1cdf3beb5b9be151c58150f025'
         'd0ac0180a8c9f0bf16dca2639dd774db'
         '087f3d99b3ada550d4820082128f8784'
         '5ac3bc4a94351af5876c618c2b099bbd')
_url=https://ftp.mozilla.org/pub/firefox/releases/${_pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/opt/firefox-${pkgver}/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
