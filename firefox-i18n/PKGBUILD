
pkgbase=firefox-i18n
pkgver=109.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('8ae13ec7b3a68c136ac618a4cd0859cd'
         '824d720529024b7cb1d181b7429332de'
         '4eef7537d075c5848dad616178dd8d5b'
         'ecff81d2327a2d417c4ceb463d73df66'
         '70dd85bd470eebee2c22a216d761d236'
         '66bcf9f696cb3a3795fba5fab730eb52'
         '8ac448efc30030bc86f3d32f049fa50d'
         '1a598e35016243da00f7a3ebf60c035c'
         'b13a81da8494a34fda1fc84236125863'
         '35ca5ca04720e39a8f459d17902f5039'
         '0fdb8aa1a23eda45595980cdb4d94977'
         'f35cb1198462227bd5ef399140860c8c'
         '405bc6f440ce7e2f6674ec17d565bc68'
         'ce6f34981c5eb7c33b4cc063497cf41f'
         'f614af58423593f1a1d0828ee26c2643'
         'd8b03db863322ee2c0f04495a9371778'
         'a8ef1c2c7344cd91c2391c8853b1a0ec'
         '1af089388b30f635fd3be753d20ce0c3'
         'b5a444cce7fd83861e33950433500b46'
         '2036e41a758ef84d8262f42cd5d42176'
         'e5e775a270cd8142ffee79ccbeaa99ea'
         '1d9d1945ba32ca0e92bf3064570c9f88'
         '988559b59af8f8981daf468a7a71ff8c'
         'f6bc6665c80e49a6c7cddaf87be88793'
         '610d10095d148610e90af61807b829f2'
         '3d6f7bdacb313179ae0942a92da3f99f'
         '71e96358818956088de04cefc67484c8'
         'f171026d700a53840e90ddd5afa5d24e'
         'bd2ef16d40edc42a9b31d5a48b342efd'
         'ef21a3f3a8fb73be69956a8a311fd2c9'
         '9aa1dfa18c8974f8309f8f1086ccda64'
         '0b1ff00fccfd599054167084e8f62ce9'
         'eb5efc5c8e6cc2052b4dedd4b8ef5a07'
         '51952edbf0fc75b58f7ec8eea034c0bd'
         'bff1ef44f76f2b8b42d6d82b84f67132'
         '42110a1060bf882af797545bddbfcb25'
         '32d0b071a10c6a52c9d622908a378ef0'
         '53fc01e1e693ad9e83b9fe07833f380a'
         'f25e733d41b748ea4b4cdd4c936531ff'
         'dfc51cf06277c8abdbecead829fd0133'
         '28271249474ad2f112ff624a87cf6a6f'
         '6b60f72d6fec91dc93c12bbbc85bb3b2'
         'f47995688b7e1e0406d1f5097fe8f7e9'
         '5c7dacf430ca396482c0b96c98b468f6'
         'e53fe03d1caf6e6a4675c1dd00e9ba68'
         '0fc06242219a5eb61492c6c9b07c3032'
         '4c9bdd04ec7f6d3d44ad150fd2faff2e'
         '0fac9a2c232d61d043988cdb2e171d9e'
         'f9f342acb669395d9462d55cf19c9aa0'
         '9db9ce21c0f989cc8957d6f555ea63bd'
         '77a72cc53aba6e8719cd458fac2820df'
         '3b06838275ef5d8eb5470b8dcf4265ba'
         '9bb0e9d160a6f63017e801e63a294069'
         '20d6fc285319147d0906924d2a0786d7'
         '9287687204d694205e8bede572ea5fa1'
         '4874a03f20cfa10eac21c80fa37d542a'
         'ca5f99ea4487b9e09ad50f4664807c69'
         'bf8e88a04ef740eeef5a1e8310645c7b'
         'ed06e03f4e3297ec0e585f7ec3e5f35e'
         'e5bd57a2cf8189b1cf262dc49d773b45'
         '1ee89f0043c1d6bbfe89970f66722d2d'
         '5d1d4c4e1d872dd309194f5c7d8689dc'
         'c0af02a0bd94e11ced6ff418739876fb'
         'fdc1aca413278ad68089e655a16037e9'
         '0fd85c6bb8fc26b0dbfd1c1dcf945560'
         '4f01a9da3854de59828968d4061052d1'
         '46c60e719f6fc894f310d703744e512c'
         'da5f9fd0f80c8889fba908d793a494ff'
         '194ab847986ed0908e72e416026d227c'
         '1ac0ec5518b5533c11eae5722bff64e3'
         'bb54ffed05e2b71a4888a57daa7f1650'
         '36ed8da07c4157dee5c339e0268e97ad'
         'ff7c51e62e0b759445904bedd710c6a0'
         '1231c2dbdbcb9f6905cef3927d63590d'
         '3209be4d129145edbe85e522ae577219'
         '9d4e7ddec4f6eebcce51e5ef62803718')
_url=https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
