
pkgbase=firefox-i18n
pkgver=102.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('a712c640b066b90b43a0cd39a4cacd68'
         'f1ed2f47dccba05d9a4b8b8ef3c957e1'
         '4a5483d96d07e8e1f7f6571a38ea5dce'
         '180fc7062d629d7426919058b90dda31'
         '405119b011279b6ba8ad16e9bb27c03f'
         '4baa220296c50ca9eb2c3794c0fa6111'
         'ddb6ce18a6a7616fe72bec829d722d39'
         'fde497fbf4b8395a0420627dff2d400d'
         'deafbd12b4410a966524432e58c73c6c'
         'a76398d4b2f1f500500f4355a82b8a33'
         '31a006dd65ce110f5c2b86f9d0c3c8e4'
         '9e2e2c30ffc6d2ad69fc8374ad53c840'
         '25a4cb1014d138e7f78d9073a923aa77'
         '4a1795cc46816fc6fac40006635e94fd'
         '234aa3eeea6e0cf1609387f4fb895714'
         'eadf17de24f905a8af98ecff4fb92ff8'
         'f2a209ccd9f493304000437348b7ad86'
         '33831c1e6e50e6bc320ec74d6c1093fa'
         '18764d4ef0419d55a47843f7504b03a1'
         '067f690cd2082570a304f08f2a5e2a3a'
         '2cd968df39683b4f5942c9c73ded2682'
         'd0141f3219923dddf8e763661aa4878a'
         'd7d8b292d6732e6a88afe7383263720f'
         '5dc4c9ff0c47ed0c5f41d840d345ed98'
         '633ca7b03c844616bb917ab3c55d9755'
         'afc0ef08ae184dcb19f1469a6ade27e4'
         '7e757c074410309e88ed6cead802fb85'
         '6a2800cce9a127c951108b94ba653be0'
         '6e2cef5cceba01a254b9490c80584875'
         '8b4c9975997efe66c24de7ab0880d003'
         'e467e0327760e1f53b30e3470a9aed87'
         'efaaf8a43cec9bfe322c6ad0eaf83581'
         '56f5cae4c68812c5d01edf5c31ad2a33'
         'b9c0dc36be5f8a8420800d47909a077f'
         '3297da51d61f1b3619784e66366c6f95'
         'e63396ae6bc5a7bbc9104301e58e58c2'
         'fb83d58e0087d90ed887cc994797b12d'
         'a727327aa50852d16314a61df7387470'
         '7c149170d11e5a890d7cb6caf877cfcc'
         '5e1d1ea62b9f5392ecb0cf8ffa269467'
         '852556b16665a008a7b198adcc2d1d87'
         '1ce9cc56c6d68934fe2fd5286750d6cd'
         '1db620c0eb84e1664ad88506d8fc7f6e'
         '6e22d7f36f4da165ae080bb3026374e1'
         '0924ab130c0d5a2d833e744797802445'
         '3f876d1c8b1af33107d0232a27dccb24'
         'd05a11665463c5f3feec9ffb1c660c83'
         'ae1502f79456fc1f794ea38ba9f026ed'
         'f46a144f6bda903ae6f2dcf62ffc47dd'
         '57a04ffa375e892b223888d615993402'
         '9278a3c6160e3fc7c1666bb9e08a1af1'
         '9da9a1fb9babe8adab7151d34bce2e5a'
         'aa7481b7819585236dd445ca36e6b6de'
         'f6fac3d2fc1e9698d2f3d309a258c786'
         'ed72abec506eee7f4c3e4f6fa5109eba'
         '4b22be3d3f4ebb1d8e028aadf98eaffa'
         '85922ba2270a69a88f102e4fb9a55989'
         '7a6a082996a781914df8a2cfade1c359'
         '3a51376c1b87ab009869e4f7aa992280'
         '37b74d8b42eed438512b9de3148990fc'
         'c92c6a2f8c63d7d63b58318c4c86bceb'
         'ea7f92747101fe73e9b46da28d7e463f'
         '0deeab867436e0d63e8e00be42901934'
         'ebf9b0f7afa36c12d1921786e02bf236'
         '73486a3888d0dcc1ef0ba0b9c0bc16fa'
         'aa2cab861435b085bff5cf25d3d9c9ee'
         '060f0651c4e8399650ba8b5803477132'
         '7514c4943bfbabc0b3e18650a556b1bc'
         '7a5a6b42b4fa4b1ef16d143b2ba693dc'
         '8f4ac3e40cc322c52ad9cb5267ab8be4'
         'dd73d83fcf830a2405c72f898cb41335'
         '6efe90ab4ef127ffb999ff5fe3ebbb7e'
         '3bf5c8606e3d6a572026844e450bacea'
         'a49b06bf980e28e4104d6e76fad208b0'
         '2e8d093c1cf14e671f13416b80c92ff2'
         '409db5d1983ea1d2848335a06debea37')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
