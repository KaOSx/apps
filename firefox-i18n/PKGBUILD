
pkgbase=firefox-i18n
pkgver=96.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('523415daff27d0725760ba3030132196'
         '8e09a13e3596421e5fdb62535e219179'
         '14fba33449e586059c6e5ef99dbeaf54'
         'e9c12d84cf5baaced247d62aa14c8035'
         'cef6f186a7ac262f1660f200f868d3e6'
         '33f54eaee31e65f46c32fdd547b0944c'
         '668fce8c5f1ce54a942ce92f6993cc24'
         '9135e305c69365135f98cc34795415bf'
         'eac9799bb62d61ea05dc000ba4bd607a'
         'c2fb1e5b6550e22419708cb0d0e944df'
         '11263b5641e2e2dd0601cd0452b79d35'
         '354e1c7e93645c32bd2631eb21782ad4'
         '31272bea154d4ebac44a34d575a7febc'
         '48e62a8f73aeb0ddddf6ca2df990279c'
         'd004edd755ba103c1117e15fac5bab1c'
         'a93424f41ed345432e59c1a2951080fa'
         '7e2f034137bbd8682e39ffcf23e6e69c'
         '759efc406a460bd3232f14e9c449efd2'
         '476e86acd46c637984c64baff60b1ab3'
         'fc4c97f20cd53df0c2e7ab4aeb1d54b2'
         'e6dcbafec4b6137c18883ca1218ae572'
         '5155db180748301e1310b4d308225384'
         '4917a27338a235cbbce5c0fb156566ae'
         'fa29784c666831b56e21478694d8585c'
         '08e8612f2887703683a307dc433104fc'
         '572515e499e2c959b1ba9abaa34309f5'
         '5e840fde15d34739c84ae947d59f1bd2'
         '6c9d5cc2429b9d65cdddf18aea635905'
         '3ae083e665ef98f3626b88e945ac2589'
         '3c4ecfeb16d3755341ca405135523be8'
         'aa69a7e94495c5f503d04ca4cf5145ae'
         'de321deb9868bcd82455b6e93d34912f'
         '1829c2b7caf5a4c3434cb126c9b3d1b5'
         'b5b709589e5d4ed3fc797ab10d62fbb4'
         '7f401bb2cc0cbda56e7e85b0d7021f28'
         '6ae790861e21b324378ed972b548268f'
         'd3e3b8cf720eb4be4ebd6c45143bb7c1'
         '9973cea9d9aa69488d3317a6deabd5c0'
         '52fcbce6d6fd596b4d5b8e077e289b2a'
         '39adf4001728231f2412a04901882e32'
         '54fc93dba3622e90f171fc1b9f055df9'
         '9af351d50e326d6cfe37d563cdeacc03'
         'a05c951becc51821d5af962cb0fec20b'
         '1f5b39edde99c2f4695e1a94e59d5462'
         'e000ffb7ce4037e010dfe948fa73ea35'
         '00d151a4f4df9b119916466be830ee5e'
         'd6fc455708bcffbd67e71a2b87999d95'
         '954346b37ffe2d1764925828ec624009'
         '23a74e4785e2f152f7e6a196e2699a41'
         'ad2541ef28777fb5ddd752d1c3b4d2d1'
         'ba134f66c05c1047096e02626696f6ce'
         'b891701c3c0dc82bb7e166e27e7374a9'
         '9c0a810305ce438e7286dad063f2dd79'
         '6c4e0369ea042e6d501363e03434fae3'
         '276acbb5c873501a7468d0e694d41283'
         '14e0997203b87603a7a46e12e40eccf3'
         '074f3df4410e9a24cd8c022367a4171d'
         '058fc5d900a1c6cdad95e066dd6a285c'
         'cf130755da5d29d685c8e3df3770467e'
         'b44ed0be33414b559e40d65173fde461'
         'df096841bbd7de5428fb5360bc3819a9'
         '77c856d83172761c9bdd5bc6d478452d'
         '694520cf3f743b9c13a9d40ffac1fc3f'
         '4b711b5b701bd2243c281aef2d272060'
         '8646c089b59a6433f51e4ed1cb6a8f40'
         '24a78d53ed52166d3588709970638a53'
         'df5e55c32e52f24482791e95f26f2fb7'
         '40b81038cd7e683bc36773f5ed0d80bf'
         '5a3667f35c92b973258183a3f98387e6'
         'eeea04cd65401a533e2c9bdde65ce884'
         'dcf328896d515b2d742417c7aee0ecfb'
         '5fbbafee96cc421b19ce0f064d96adc7'
         '018b209f84722449c3199a8c9feebb49'
         'aa9d4c2148589f24bc5ca3ce521dec48'
         '971990df74daea07e6538d74f29c1a80'
         'bc9f8650ae07aacef34835f1d21615e2')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
