
pkgbase=firefox-i18n
pkgver=81.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('aa0230b338c581181245bc528dfe5b47'
         '624cbda42fabfa7efe867dbb9605d0ae'
         '171871933794b86d7f2754d1187bdebd'
         '8011b784e47175ca212b50af773684e7'
         'd856c18c72968aa907f03ee8879c254c'
         'd1416697eefa505e6f2301a20c66cba6'
         'b3d2664ffe40a92ae9a79a3365c662d5'
         'd74b46c972dcab774796e87f54e2a9c1'
         '7c832ae471beb2aba33363661b153fce'
         'df475665363c0281d7fcb30407d9b9bb'
         '31477ff0b2395d035f2ff6919e0467c5'
         '7b687a862ddd4139a6736382310bb432'
         'd7bb347cab50cbff84aae15ac503e2f7'
         '1c47370c0f5efe5c085fd52773b2f372'
         '2b9088bbd2f2fb331dbf23430914d5de'
         '4de27df89f57053537a3fd506649c772'
         'ea483c5fc60ba9cd7a1c1aa6f9b48e42'
         'ef63ef5335a1684a08c33d904b13b6f3'
         'baa49f92bdef3196008da94f66243e3c'
         '46bf15dac4cbad86a5554bd746d346ac'
         '3c384bdf01fa8ff1c6be972835f8efc9'
         'a9c7634e6eecd28b6e77dc34edae820d'
         '8b7ccfe368fa26f0c96d998fa1912263'
         'a2ee2500a9c9b437559f05e5161353bd'
         '2a375868c1cb3fe55663f2bcadaca432'
         'c7ef48497644c84b2eb631b66d7a55aa'
         '4465775214c19d1520714ffe464db259'
         '7ac4fcc8c3204852b7f8b33e2d00f73a'
         '5924903d650ac6102b899fe443742ebb'
         '9b5f09383e77a2b2cc3513b996d3abe8'
         '6a7adbf94ccab69daf8c5c438d25e2be'
         '5e602cefff169c01d975dbef7d4ca1c0'
         'b6f65be0a7f00e4c99f6c7a1a4a74e03'
         '6fe65a1a334f82550cfff4645cbee1dc'
         '3fda3d7e06246f01b94a41c9672eb3cf'
         '23a910a5d91724480ed7ca2877398979'
         'ad387dacf6d5137dd38e4ba47a389d12'
         '9e8a8471ecb118415a9c22cb708a8180'
         'e69eaa795234728821c4e13d66779f72'
         '38ef203582b3f1067c38b011b3a42c39'
         '5104cf49178309021a950fccedf9e712'
         '7ea4fb55cfe5f1e828e92de725184dc5'
         'ab8d854373225e26c42c72b26739423c'
         '3b14a06c852052534b8901294001e124'
         'f6ca5becb5edd127ed931e9b23ed0f3b'
         '44980c594df518cdcb6336edd3228bca'
         '1ee45610b18c7f17c1cb286736796378'
         '28efa5605e3951c6969e000ef166e377'
         '39efc884be23fc713e55d0a45762f018'
         '8124a22a860f54b4bb8e624210042ec1'
         'f256b2cea9df1e383dcd68c8ddd4e372'
         '636fa9396dcc78d80ee71e90e112c04d'
         '8d62fdcf2737cbee9af32015d40bec16'
         '53f8a261716ff029ba26fd553305d569'
         '6ea404e66529c4feda86b632490b1bd8'
         '2f8f6b0f103fa64f73c7e8a8e9d1c92d'
         'eb76006ff6076409ea674b2fed1afe2f'
         '7e7b3e1348f562d50bdf745755726030'
         '0c1d8ca40c2615657ee3d24dae4e6b75'
         'e8b64a6bed6302b0575af01cae3103c0'
         '335e0de57d428e61d7960022cbe8f316'
         'da1a7b2a0acc3180999220a3b5d1914b'
         '2e5f673a3abf7a3f2526e6ee16576382'
         '09aeacac2c8fecbc4b17cefb90d28016'
         '3e2b1e61e48a87d8f6bf41beb90e0df9'
         '0cdf42a493e969bf03f008c43b62c5cd'
         '1cc9271e388c9d67d780a848d70e2375'
         '7d7d696af81e6f734df37d9e73f068f4'
         '9f79a194c8ebb6768dd651e4acb2c252'
         '166aa005709b6bf3cf305a36b6efbed7'
         'e0b820b3582f9cc727a6fddd4c979d0d'
         '19133acd872572a21ad022a46cd7a687'
         '14e2585614379a0b3676b13c5777831d'
         '0bb640028558212657a517a403272de0'
         'fe48c9c5aa3d54708eb29727cbb023b3'
         'a8586fb65f808cec918421c9ca97c062')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
