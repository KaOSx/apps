
pkgbase=firefox-i18n
pkgver=82.0.3
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('31d98a9f773f27f4e0baf89df0b7ffe4'
         '9851284f5dff03427212ad6dd92ef5e9'
         '2c299bd2a4ecb160fcc61d8022c28f11'
         'faf674bb48808b72001d1ba481b7dfbd'
         'bf73cfa9dbb1b73e65dfc67cb3c3ad68'
         'b7494bfd96547eead9784cfacc2610c6'
         'fc3e5c28eb2a7dcf51d9166b3b1eea80'
         '644f160f56ca8c462040093442a30c7a'
         'e42268cdb523286d111810fcd68af2f6'
         '534a46968e2e330d5e64d8545fdd0bb5'
         '89a58969085679564feaaf39270d53e6'
         'b8b5a796f107bd5f93ab6eceee762f97'
         '8a73e410cce39c929ae266322503d46e'
         'cc7020e5b34e3f85cf34a3559c0a47b4'
         '5ff3fe3a78be4060105fbc5232a9f2e9'
         '13e846236509bda5f80072720167f09b'
         'e127768d99a93d888923c8ee80f1305f'
         'ddc0aeb1abba5d0f0a0480ebc68aca0e'
         '31a14997713547077255a0829d1e00c8'
         '4592ad9d2504b601631ecb4e7b1b3e6a'
         'b6dcad4ef38d8fecb9707be4eaa86c0b'
         '71a35461e0aea9910c7d48368edd1e92'
         '4792973bedcb7b2b217519bc4ed13f6e'
         '1b591da906f43907254de7da5f4c30af'
         '3210e18d5490f9730ba186fd73a99690'
         '570985436e4f1f372afb0c4f21007e24'
         'c557a10086aa07455c48ce7aa8efa04b'
         '27ac7cb415bfbfabb79c31bcb5f62300'
         '0cc2b5ae406673dbe878fa8ea5aba16a'
         '98e64407d2005e059c9655f70b27d21e'
         '8d15acc039e34224b113267b4ae6038c'
         'bb11acc10100b38f916fc16816d6f726'
         '834a79ce6671c489c8adc61b0da9c3e5'
         'f1b952150c2722151670cbfebeda20cd'
         'c09510739b7277ce7372849773d05030'
         '02b261a4a560335db00a48ddbd54aaa7'
         '82e8c2c541fc62a71dc997afade0d4f5'
         '7ab2ea43d74676558e0ddd3921ff694d'
         '3cc23b9d3e80d8ee43334c68e6df946d'
         'c7b6aeb1b9f1db54f7385ee7365923cb'
         'c524d4df60ac45e76826adecad06a835'
         'ce5bb65c4fcd9e8aa0bd0b3922900e5e'
         'e1b6c9bbf1e691ada61463452049dff8'
         '6f45d740d807494cd63dc31868f66d93'
         '842497d207b84ee347194a2158aa132b'
         '337030963464d534f7d034538e63e163'
         '6587795edd54d0d4df843a8b6ff3a499'
         '757c5a14371a934daec4d057d845d8d2'
         '57563e320c8f9318141129fcef105b52'
         'c50df228a0b6ec409c3c4d6d13eed299'
         'fa5ace5e296ccae2f3ac0cfe4ec301ad'
         'd7a6d6729ee6f3938d6293e522f8f4d6'
         '96d35cfa5606b0ba6d6876fa1e5b33fa'
         '81826275370a4b92d7840bda021c7604'
         '364158abe95e2757bcf0037c15bc94e3'
         'e01286a08bc3f210e26953e7d5f0d782'
         'f356ffc96acc72949b77ae07d563201f'
         '07779d352375cbfe0e4948d6200b32a3'
         '1bb61859b75587c94b762a2cfb55821d'
         'a483a874499b9444316d7e28e23daef5'
         '2ff739f9a152b63cdf13dba640d185d5'
         'aa79ef815572c5b1ffba281d219730ac'
         'ff34a6971a359f63f5577f3c6cf7dbda'
         '312c96fc5991d10f8960062a6a6394bd'
         '77839c1849d5ae1a96701b920893e20d'
         '2730ab5e286f6646cc7633fa6fd4c7b8'
         '4201b546268d9b6556499faeb61ab5e2'
         '8c42b7c28367e12808f418c92a54d7ea'
         '7c0ca23b6331b5e10341e4f3c994e2dc'
         'dd71210784d1a85651f9537338153bd9'
         '61e280f7d7f864bd3f12b97ac8c301e3'
         'c477098caa89fa424bfee246d6b9358a'
         'da1f37c03bbf0a88af5ea58ebef79919'
         '73845f2964e25a90be171c3f8ea6bdbb'
         '3a06abf68c658cb18f078ad3abccef4d'
         '24421200f638a2757352926d7696fd79')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
