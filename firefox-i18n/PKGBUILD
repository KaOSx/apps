
pkgbase=firefox-i18n
pkgver=77.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('71543f6d63ab23e0fd063f69b202a626'
         '28a8d38e8d5839b69b8e5018629c94e6'
         '4ad8d3607065be83dc83e3b39dcd4fb1'
         '4c7f2383bd7ad4220ce037ac97752bf4'
         '8a8b1d89788e18ffe632ac4eb7db8c49'
         'ffacdbb9425a3e566167df346c7aefb4'
         'c574e9fa41cf61c7e37907170989a369'
         '76e7a4363462174d77a28c21a5a02d2d'
         'e3e54c1b6ce07e76d6d8b7859346cd52'
         '01fd25d1ad2bc0b105a3cc4cb02b59f1'
         'e02821a47039a3460329a3a7fb0b4406'
         '1d21f5b9d919baf723ff07cda545178e'
         '2a35b4528e6e8768b87f2aa1642645b6'
         '75a23f84c44d37082554d7e2b57c8137'
         '3e97e1b07e3a503aaef47c1efb16597a'
         '2eccf481f0c58cdbffb30ab075504d2f'
         'c5798e0e102ff5df6da6548648de8748'
         'f51ee3b1822edeb5e68b48a6eaa359f7'
         'b7bd7cd4c516d8ea940eb35fcb0507e9'
         'c18764d07418c4f8de1c50992c03e5f1'
         '3124d4b71793d1dbfd60dbf4e2d93133'
         '061de1367697c1c13f496eb9e4916069'
         '6dfb5050a5fd62b832f83cacebff9234'
         '32279f348c097340d7e41fa3c0a2ed7f'
         'b2a709106c8dcb98ce5c5a1c5d89e5d9'
         '0516e3072004aa8a1115015dd51ccbd4'
         '94505a176431663c4a5810845010313e'
         'be1c30f50ad01abd132d4f44c495a16c'
         '8a2246b02fcbf4df9a8dc1bcdec55d9f'
         '629cf99bda2997e72912d1a6eee8a098'
         'ae65279be98386b7951a01d099377053'
         'ece7cf875f8ea17f6e33c93ab4616405'
         '20fb386912671ce9579caccd117e30ab'
         '11767a6476425d78a9499389742c97db'
         '071f38b47ddf53a3c92eb8882cdd84b2'
         'edb2dfd0e015fad2ec88c0b661ad9442'
         '81d8606fdcd7a7fd0e9eb87653a2a24d'
         '5c3cb39f6c9f85dca4b5e4ef06f8949f'
         'b2028391d33422bd1b39b69833a52303'
         '352680d62487ca89dd19484578003b74'
         'e15d4b703e1308bc225fcfa4cd81270e'
         'e34a1739f09b9d2d6b33ede7a31949c6'
         '1b3fb4c4fb4ece408ccf2ecdee4428b8'
         '60d5a8d3a42f4ec71306dd1f88761007'
         '162c031d7a5f86e1808e5c00f4aa9268'
         '45fc6e0354bf9a30dcffddd5ccdfabde'
         '03a5a15bcc98a83c027be4d085f67645'
         '904b88495fa1881e11e8e59cb5bc8e56'
         'e0cf87a23d40da19ccb36ef3871b26cb'
         '8d5fc38153d5419b54a367f0d2e32f7e'
         'f3fcaa430653c17e43c9759d065c6ab4'
         'a14770b664e8fd6b0d258798b1289dc2'
         'cf4efd6b699367e9311b23d8d75f5a22'
         '99c00524862dbf1072d66abd002eacbf'
         '70bc7e9585bc8ef19f11821dc758e9c4'
         'd68bab00239c4d91ca3849f6fdf0b8b7'
         '2ba815ba89f7d67d8609f0e6aaaf9202'
         'aeb7d53bdd52f34d6a51b04e1de4ca14'
         '7f57afafe7411b0d2cc0b31086c9fe02'
         '4848e44d9321a212c430126ba53616d9'
         'ff89671e1902fff27efcc1fd82ba9fcc'
         '913ced91ded9484207211ec6fc0bce62'
         'e6fc44803c01a91a04e744a99c6fe3f7'
         '5bab8bae61d3903382bf15f9ab0b5527'
         'e9fef135f7c9a3b6a092a119aad2a2cb'
         '801bff0b72f1b7aaeddca723112b07fa'
         'dfca40dd13ab3afb16f8fb6f9547a7a2'
         'cf965c66c02edb171808e2aadea08cb5'
         '98dc176f76f5b839e11f8c5897918951'
         '46b128cd7623819830c473390fa1e55b'
         '20695959273a6704a21f19d743279de4'
         '47cef77726299d51ec6e25ce8977b6a6'
         'e6ed4d010eddc91316a61f304f53c37e'
         'f122a8b827d8332fa0ca6ba16ee490e6'
         '932130acf914a927038bdce57433651a'
         'a5b55240324a23ca9b836b12a77ee146')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
