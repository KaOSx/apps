
pkgbase=firefox-i18n
pkgver=111.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('a1256fc6067cbebf89b3de8c9073b341'
         '81a78ead391ef0e4a6b6c23f521c78a6'
         'ccdd7dad0f5a183b081be1893f274a3b'
         'b763ad2994e58aadd583202b9f9d7dc6'
         'b9c422a34014c270531637144e884495'
         '204bb91a10177ed2cf739ca1d93f495a'
         '99130102d90ce6c5f97e076960d61299'
         '2c51a84c82428eb8dac5a00c26073700'
         'daf6de1522e60f3a9816cf3c03e51212'
         '328f7da3a316eff0c79b88ec78c7fa79'
         'f9b9df56836dcabde6348e62a23b5d92'
         'ae89055d33f1bfd60160bc5a8c1eeab5'
         '4b35154c799f70540b98a6ef24e09eb8'
         'ee1df4192fe1a54a0266b4ba67f07c75'
         'f5777620ca2b135d1e5a925815ccc315'
         'a3b53f5b3dc67b664313be740e6d3049'
         '9b0a7af1c978a270b245f3481f5b5424'
         'cc711932e7044eac353ef27e6c451da4'
         '9d67e2010957369bee4aa1b4f1a0453b'
         'a9e393ab7745987d1d2c1b7d9901c054'
         '3dc2e51b6e22861a17b67c690e003cec'
         'aea6b878f72a1352b4edf6ae651b666a'
         '9092754e1f1c99e76b7e96eeb32c00c1'
         'e5bd22c1498f1ae7f1250492cc9e7d2f'
         '9c5a6ff261425dd985e79f414ccca217'
         '1f98fea1e9ec5c3e0ab75020794f8798'
         '7268dce1da502e3cd5e8d9d0abbd5873'
         '5339a9f370a8a37efd626e73a4c5b55d'
         '6ffcb59c76f551610570af20f86c24ad'
         'f1df11424e5e1c8a41f0856f6d1fe2a1'
         'e4f33a762f46453efad5f173dc189e1f'
         '960861fb7b784d790a84db1f1fc6d357'
         'ad1d3832176b4fb754b316ed15b77413'
         '0bee3275cc789f1bcfde927aec67e5e2'
         'fe01322665cfaf2871ffbafff7a3d984'
         '34190c40daf53e5e8e6fc82ce6290374'
         '996ef9042e8996ecefe99c73474bb73e'
         '6cfb0ee93c27ea060029c1bfa5d8115f'
         'cad19cad7e4d5b0295962f1c94946caf'
         'de065fc0534734590a2ff0ea54335b9e'
         '8c64a92472fef2712a85998a689a235a'
         '505d3ada321f52cc6267d0403c254117'
         '3ae91afadf50417c55e7b901c6ff9769'
         'c79f8be0b00e2b0c8b9d6bfb3a31d755'
         'f7c68acbcdd31e016d1d96a1d0727fa2'
         '799320d07ebaee33ce3c386e63fa9d73'
         '660e3fb192e09d35a4d22ebb59111084'
         '3619a52c4950cd53d8c48cddea064765'
         '34c4c7865061e2d1caf3d9521ff435f9'
         'ff2f7c1749156dcc15970dd1aff95783'
         'd0e97ae1e38bf904eceb0282b3129b8e'
         '6154151d8fa6e3ed472be272426d7c7d'
         '24d05affbbcd757ac3f3a50c1676999c'
         '2ae19d23de1abf7ee01ebe056ee959c0'
         '9ac7ffc46ed671611c6d63c2f4fa3258'
         '50d7daac9e07dbfde4aab2b922bd8778'
         '61fb9e837200e543b59af2d5a18d62bb'
         '20c8aac442306ebe05c24bcfd18de350'
         '4f388ca73b93376c260f17b7dd992e5f'
         'dee40447f816651ee9227fed06e88d63'
         '86353e12f9b84d0345196611cb4dfbb9'
         '3e699c26d1b03b93e1d6e41112664690'
         '33af4184325e2271291c675edf69486a'
         'ab93a2ad3e54e84730d038fcc725718a'
         '49219394104f6c405a75a289536e5b6f'
         '3f7c8cb44c4b771d3be1629ac79680ef'
         '6772aaf07e8d9f752f6dbc7e435a8153'
         'd2b0b4fafe0b592d4ff75f2876c1880a'
         'f3d8853454bf3c5f57cb56f61dc7fab4'
         'dd177aa0752790c0d6c3ff9028eb8dcd'
         '9e01ffe88e1c48fe2ade2ed6a4ec1281'
         'acdbf33512eafc18850c5e62d56b507d'
         '232ce2b875326541d1d0d7288d948a98'
         '9a9617271492928b7dfe6e150b606180'
         '6825d6863dda831ce287009f634a226d'
         'f70c85773bff16cbe1097dba8bced639')
_url=https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
