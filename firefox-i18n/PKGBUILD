
pkgbase=firefox-i18n
pkgver=104.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('91202af3a47c32b265dd53dd45394a2e'
         'aa3cb0d8fa2ef6f948feee257480ffc4'
         '97fd3f0a8e938975edf652368fb37c49'
         '5f92fad6aeaeed341d8b421ce9db83d9'
         '16d6cfb1e448daa1ec4b2b487a28dc34'
         'ade292edeb05c3cec113f7d944705029'
         '281c5c509e91448ebde591da87547a98'
         '45b7fd841f7af810e60c6b05c2f3d214'
         'f2e99d9d3f2be70c775f6b59e8158ba6'
         'f8e6647e15bd79e6938f31ff98a1c90a'
         '1d31cdda9ad2016035299190917dd17c'
         '660c1081203d226c30535b00d5d37268'
         'e734387d75d1e7f5d5bfa725dbae232d'
         'b2b134c393ad130847e23e646ed8ac56'
         'be699d177f3fb85c62ce8e2ff9c45b8e'
         '933bc9cdc2f9f365de16a29c54e2b570'
         'f0a3d9cb673bea38349296ba9b7824f7'
         'bc3087d90ff026416ddeb1a194ad2988'
         '45c8c463ff2c7ec5455dc98239651996'
         'a00581a863a7de92e75da925dbc94a2d'
         'b7ac27f0b0c47915bb6ce7e9b5d54f54'
         '1fe958d7ae26ab80f9e131fc2bad4289'
         '72ce034311cbca3f8f0200a429cd86ba'
         'd21fdae191479eec63c971a6de1e804f'
         '7ff50afc869d57c3ed05175c4e50a507'
         'c3c1ea5e46701288fbbd7b075ec1f086'
         '3db0e8c5d4b40a63afd1fc401561a645'
         '7c3a4d23134125f2f601e4d41e130475'
         'b60b4f8ba0363b188cb4bffdd8eaadf3'
         '8815e31dc80c2d1f9722c114236405f4'
         '671355dd69421263bceb074c34c2d3a2'
         '82bca229df4769dbfbacaa9d5192f288'
         '53c2dfb318400adad2b221f097be0e4d'
         '26b0f2eecb72d39e4943deacab119a29'
         'caf71c584b6d26d7c4a0276f06a597b8'
         '3d4530b2d15e1638e6476c36b903d437'
         'd881683aeb6bea42527d8ee2ca990052'
         'b8f1ec25089fd0a7223eeedebf7165ab'
         '3df6432a28190a9969ea5eac0e7d4dc0'
         'd94a89c6bf608d21734a2fd48bd3f0ee'
         '9fd1889b483d6e8146e796c279534413'
         'b44b248eddb5e0ea8ce33337c4149973'
         '2bbfd0a424e423df01f3e426af483e96'
         'eceae1272e39e376f9b8e86dee3ddf80'
         '37714ce7a7ccb64563d8e88d91f9d210'
         '52af112a4269c3490aaacca9bd09ae1e'
         '8f6d2d1b2e4ee61c97d71cb9e835e107'
         '87787f354c23fb9ef0086b7ededa3174'
         '88c377b2d40929bef8e397585d7bb9b2'
         'e87e42abd24205c0876a38918357f280'
         '2c85df9314ae937857cfd7aeafd2b370'
         '424e4e7789beb452eb43a473754b5715'
         '929ae813322f49ad3fc0dd56386d096b'
         '42712fb9c076e13759ecc2003451ce4f'
         'ebf5bc42381ad6c7c5652da55a05dc7c'
         '7b70938abfa8199d5e0e589e9a444661'
         'e22fc30dbbcf7edd22b531612d7284ba'
         'f644615daef75f9f69d9f541dc6cd510'
         '610852f4bd0a2e9a95d25ece56ecffcd'
         'f8486ae09c182a34d6e83cb4e6d5f34a'
         '5a354c7f285f9c170d3da26db7dae68c'
         '55fa7c9478d2c31886f744fa43e9939b'
         'aeb57a7847a0e2c3b8b69326685a3d4e'
         'bdc399f78aed936b11727ca78754ade5'
         '1e4b241ff28e24aaffef69c7f213aa9c'
         'a81f7515eb41d6653992a1b418047bfa'
         '4ece776d31978f130f3e1de502fa896c'
         'efce4a04f7605bc9cc36ef728511b3ab'
         'e705388d9000154269b8948683d043f2'
         '64c65d4c19e905d2e6b5e0a0d0d32854'
         '5be500f15270aad0e99ec27210b661c3'
         '52195c9a8571c2fad460f35c245fe68c'
         '9e605ef196d19fd815d0681f6f603a77'
         'c9952597494750d44720a0ef4ce4d658'
         'c7e93ad32172a46b340cf4b4a2426b95'
         '3432ab35d089f49072e82985f6e1727b')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
