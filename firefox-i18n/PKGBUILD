
pkgbase=firefox-i18n
pkgver=81.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('8d27a5612e46688752879f11daa0c73e'
         'b574bbad872f97f065e04f3f914aba46'
         'ffd671a6b13a2b3d2816f2d6b5651b7c'
         'a2df65555c7e91813f2c08a2f72c5fe6'
         'c588e06c3d31b1593b73d3dd21017214'
         '42755c6bdcf99d9783046b8a491863f7'
         'b5ddd7c5e77f8c3dad05ac5b26f0b315'
         'b2d08f89528c5780eece93619e448405'
         'dff07d9f93111c23468d71c1359ddd7e'
         '76a1b9593e32c1bba2483fde02d2102f'
         'aad027595d11c7dbb3233f83733d86fe'
         '3f7f3fd6f64b30f662e744e3d9debaca'
         '063e4aad78b58de3be4534a83d62841a'
         '0678d920ececf9a3c7f88398fea4cc62'
         'f3793630ad75d45e0e38c8bf84dcbfda'
         '39b69d188c5284595b3f493986d781dd'
         'cc103bfeb46aaa4c97b15fe6f13fe5eb'
         'dfd2b7d5b85043e7ffbe67a0c726be5d'
         'a41c8d55d9a85ea327832e1eee649820'
         '9f3054c470bb5f7f4995c007eff5e496'
         '51432a804c0eebea6f53411632ca8c9d'
         '8abf5483eea7c2c868714f7394a84e03'
         'de94eb103daf369e9295a1886d51330e'
         'ca733c7e7127f75b5c486e19cb417a1b'
         '25f4ddba4dd17a4c56509e5d4bcfc42c'
         '3b8e3bee5dc880a3713c0a4a9ad6f9a1'
         '4dd5e00289606b48611e5d2ca4e9e1f0'
         '8cda28eec5e37c09033b5d69189f13d2'
         '46f8703f7c963b2b7d6cbeb9d212758f'
         '0625451c01287d2fa8f3e4f7efd61024'
         'd3a604afbcb636ea5eed724d4d632b04'
         '284b96f6da4aea6e8d40f2dd03970f42'
         '610c70e5c21aa8b1a64d361b267f9b5d'
         'd22da06efce0b0032f4162a45f8bc252'
         '6f947f2880b634b137c5687ee22acbfc'
         '367ab0959777357ba901249aa4abb8ff'
         '44e78095551077084a4833d6b87dfa90'
         'd86f5d559eeaf74273c307b3feb60936'
         '0c04788edff14ab2b68771175c650b13'
         'f1b9ad66f598b26caaa6d7804c1acc71'
         'd61d243993730394ae05557b7146f08b'
         '22a82b68001d19fbeccb23005ec80117'
         '18bfa318c257b6b5ac5a3735136836c9'
         '44299037d37ba9fd94bd56218829132c'
         '22246490c7be5aab08f5ee7c80bf93ad'
         '7e4f9495d407a5e1daa55c48faf6eb97'
         'b484a71d4bbcc15afbff7b47e651935f'
         'e74175251d7f21177cd62c6f039105da'
         '61dcc3beec427e8c726b964d4a094852'
         '69208bbb0b08a4bd8f8a97245dee3408'
         '564b52a33caee8e25fdbb0947e2ceaef'
         '91ae08f23162a84d84074c6b1a554d50'
         '4799b7c358a95cb5070af919faecbbb3'
         '78e72a1fec0e036e3277b060464ba840'
         'baeecbdf69597060b3deedf0581584b7'
         'ebabf68cc7df3ecac9b3359ddc79aea3'
         'da01e02fe30c8b365542055840ffcba7'
         '4ed9b8edf6d82ef1b47acaa6536c56d7'
         '0ca0ceb65f9d6e8513b7ea9c252dd151'
         '7eb8fbb89002acd7333e441b004a37c4'
         'afaad33e9293e68c10a1222eb656ae99'
         '64684d0ef12702f9d9f8dfd694f159c6'
         'a0e87a396f832d76f42e9d67d26e787d'
         '250c9aa65308f9364d997a4c1d81c48e'
         '21805d515f68074feb0d87dba2b44df7'
         '396f3a868e316678d42922fbb52d5479'
         'e219adb225ab4c312c78113ce0d6787c'
         'c13d7b2c7d8b20ff7ac7e4ef250a188d'
         '3c4010e30710ef94c005f09948b94f8c'
         '7e11b6c1d4e32924ff0e19802d4ece00'
         'f330fa602a1455a8ae13be4509d80435'
         '1bfe1107f5924da3cc61e2707d456abc'
         'a8eead0ea079d3a8bb4a8fc55afb58ed'
         'eca7df0bd4be0b987baa2ebed68fc6ee'
         'ee79c5c8a4cfbde96d2869a783eb130d'
         '2c8465e58832bd0eea59d13e36d09e7f')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
