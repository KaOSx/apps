
pkgbase=firefox-i18n
pkgver=99.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('3ce139c7d3c4abd52313c25a31319a04'
         'bb88ccaa62ddd1187b4af4be3d4fd323'
         '3255bc16d395d6dc7e3c10d04c888c60'
         '076e7b76849c81b657166e5dc9fa9853'
         '6dc53a96e620676123247741d9b8e395'
         '47dc87479fa047c680a15ed316f17397'
         '8f1b0c6352794e0dceee436607bd80d4'
         '0737fdc78474e7c937953d9567bf0b28'
         'bff8934209db291b104029c9db3fe8b4'
         'acf78e0a66093c667abd3618b6c88c7b'
         '038589b655800a50ffb51458371a7d7c'
         'b58f1ad661ee6ca038da65cb49a22742'
         'b58adbd3cd97b45cf7f0dfd379468864'
         '987d89ecc0f257cc520b285026598927'
         '984f52f67f0ebc43316aeea3b7cebb28'
         'b609bb0a5c0111e1194567e83332ec5b'
         '6d1375b0b62b531e349d104776e323a1'
         '74024c3e06d97b34be4f2aef5cb04026'
         'ef743b3885813f40d11c97a1af2a1a41'
         'b6f11115fac9b1474e4c629bc6cf994d'
         'b8947276379164aa1a34785ada2f2f8c'
         'c9389b8c657d2bce9bc38bcd589423ae'
         'c8c1caef31fd8f17df3d934b264766a7'
         'a3167f809618d7fcbe5393015b424489'
         'a43be4f480d12c2ec89fa67d96b91c1c'
         'dc7cdd5d028fa64ff6c9ebe9b03cf422'
         '51e0531474e7d03c5ea5bd335d82ee3a'
         'e7683174c236c929d57574e4994b12fe'
         'ec7ff3856d057bc1f7566a8eaefebce5'
         'fc5abe42f73f98ab37f20559f13569a5'
         '3cee2a59fd4dcc157d4a558fe9594191'
         '98a7f0532c0b2b1b90d02b52bb1de554'
         'c3910729de4a710e533ceb69a5911d36'
         '7f8ea705808e4462265f75ace890e65a'
         '401512d56dc41add8b7a21bdba8d10f8'
         '085cdb496fa5af7f49d211e7e110cdc7'
         '8958e206e618cb40d0ce886ecab1f3a8'
         '968352b88af45634cce74dd2b26e4c8d'
         '4553f223215da2b803adf6e0cdf17e24'
         '60355223c22cc7ad125d4a983ff18784'
         '7ee9672e8707e11d00968852bf4e88e5'
         'd90123a182676d33faadda3eb3e0308b'
         'f1120eb9ac2f7d8caa87a560e40606ee'
         '6e1b38963517220f24ed68c439826517'
         '500869f560787c25cbc53987d6ef897b'
         'fbc9272b63c6361695f8c3a84ce14e96'
         '1fe56a87975e03b0383f6f313ac3e077'
         '2ea7d9befb821a5b1cd145944f44e719'
         'b635d3f9754cdc07e9a481364ff233d8'
         '8ab8c89f68e5262ac15982e126028c47'
         'db1056cebfe8e11fec6f26ed7f8d2afa'
         '16638bc389c91dab5dd8cfee220cddcb'
         '9824c9960fe1ca1c09338835c00c0051'
         'cf4958872c0b1175b441f2f1b478c2b1'
         '559d62d66a6137cdab156e7fbcdccad7'
         'f8f637687fe94b0c6a7865db35dfe7a8'
         '0c551dd139a3bcc1816e3821f53a97ec'
         'c31c2287ae14f18848b21c143d6eb3f2'
         'c29f7e0b744e0a2f7c742095781f158d'
         '57d8992b0aaa0e96f61531d84add5742'
         '73d48d28fdcdebe3805cf00edbc29a87'
         '02e91cc9106857fae70f0fd6fb149302'
         'c804a7addd193e449e48900ac7a6860b'
         '49a115832530fb5e95824f4b1aa6fdf9'
         '90d3f4ed831c50ee066b0a7bc37ec0ae'
         'd6bbeaac6a73a015647ffd651b84d21c'
         '9d120e60d53fd8b0ae00ce15f9862b63'
         '1d0062bfec69ff32818cd853e1929510'
         '34682535e2be159dea945a31c4abf1cd'
         'fc511f512bff5dd388ad6809baad10e1'
         '4fd0c03a04bf58f64a9a8956d3c4d11f'
         '615a99da5208ac0d92b0d72b4dd8a18d'
         '0e5ff7fe11dcce17c147f54ae766deef'
         'c14e4d0eb381dd355378c9b2d8dd51be'
         '6050aa63c8cd5df023c57d68748223a7'
         'bee262475cfa6959abfff4bafe043323')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
