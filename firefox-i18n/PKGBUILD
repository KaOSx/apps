
pkgbase=firefox-i18n
pkgver=82.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('aac8ea11af6766e61cd46f669d8ea317'
         '22833aa35b52cff45b8144ee14a13e3f'
         '19a9cbedbc7ec1a03e4edee32be3957f'
         'b799fceb3b609f83c8e5b0af207ba0b2'
         '8fb1cdee97e263b726fa1380ba7190ab'
         '453d97a61cc120f05e5708ae87ffbb54'
         'f163b0d550de44871f7da6a075dff164'
         '27f3c919eaed665df5ee9e91bdede5a9'
         'f1f3b200b5f4cde5a3f1e30082382626'
         'd63490fc9bb72fca37a226a3dd7ddfe9'
         '9bd9d0e1d260ed4036748cd8d2b3f397'
         '8c41e7ed5de31ec5c618dbe80eee5e89'
         'c87e527b43cf971c25a9ea0a81d0d3d6'
         '738ccb12b2f3d35413a3ca483d8b962e'
         '0b6ebe92e47c3f272987c4cdecdf8873'
         '72bff266b2bc995c34e128b60482434e'
         'be868f5ddda00b982ae2de4bc59c42a1'
         '1366dee8dbc670eb39c8fa2d920d711f'
         '891046693e112eef256f8d18222f4a31'
         '9a6e3583eb51a873feae808d0eb4893e'
         'dd2bf0bb96dce03d5dd55ef2551ee786'
         '5d4d95730cba585e4cb782d6d3ab12cd'
         'ddc41d9e698b665dd4a5fea67c6b0385'
         '042c88cc31970dd0c3ca5832af363b1b'
         'd06156eb868056fe9c7b8afc78e8d57f'
         '4d813192000dc7186e6b426add3245a0'
         '02d18c45163f0240ef6021f682fba3eb'
         '7efa3b182929e282bab1bdf82fa3b084'
         '824a8baac0b4d587b20e13a66b6de5d3'
         '346f306a0f7c1945d96be78b3d4e1577'
         '4277a08d02f6b47596efbcebff45f025'
         '9afd01732d95f040092a04550b7bbaf5'
         '975ba73b0de5c394324c300a10848346'
         '5abbb92af22090f40c14033727108780'
         'aa7c5bed973ef4a9e10f25ac258bad56'
         'ac82391e13c63af7c78d028dac91475b'
         '4dc373053f8f2c0308fb26acf33c88fd'
         '99872f3ecabcbb89569f893db88e0ea7'
         '34e33c9904765683128aa52bf3d15b90'
         '1b6a8483acb8eda0c541e0389c1481c4'
         '8d167c57de875d579fc091dc2521216b'
         '683d0bb92132a6fd8f40d982bee333d9'
         'bb0266e30227ad8e11495bc676a44f99'
         '0fcd9261a21123788585ef3642d37179'
         '2ff43bb04eb89d2a527f236f4f410a98'
         '84b3947c4576bd2864217fa405640adb'
         '7b29de0ca122c7cc8483c377f6665140'
         '6efb057e4f1f516bf0bd3a9e1d4269e3'
         '1d69d8617858798406b93c7c551943f5'
         '36f59686587c8488f2e62aa8b883a008'
         '5d0b65f6d566e1a8b2e68227c4dd9f63'
         'a92192b7b55f75e1b5f50e55277453db'
         '5264d0c88554e89f279c56c389cdbfe0'
         '8c239ec8c5c7d21eef785c8607efb50c'
         '9f5ff17687c8f7f720780d3e24a52103'
         '659d56743deb8a83f6bb2c58de8fd065'
         '1e8f34735ffe77f59832fbacd9bdea83'
         '4293b955fc1ee40888111b69aab18f2e'
         '392a580e56cb37fdf62d1a7e82078706'
         '5b4db4aa188addcc7360ca0b107d969e'
         '5fde54f34da8db222081c23ff600c06b'
         '3c7129a6598128096d95059964c47c56'
         '2d36dd05c26e6197125c439eba3f614d'
         '437dd31075affbafd1812ee040c0404a'
         '0f44b07a452f619571377f650f1437cf'
         'e619012a367a6069139b020f61b1d9d6'
         '114f99fc9dd58bef5fc78bc1b55779c1'
         '1ba493976ac0ba32069e3650b9e3952d'
         'd1c03fc5032a75a345b238f57a8cdf94'
         '303126df73f98ede7828209604a8b999'
         'a21d338dc59a9351a38b7b6f35f2a9a2'
         'ced4bbc87592cf4d277adbe1f932c7b4'
         '7cc9b25855be08274930d1d5ca937b2a'
         '249f7cb78fd1451eadc2d27c78dea466'
         'cc66d516e765bd0d7f8e97a256eda624'
         '56df6597605258cc8ed963752cb74fd2')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
