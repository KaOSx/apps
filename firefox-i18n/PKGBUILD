
pkgbase=firefox-i18n
pkgver=90.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('0880cbe3bdee9e46190a3e7571d899d4'
         'c89fc2919cfe8f0a5a751a5b2986503d'
         '309760a1a19b48a4a9634c9228d39359'
         '1a030a801a3c4c2b4fbc8de75bfb655f'
         'f69d107b66b76bad41da7a346229773e'
         'f180d10df8a7546418af9a5674c3c99d'
         '25157a81266662735dc6e3b6bb8b785f'
         '16dfd6ac078dfccc14b3e98cb6289688'
         '74f5a0d8942de6157af45b3767625cd3'
         '8dcd957acf21c4ae41552ac418fbafba'
         'cf1c4681c91c4d3384c14fe25e9b3847'
         'c8a2e136758be811b3c48f2735e6e1cc'
         'd48719bfcfa2c49bc2a0a36a3407d085'
         '7821ba40ec55133181d7cb6fd1973221'
         '0e93ee721a47e9980ccbe8674bc2bc2c'
         '415e0515c0f385b2dd87827090306b70'
         'ca5cb110c4ca9b965b51cc048038228f'
         '3f4b4989ccbbd158484f98e29b969a49'
         '6743d80b3bdf3a51c9b2062b8a46e9ce'
         '28d793ffc98b0b3a1b1936a8fe60ce0a'
         'f1610ce2c394892905760cefc497db8e'
         'c4708cd793796cdcaf7f6d7c084c7504'
         '8686e5f4b9d81284dd67f4bc78f08244'
         '98e8d089920580f19defdcabfe7b8df8'
         '3c5e20e250de69a81d3dd9087c47f85f'
         'd2132d81899d1a0a790b68ab31d5e367'
         '6cb30f70f0ba53a6ae4c0c1459ec3fa3'
         'e72885646f927da0b77e1541b66e57da'
         'ae77f0a96244f1934997d2cabbf9b598'
         'b7c98f3aa8f97664c18e4c6011012210'
         'e64005ea7f47134c2da08ceede954fa7'
         '6d2bfe15f89153e7f5ef54a1854ed221'
         'c4904e5999b2b7a2957e00173057b884'
         'fa1ac45938575f62b10baec6923d7e59'
         'd1579c8917d71bfb5f02dc29a66c5590'
         '9db42b282ac85b89b177f980a1ac7c9e'
         'dc8415670b3e24664fff8804fa4fc3a8'
         '0a779c6111c20ccea83db112de3a0740'
         '3c0ea96178067fdd905bd527a91307a7'
         '72052457a82c8268f8dc5b6bcc06671e'
         '27a78b44f68ee4c69db21034823f5160'
         '1c542f7f1e3f31d6559d4e3f27271876'
         'a8647bbf45b5c4a52c4714cb161e37f3'
         '91b01a3f402b9294845584628ed3416a'
         'f3f00be6acc210ef82213cf5c1005f36'
         '5f16d225434220c929e4c565b9461022'
         '4477fff3a9f8f51a402a83be588258a3'
         'e60b012cdf4239946534026c9ec6c5da'
         'bf904a2534bf8e063735a431c227c9df'
         '673e66ff53bcf3df5b50e4c08fce2c23'
         '52a26801aa6098470c88af79c523dcea'
         '1fc2c8a319a1935f5a70b4dc85d59b24'
         'fe32bc07fe6fa84360c99c31ba399553'
         'aadfa2d38ba4952298b08326b63db7bf'
         '9fb0b2bc3811d52686d9a92eb6a60306'
         '662ce61828c35192fcefcf3e22dcf8ec'
         'a545c23ed331eee6fa1a8ddd3737abb8'
         '9c3c6d95952c034f7aab9480be28ae7a'
         'f61825ebaa9ee523b4a02821a00feb05'
         'efea27236886113f6c3be6e8c06efa5c'
         '178edb913fa98f9dcae7a2ac753fb8e0'
         '565e78b53515661f7ddf355d1ffce846'
         'ccc5f742dcf6890f301b6d7ae532a80f'
         '23a96ab86d2a00845d1b8e242210f9c2'
         '3bb0932ce0e86d2451741ddee301f140'
         'ad4a0a76c5f86637b5e2901c0e947c72'
         '723369424619ab47decc58f40a14552e'
         '948d55a2d2c7a7eb78577b8089067a34'
         'd1025665ab7e34e8dd0f48d2a33ee6bb'
         '847cae20f30e46d65e7a4a2c313def2a'
         '14ebc6f30602fe20ea5fc565994ef01e'
         'ff09516adcc5d290e3b797964df3fc2e'
         'a65f245c03f83d2a19f936b918fe6759'
         'e67d7b09ff61945eb94867fb696270a8'
         '4f1c74ad678e225e28b46c774fafd842'
         '54e452ee9619e5f1744ed6ee954db29d')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
