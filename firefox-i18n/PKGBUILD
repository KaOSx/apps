
pkgbase=firefox-i18n
pkgver=115.0.3
_pkgver=115.0.3esr
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('4a19adcd94d12e6582ca9b13b3475ead'
         '750bdc80a1afb71e88324d93b04eb0a3'
         '263c5bb44cb02b8a8e724f636297a337'
         '62acd2d549f1e483df62b60dc6163bfe'
         '995abc917d094fb50c8a42a584b93bd6'
         'f260c7a365267440a27e21c65a7c632a'
         'dd24d0a4b7d2ca74de6bd003878b35aa'
         'f818793574433a7159f6b247980c977b'
         '6f658bc8ab11f1a002585919be35cebc'
         '465ad26125c223c4ae64c80b7b4f0be5'
         '806630f7f15a490b2265e763694d4526'
         '50ef217abb57bbba018e693193918f6a'
         '0903e1a51f6dc515614081ceadecef35'
         'f3f6e3734e432cd81c86abd6bbbf3756'
         'dfbf465ea16a0d1194e0c6eef8d1f463'
         '5b96be9cf940331f157ff81586a2ebc1'
         '065d8c950a499a241897a303428cd1ba'
         'b0d1dee31db954291a21e36b6a5b2c85'
         '2f768edea858df05fe1b7ba9765f107b'
         '7aaa2a19c154164132be64712c47c9bc'
         '3bc6a42b638d87a13f8a52f39c15ff1e'
         '60ff8c504b839729d2d8ec3bb4a2f607'
         '26e860fbc5de94bce72e6c85031bb1a7'
         'c8562fa844f9939baa36233041eea49e'
         '82710fc73a2f19b37765797b4b1470d6'
         '05c957395d8ee4b88d84e41908fb2dd6'
         '81bf00961202483c99643a2bbf609aaf'
         '16f63f579a0f9c76b057a29687e99f27'
         '42e760119a40c52b6d27ab91f059df8d'
         'a84ba9cd9ce589f7899e888876c81cbf'
         '22f3595db196137da097cd65bf55705d'
         '56f9eb633c48bed5c4d1f0af9acaac90'
         '0140637e096198e4729541143209e95f'
         '05249fb62518e3a1a58f465826355ffc'
         'bfbf49b5641c59d832c68f28f33fc726'
         'a8ae6da7cf4e91b10037d37005cd965a'
         'b994aee7de5d7355f6fcec88c91ea85d'
         '6b352d5d79000bc852a8d4b596d24a6f'
         '112ccd7f19b1a0737f2ac629ea9fc2be'
         '967b517d1d6f803d77858f0e4bcaaa58'
         'f8634a8734986592c724052a10d6a3d2'
         '74aeb7c8a25113e05538acc2f3ce271b'
         'c35ed2fca6d43a33b79986b85ebb3283'
         'dcfdee2a77d6b530d850511d4b7707f9'
         'e0a54c297785059390ac03048a8d86dc'
         '7583548d540b85fbdb7f850c003f6cf1'
         '99236bac3b95b3310e9deec57f170a11'
         'dddc7b84465787ab86e2351257fe67b4'
         '1203f4d1ee46707c3405ad2f8c746a5b'
         'b664c391478d94f519121261d059c6eb'
         '0d20bee8feb467af9c8d0e05d3cb2267'
         'c07bedf371764c1982fbd266cc33e32b'
         'fa4d0dd60784e47bc1a61a9e3fe53c9e'
         'd9cff57f10a96933d44fdf7ed6feb485'
         'fe3b0df6fb82943f12e08a0d25deb035'
         'e6387b5d43b9512859089c3a0c8095ab'
         '3bac0c1aa4d4b09c8edb4e51a86e64a6'
         'f3ad147ec15a0c7e401101febe7809c2'
         'c9c7bf1ee2bc52b2c2bc7f85d4e3e4b5'
         'c26edebdd38c08fc2b3767482cf226d3'
         '4ac8a1808cbf4e8d16a8e7478384368a'
         '920044a852844ec46038843b7a5d559d'
         'ebd2fff7df141e2891dda0813e16f483'
         'f1edf7d95988037d913be7a0a98c21e3'
         '74eee7064c798e01e9ffa959ac11f3c1'
         'd43ca5f23b8d0e2d8228822a6c25ad2e'
         '9a468c1ea909fd7119980039c12e6c9f'
         '7276a0437614c57c10aa117d8c346309'
         '87186d0c46fb168fe99f250abb198231'
         '59a87dee296f88317b38f3b718cd6ca3'
         '1ade38d476d84364c3b7e3fb28e7d367'
         'f43f5d9228ebdb114ab88aa6bb10c72c'
         '19507f87536c8cbf317df519b16cc3af'
         'cb87ba1ecab590f21204ceef4657f46e'
         '23723610723cdb169f3abdd44b8e13ed'
         '2c6b16003b0551cc3f338d9be6123803')
_url=https://ftp.mozilla.org/pub/firefox/releases/${_pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
