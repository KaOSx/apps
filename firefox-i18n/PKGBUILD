
pkgbase=firefox-i18n
pkgver=113.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('23d439e3ea92aa8fcd5c3ad2a6f5a3c2'
         'e2bdb63f07dd80abd4704d007a2abb18'
         '638c83d26e8cf73442219c638a09c15b'
         'ca27c8994ce67a738c4783bcd82c1fd8'
         'fa7ad745b6b285acb1fa35bbdafb5137'
         '0704842443aa86c384245c26f5222906'
         '10d0105e4f7e86a19d3c3d360aa0aed3'
         '8c7c1c200db4c5d31f64604b88c36327'
         '608e11ab42f678073d23cd10e8bd1c9f'
         '75b8bb40ad412bee3df96761060098a6'
         'bfc92c5c1b27c6ae5146b80d431116d3'
         'e8e45066e4a59c5f9cb199f5d271d4b0'
         '165ca9d9c339d2f1831e79fcda1f5146'
         'a3f925f48a635121f93af1a3cb579925'
         '5cc52805dc01d631fa7416dff9f40cec'
         'f553049c96e7d211c546edea581da4fb'
         '781a6249f554445619dab2e165ce565f'
         '66461f19ecd3efbf1cb15ea08688ab02'
         '56c2aa1b75f146b011d1e1373543a455'
         '5af833b011d466bdb75f2610711e7b72'
         '8bdd20a55872d299549900bf42b5ee19'
         '33e1806e19f8f8956c5ba0dbc9991cbd'
         '8953761409f9ac4dfcee8fb8d4dcb34e'
         '359d82104d7e82bb2fec326e6235ad2d'
         '821e4296859e2ea4bb19ee56456b5e1a'
         'c6c6a5a046dae412daa3ad7eb4317d7a'
         'b99a366ff6f7511904ca2cf61b8326a2'
         '0e4fca18785a5cb420af7a10c0f05c4d'
         'd269872688296f134a3d02b9f9d7cc6d'
         'd65ececc59a9321a3e611f7a02bd6438'
         '2880fb2f83c41254981b6bbf110901c7'
         '4641ca758540061cafb68f1206f6fab7'
         '628c10541fdc876978ff414348e9d528'
         '6d5b5946e4e16cb732492b4f5b449874'
         '37db434cc2606f144f7f75f8d9cb678a'
         '8a432bb852d22c449d769ea4505b52dd'
         '9c76d47833575d2f8785296b85a65ce2'
         'a191a4c6031211689e74b88b4ba794c0'
         '1190b3d72eed3752c46c08e9714a5cf1'
         '9c0aa98980125961f130c2091b76384b'
         '7fa8d2e1a6a3f2c05e9b0c2efae4ee55'
         'a0821e201681c86730495ce0e8fe8073'
         '2dacc5b7be277a04c9e53b406fce0b0b'
         '0709c66a13b72cdb5ef7c0d2881dc734'
         '255ebf4115760f8a6287c59ed10a27b5'
         'c4a38f5b0902a4e74244681bae351112'
         'f8b181610b51edb1e1f7aff8218d205a'
         'add354c2aa691242c5ec4f2237d60553'
         '6f595e407b978ffbd5b9dab6043170bf'
         '6cb7d17f721a803de79b3b06f0cc8513'
         'b24e031d767a6b982626bafa50e25ff3'
         'd12e35d971cf902554fff145b42ba01d'
         '08be77ed09bf2485d785e24506b1827f'
         '041ea0f68df94a07a3eafe2b30676b53'
         'cd9a1f72b95aa6f6573c88d8a24e673f'
         '7006efef25e72d4366c3bd8a1fd9d311'
         'b6dce1adc62751dfb5e1f060b2ce123a'
         'eee0e9a36305fe501c264d2551fe59db'
         '83cfa0033467bc84a964d68c8b73cf2e'
         '2f2293fb821491ce7febcf358cc50468'
         '7e5b1ab004900f4fb32178c425186a83'
         '4f5cb4c7d6251ede8ec42db79516dc83'
         '48ff4ab6ac02c3cfb1017bb28b8b102a'
         'd7b973b0234d8351ffa13cb03ce603d9'
         '54698a00f1972cb14f27e952db5dffb4'
         'd9004e9ef05626785be4c8a6454a3519'
         'adc389db9423861c538311114d6a13aa'
         'd1f37af35fdb94c4bbd61df640afd6f3'
         '3537bc62bddb5880ab2876717c68cbd1'
         '25dcf6a47b5c2d6f70ab6b773083aabf'
         'ef32784ade74c826631260e4ef07d9d3'
         '006f10226facfa608e458a5526484c1f'
         '767f94988d10fd655e742cd2b9fd1e19'
         '71ed57ef815536032dedbe01449ca908'
         'c1d8f0ea3477e06cc7b683613b84f2f6'
         '023b281177d69fcc3e2d71bcbeffc7fd')
_url=https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
