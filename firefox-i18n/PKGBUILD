
pkgbase=firefox-i18n
pkgver=96.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('16c3f4eb92a6c7c7a205f3cd5df0609b'
         '4e4801d7001251a033790f7049e3ef7b'
         '221512beb1dfe80c4386de6a68704026'
         '08888c1b24261678a22b3f19b505e706'
         '84c5a46c6fff52187e6cf010419996a8'
         'b586ce25dc6794b5c4991c4c5c57cdc2'
         '0b3a4d1f6e20e3db508161228b206d03'
         '79fe652f27845819d248f71d681eefa5'
         '339f90bf2949e32c031cd0b3cdc429da'
         '186af1fb9761991f061e691c36c3bf7f'
         '4a7e7dea92aa8bf1b7ca479b1c8d5eb6'
         'c10605f50ba17e6e3b6c9974cbcbda0d'
         '0a0d0efeec65e8bc74bc85752833800c'
         '997ff98cfa6e8c635cf80c555c6c499a'
         'f0c62938227ed3acb6045002201cda41'
         '3f34ab87114cbd491ff83752a4b1a175'
         'a37143593d358a0e4f1a0a54a5cdc4e1'
         'da6a68b3e0ba3a7226ff776b83db9bd9'
         '5a6ffe73de22c40c72336ba71ce17521'
         '4aa7eb3d5496b32dc0bafd432d1bbc20'
         'c06dfb12831027aae4b84872d202773b'
         '179f392c283bdefab111103efc842fb5'
         '3d6763b766cb933bb37253316ffd35ae'
         '3455d75ab56d94003f0ee4f7823e64c6'
         '25b6a20084e3c14f863b430306b39348'
         'fba53bac303f04a39b8cfe5bdf7ebaad'
         'a1399c87e57513e1d693ffc2086849ed'
         'b7aea9a4746bca6788483ee703503014'
         '50e3553cf0176a6a0f2cea7c78bec5be'
         '8b8b566693fe9bd19e0063a8a8970457'
         '0adc6b8e2e1433c25b94903fd14d6cb5'
         '4b3395af2de55cd527fc5e44048184cf'
         '6867df3b24ea4d01bb2c8d74013ad7ee'
         'e1d2c9880b056c74aef34852a6319139'
         '644d76790ae9a3a1a385b465596ac8bf'
         '31242c9d6063c0f98ff6989ddbfcc238'
         '541008c8dc5345d6f695cc99d2e6693d'
         'c561b81a1b82683e3ecb6043b0c2fb35'
         '6888d70f59909474155a5ca74c11bec6'
         '42bc0ef8e83f7b510c381f9c07be9175'
         'd77fb26d93ec5081dc5bf8c430519017'
         '01d07501f81facb902584f57cb48ecfe'
         '4c5dfe391e0249bed60c734a3c81f892'
         'd21f4400e1dc2b1cf7ab0873be25bccf'
         '7ecb961427009e49fd6940991dd6ec3f'
         '9d8ec7856e162a612fd1814868c6d56e'
         'b61d0713e8ee760f69d39ee99120284f'
         'd6ae265b0fb3bdc0b0e0c96c9c8da9fc'
         '7e01e65997364c32204dc39d5b7bff91'
         '9b2e28e708800a8235ac97fde20df323'
         '1edc6b2235a1b10d3f68c0a4798c8729'
         'e76713dc00664577e22ce46133c4f243'
         'f024760b87b33b13349a9d1de8ef0ade'
         '8a77f337e0c9147bbfd9bf570388b644'
         '57b1b2032ea70a2009647d6b85b1d37d'
         'c571d2b46239b2877cd208728a106b89'
         'e9f13c5d856c96e12cfc71350b9c67d9'
         'cb93627c7dbe08b7d95931c2b49b27bf'
         '4ba8b54b5dff5d28669c44320c2dc2bb'
         '34b2ee012e23ee1c977461d79f00cef8'
         '615c6b0037d5dd2291d64f8abdc3c35a'
         '0c3ee2d9526206e7a24ec3a20f4ca0d9'
         '6ff73eaa8310185cb05568be54536cca'
         '120f6ef789fdac37f2904d40c3e58319'
         'd03976d2ca6e07f233ce90bd0120aa6a'
         '079d7c750ca69a71dda7f04ea583a96a'
         'f11b02be015708094c8d4237de4fea9b'
         '246b02bca6e9075bb343e41670ca3235'
         '53fda9ab23b1c65c41ca55575d8867c1'
         '7fb9d251b4304ce1f2a1b5f741f414eb'
         '633894577a35fa35620d2b5879a2501c'
         '3a4c9148ca933fbe4afe3e99979d3f09'
         '9443449fe56ded14da0a8a3892aa1982'
         '02e55e7884168bc25ee539c08ce5907a'
         '5c5fe7f6f0725df3b192128d7f1ff908'
         'a7c8a52bebb3951784fa770468d4bfa8')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
