
pkgbase=firefox-i18n
pkgver=103.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('c06f73cf7e1876872ea20d9a8d655470'
         'c2da0ec271362b95a4d4a71acc8d7ad4'
         'f42c912106bbdddb36449746c10cbd33'
         '91456b84485c1d21f87d8eeab850c2d7'
         '79ccecb2804adb305dcb9e1419e6ed55'
         '56baeed16ddc16f2c455f7537ebb611b'
         '541a604c008b2339a4a7c137fd9d3ce5'
         '16b8131f4c6eadb145db681ff3d87ff2'
         '2a2ba82c9c3e0d2d9d7d377b9263bc7c'
         '10b50df9945eb8e59678e5c17bdc34ba'
         'ba4c367b6e776e55aeaadb16584b48e4'
         'e055a7a4cceb955157f60e0693dee4e2'
         'f852bf5962b7b758e3db538c148c071f'
         '7df00a837d682182d64f4535df9479d8'
         '025db1fb5393c243a162a1602351abbc'
         'a4e8c6aa6273db182e96ed6135f10b07'
         '4892a04905da62fb4767cd767ee5e388'
         'c1162829ca18f534f82d9133f3f26af1'
         '515f39957b0537a67e569fdd4a75c337'
         'fabf648adc1a110ac1f50e22eb7d866b'
         '803531143c9d3a3ba64fd5c1be1cacdf'
         'ac79816ffa4e796f991ed525ee921405'
         'a19e50befbdfbb607591fd689d47abeb'
         '56493c4c77984c9043f72f3373b0d4e9'
         'd49dc7454fec407e22d78b47e397e5f4'
         'dabd2d6c10ac9cc2b1c1dbaed1b470c0'
         'caa86a7e0005a309ab76eb34c38e8144'
         '750e00cedb8bcfae3909c29df4ea6e04'
         'e67e0990c7ee1c77f1a9d7ec502d9b60'
         '5da65b0ed5ee62239cb2dd22f947649b'
         '8896f70eddab8a2ae846e615c6cad403'
         '770437992c32700aca62262bdb1ad80a'
         'd0608bf97fe2b429422985d04b44ba46'
         '0f9abf924de14bd6f33d610467cec893'
         'efcf29bd9e28caf2b8617e1ee0842f8a'
         '884d17a3f8a3c8e8de7801160463ce28'
         '3db23d3056b2cbba782a51c8d82ff07d'
         'd0878968c2e5116f9f62841b1086c472'
         'f371f2b24a4af73ceb4ea1e7b12ecd20'
         '61d043de9bdbc720007953b4c8d85383'
         '482825ebfda9ba453b619dc10e7d2460'
         '63e627440033ed5bc13c93e01cf97b5b'
         'ff0f12c63acae6f1d5175a12a96cff40'
         '27329344da9d324f16bbbde921f99d85'
         '7b9d580e26bff4bd822003946c2be8d0'
         '8819e12356331a0404f757831fe375b2'
         '0c1bc51192e707298d1a61f58459dc78'
         '7aa0dc576af077e751a9c4b5d4307dca'
         'ec1c7a9179117959539cf10de65704e7'
         'e240ee35c8e8faaa82904fe071d8d2ca'
         'cbf9cde93fbf931b53f0c328abe0b09f'
         'e1e2abc31207a3a63bed004566de4075'
         'f2fd9b40b31807784bbf7c8be3b091f7'
         'c37c5f6b26ac7d67f172d68cd4a931c5'
         'd6e7e9271a7868a65b8dfc04ab6ee123'
         '723ead21bc33aff715866dfb3c426fd5'
         'ad8344c47451e7569bd7743d495a4b5a'
         '0313a2edd24eb5643658e19d12ba5c7f'
         '279058d851d637b97cc0d0eaef382a50'
         'ad95d380a20af58213e5363eb9b2e5ba'
         'aa43ce105a84fbfde7bdfe67adaab117'
         'b3f56632ed8b478ca09fa4a2dd98aabd'
         'fa29a501bc63b6a2b79b18e75fbc3f3f'
         'a118a053c69a4997be10a5b0afc32a18'
         'abc8da988aa7c66b3a22430a4252f68f'
         'b70f1c8f2a2efbfe14161da4f1fada50'
         '461e792788ef74b167dd39c31fee2c9f'
         '24b42a950e3788febfdad90585f0c72e'
         '7b4227e75a97ff5bf25813d91542b728'
         '27092f4710d10dce9e80071b2df7b8fa'
         '5d5f33541bd19c836e77db72c26e62c5'
         'ebaffba6ebd524381eced4d497f09ef4'
         '1ff6136bc18ba52fdd678b988308e919'
         'ee614c044a2d32d24dea0354b386b5f5'
         'a7c7cba8a08ce1a713bd606f68714600'
         '5642d32072cb35ee15945f68a9a6ff08')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
