
pkgbase=firefox-i18n
pkgver=27.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('cbaaeae40bdeb913644d51dfb7818539'
         'a602dce60482c5251170afe50cc05102'
         '59cc1c61e94b415ea131746a907e9391'
         '1ef08149371076b6a1e287cc6b1d981f'
         '23e04228babb07c37937ce40d92f70a4'
         'd017729727f61416c76da97dcc5bbb4d'
         '268c32465a751f2e6c5bfef6968f2f7b'
         '62e0a0909663283a163d44a5514c1eca'
         '58fd019d7b7d92207f6f9610da44f382'
         'a6ca57cf60415ddd6908af7be13419f2'
         '5edb046d9016109bd27c69496c9ad5f4'
         'a51dd3557a025e91a9ed279cad2e53f2'
         '4f34d1c635dc21b03a90e6710b3be49c'
         'bdcb288ffc04cabf2339ba80f7c563ed'
         '31b36e4bf67b0ed2a59f12788dc27f4c'
         '6a08b832ed0ee1d89741dd289e66c305'
         '30f1a2cf1109670e29eca0131d506f05'
         '13a3b1666e66345944e89d52cb2be571'
         'b61347b8dad75c8ae6d76b9cd461e88c'
         '1ebf8d8a7f01837ffebfdbcdd35a15f4'
         '8017d4f46faa718521b45d8b1c5d0501'
         '9a9dba8a7774cbb384d5468b7cc21276'
         'c8c48ba09f7cbbd47ebaba43328b7a59'
         '0b89b713ce5a5aa4fad8ef065c6268a2'
         '0e0fc62facf73856467d267c7705cc47'
         '07a2be971a7b945c7695a732823cbc34'
         '309bfdc94106678ec97ee8603250bd8b'
         '1504388de4f7d5b712b71ae35168e315'
         'fda671025b30d11410a6a94878f2e925'
         '8a02880a28d2cf402e699d18cd9fc5c2'
         'eb30efeb235f61ce023d88418b51f86a'
         '0c04b05b2971e89f3253e3f8c15b37af'
         '8c9b66a25cd9ea156029aa0dcc14b5ff'
         '5bc56cb3aa2fe24cd83350a66ca2edbb'
         '90550e3227487ab3deebf16d24e2004f'
         '2f67ba1211568ccf7e7299364d1d91bf'
         'db52a6221a01ecbff8bf1f58cbd2e37f'
         '6975910e06739580252eed864304108b'
         'f96f6ba472997f5d8d0aad7cc019f246'
         '8508ea73bce5741906a93bc40b79ff0f'
         'b9ed440327d215c0ba6931e3a1436d39'
         'f93465b6b9981c386083806d36ba8c71'
         '18e1ac14334399d52f1a234296e0bd04'
         'f4a2ffe22c3f0acd6db23469be8944b9'
         '8907ed73821578cad3fdce500d46cd47'
         'fad537e2f869dbe8284267c83c4e8a43'
         '298abf40d945649eb9fe7c0dfd7db04a'
         'bc7584f2614dbef123d058efcd267c6b'
         '45c1107651fdb9e8cf883b5350836bdd'
         '86c87aa957e89dd1bf3c710ee6f1adf5'
         '461aaf467752ff45d3fb247a5ba269b1'
         '7fd17abf87c123ab04177fc04dc06aaf'
         '408a7db450918361697b7e84f17a9f2d'
         '7aff02868996eef3a39e04fa197f14d7'
         'ccc06b6d4d67db74881a9cc639aba3fc'
         'e66266ea14e9c2216506ec1a6b00eed4'
         '81d8ee1db0219cac3f5032ff142a6701'
         '598bacaf6d14363a7817d1e6e7e903c8'
         '1ecc6c95cdf4883ab97297bb933210c9'
         '429ee08e735fbe43af2fa03f610f3143'
         '31e9f24ed64fe1388f0ac391136668e5'
         '4b56d2516961e5807f589d8665b1d4b7'
         '08302b125e5750c4bb260c4dd0507156'
         'd53d914286fef46402212237854ec370'
         'd4b7fb7282bec14c1982563718670932'
         '576517ee9ef192ab66009e8f487f9ab3'
         '925e9e0ccb0fccefa97d81e08b0ca6f3'
         'b285813685d48ea583f2e066241a2ae2'
         'bc3710d72c0d9c4590a2295cae14748d'
         '382bbdce76229fa3325cf1c26f112d64'
         '20be9b2feeda61cecf1f7e3181ac76df'
         'be625e3d32d375ad9a8541feae0a6215'
         'ccb389b2136d40f3f8d75f15a8992dbd'
         '83445605f3be66305ed1c0f452cb9723'
         '55a6392b23228a9a9038484a5b846371'
         '4fe224ee52fa1fea59ea9552461d20e8'
         'e62cf2dd8cd055a0e06df2a7e9eb9843'
         '89c4cf579294793e99dccd9a4779e7aa'
         'c57490954d75c3536a23d27edec1d30b'
         'abb991ba375251cf29d3f994349a5afb'
         'ff111c11a6e6eed00ea174de6dc58b90'
         'e1fc872fa7d659dcc32595f669807bcd'
         'bae18f49d25b73a0ab16d160da5365e7'
         'd9dc08a580d2a181d9c60016d5af3dee'
         'dc5830b89a7cffe8d3cb25f17bffb90e')
_url=ftp://ftp.mozilla.org/pub/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/opt/firefox-${pkgver}/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
