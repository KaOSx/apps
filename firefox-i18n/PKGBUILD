
pkgbase=firefox-i18n
pkgver=106.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('fc26536c58674ee1cdd734ca7c1d1edd'
         '2dd64912ea449b0859b066c546bf66da'
         'd16093ba6057ee746d0acb576857a8c8'
         '7a83ff3bd990da9171867fabeb96b8c6'
         '5c19b9f80128db8394f34a56b29ca451'
         'ca74bd7ba30ccaf652173865811da4ce'
         '5904c13933db2ec1cda4591946129b80'
         'db03ca90dd7708f0ca49c8c361fca74c'
         'f708e12915e7384a179d14fd8dfc534e'
         'dedfbb88850e489928e5dcc3bbad41d1'
         '4fb13b564fbb869d7dc3eb94a69065b2'
         'b969258df5a03113fac144733521737b'
         'a2745d8d7ba8410ed0db06f8e0092d69'
         '92d51d4e2857e1743401b513b3bdc4b4'
         '05d46aabab634e3873032148f6761a00'
         'c841f9e194db2d7afb28e4bb3f0a66b0'
         '75c87cae0879ded4fa1550ec4392c73b'
         '5843c4cd1e8d448fbee1172a96da401d'
         'dec95d2ccaf730bf28691b5c82aaff21'
         '7ff214a73805434ee0b055c4b4e1cce3'
         '9c7f23466db27743ebbf33416a5f69eb'
         '9ae2112af34d83658d8d9447cabad7e9'
         '07e0b8e9c3d3a6abf75fd84f7008032f'
         '13c9881ba20e3b6a77e898bfbb066fe6'
         '7b1c87bac81c2f2baa3a4e6161dc9319'
         '8234f02bb218f30ddf1b9c6a9e7e0290'
         'bbc65a003a3fd5119194b652c4d89c44'
         '7612453c82ee30ce24e76e648d5b0624'
         'b0abbbe8992c1d5b3fe260a52f0b726a'
         '2d7c43bf38ac18df650dcd94ec413cc8'
         'aad6802eb0099c0afbfaf96372ab3f90'
         '8ff75f1f89627a96c9a2ddc0f4d93f82'
         '8520fe6f4f3efc317d1d30ec6b262384'
         'b312cedc01b752c3b5c620355cbab188'
         '39d073e4440aad22c528768c302b09a7'
         '3c2c80aa0c440bd57381d6283811dbcf'
         '63bd0e214d58f22567b3d0940664ebf0'
         'ed25c9d40f95fb76d7364c32b8023be4'
         'e2fd74b8721c234fee2dc50d6518e87e'
         'c002b6407a2c40890b449a1735e90ea9'
         '9b8801d85daa6b6c7995987a2067d7ff'
         '688359d1f2ed77c5cb55ecb5f2073983'
         'd39495ccf1895ebb453bb99c94e1be2e'
         '7044eada4595d964035168bac4d2b04d'
         'ba648b4e6c369389f087044945af0f92'
         '2835201234a9002df91a80cde445895a'
         'b25bc4d5a13a5b343ee5a96ce1b2276d'
         'fbe717f2d0e379f0e19cf3caed670ad2'
         '9748fb2ab450981c2e1d6f90556a75b5'
         'c751b9ba9ddefaed2f574fbc7b4d4909'
         'f1d4247c953ca61b0e954e55359e0154'
         'ea093a3f06afb46728c2475517da7f0b'
         '13fcfa965731a3364cbdace67cd532cf'
         '93f137279a8896f3f36afeb9721f92c5'
         'a99d7e99f9480cf2531601c9a74c7fcd'
         '79bf0b593698a4ba1ca620eacbf05a8a'
         '605da4416cbcb6297ade7816fbb8fa97'
         'a1e592999f82c01b1bb49591caf2e8d4'
         'c104b8de21024211c71a93c109b5c89d'
         'a262e32d54d46079a79099756e73133c'
         '3065e149e186e62653328cc6174ccad0'
         'baac9fd7617c3148d700e49b8514853e'
         '65fb0ea959459512f14c4525cc9004d7'
         '1553f54fa7ccc76f8e991eaa38b9875a'
         '0d684c51c1722109c2a67e83c031d545'
         '6684971f040c1bed9f8c17a3e3c7d0a4'
         '44ce88fe152d7f34ebda74af4918af1b'
         '2c9924bd43bb0dfdf2264bffc96c25f9'
         'e1a3076879a6595e5d76a235211ac138'
         'e489bf1ab8fd4a4421c0af66de67a289'
         'e0825019965a3b0847efb01dd3f60ab6'
         '27fb8bd87a471bb785eef611ccf388e3'
         '8ca3602841c35c9f4589a287c3777c62'
         'ce0ef551bac69a7337c2279fa2ea6d41'
         'd293727af26a20c1a883667ee06dcd3f'
         'de11ece098f9cbca048bbec6b3654c6f')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
