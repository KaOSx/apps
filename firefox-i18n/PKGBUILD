
pkgbase=firefox-i18n
pkgver=105.0.3
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('5d5cc4bb0b034cb1a4c849b93d7c1367'
         '2ebd279e695cf27e5216c58d566d29eb'
         'e29d8576c490b702887cbba9ab5c28bf'
         'b5dec308151d7b6fbf0c22f2b1423511'
         'cf02068914b28a3bc5189d52505ebda8'
         'b24f332feeb22aea0510449b7d572624'
         'a72c3c5abcba910657b4adc9c1e7d8e3'
         '441d4ed8244aebf1c8a65588d277fe12'
         '8673e7237910d141f3461296a04ad80d'
         '67a87df766c4b7108782ce8d4f92b651'
         '3f01d19d18b7eb6ed7917172e9264b45'
         '0205f4f33c54cff6d1050bf53eb3f15d'
         '50e053a013524f4254760bfd747b3ebd'
         '7d637718dd89064432987323c91f1d08'
         '579bec9a1a5a1c6ae7c6488dda74a0db'
         'd5054ca1ab94fa17537ea6333610a2fa'
         'a804347405972c54d1879f9dce36c981'
         'd643eaf5f201eb6c32f0eecc0766da47'
         'c57c5ae21ef6bed34cc68daf8b2cb347'
         'e2e0b2608a1d66aa3c5d7da72ab45eda'
         '8107fa1f14909e8c2428a2df177c7ce0'
         'd703c2e2bcc76be5ba0c8625773765cf'
         '25439834296df8b4685e3c1090125ad6'
         '5df8b4105f107d28e42f3c459df4c75b'
         '1dc13b1e2e75ec4f1252fc10721025ef'
         '0a038f39a091fe4cd59ba7eac7e1a699'
         'f9ae7e5fc104fa8c0d8e298173530286'
         '995cd6d9d532f486e1914f5628fea003'
         'cd2a4c02c2eba15d4238f2b927dcc195'
         '1d9fd39878e089155895d82d67f590d8'
         '91b1ee788d61acbf388e181c25e3182f'
         '24b33c44b4fdfee7d39610515d729c3b'
         '841a415ceef9e1f7c9179502749fa314'
         '2ecfae85aa0152f90d09ee5ccb4fa692'
         'a0659fd55e130ccfe2dea5637a5c9ce1'
         '8db159a4b865e0016af70fe16fda18e6'
         '856fe1aa3cf7b66eb610b7258c17dbd2'
         'd952eee5d6ba2f087bb45cf21d769315'
         '906b7361864d7adaadbf839704134cb2'
         'a95160f5401a6fc6ff562687e1b3909b'
         '0ba39c390553c41fd5ab5dff46690e4e'
         '6afb4dc89e7a458ac05ac719b5029e44'
         'dbd40918e86a8a1dbcb05bcf4f622e39'
         'c94c3a56b7340fcfdad449249a14a21a'
         '2a8462f1d4722093f1f6bc507ea32872'
         '993df962bf4ff978ff4f9b633aadee37'
         'f67d4b0f2877f39af50e2fe3c3d4f23d'
         '81a750f1ce5ba674d7f438704ede14bc'
         '1c8fd092a3391c1eca432a60702387cd'
         '7d6022ba98c92aab1a53cc46dffb9a1c'
         '48c5f6f94c279845f4aa0cb14e7185f8'
         '8be9b17c5ec30df2c2255817647ec87e'
         'f51347c7708ae9050995e6d4be7ee768'
         'd8a99467481a7bc5e03e1038c942f783'
         '4d82e224694f9f4bb4d252a8ebee23cb'
         '73c6af0f953934e1c7bc3a6c7f8fa052'
         '29c32fc0f0c47d16201dd8c3a56983a6'
         '4d0d9ca839a5ec61b5a2f46c9f5abc7d'
         '49917b55d62d155fa477b66f22ba25e4'
         '98eae27aba65ab203831ffb276402b0f'
         'a176316286b7b6b41ba9eb23eac7392b'
         '3a8a14da66d8870f28e51307425e5765'
         '60788bbff07e55248630d691d652cb5e'
         '49261e6f4ed1a9531a327233b791b2d3'
         '60eea78a262579e0dabcee02e77cbcf5'
         'c1bb36037e004d42aca096db92af13fc'
         '5c9907b123f975f16f957ed29405b47f'
         'b63d45b8a905caa7187597ff89010206'
         '97e8a7c2d4d2cf311dcd6ebf0a4d4b91'
         'eb055f5e2885f1bf75f0ad554b8126b3'
         'a2c3740ed08b0d3945826354133184d2'
         '93dd081d214400bc341854a654d9add1'
         'ba879aa12613441351a6d02cc9934e80'
         '9f2997eb6cd822dfd8ae7d2d9adaad12'
         '9f71272cb349a3f8ee3369c163725554'
         '6b6a98b7552e1d86b05eef98c30fc1ea')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
