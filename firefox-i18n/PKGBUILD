
pkgbase=firefox-i18n
pkgver=76.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('3566c7bd16c80bb46e602a2ba986fc87'
         '9e2e6a1a97e460c3be01848864ea5dfe'
         '0b47dece212236d389af9e314e728007'
         'e35e11b9ed1106bd326c7c725713152d'
         'fb27b5a8c888817a815e6d4571819846'
         '10b13bb1f50a4df41826fa4c2c72c17c'
         'ffd962c0e04bdf6e203adfdd328d8280'
         '85e726e8c8897fc7111d5f783b8a663d'
         '23c65e5926e7fc9f39499bc9ee341437'
         '76d951a5de54488ac9729823db224910'
         '92540aab3fb17a99d9d40ef2ceed2585'
         'a0ebb8f3a12ea144b154627576ffc3fc'
         'a0bb7f72aae9e75afb2feccac028da5b'
         'b570e862fbfdb74835146a1abedbab82'
         '03c2aa37124a45116adb3e1cd6f57438'
         '830d0be289ef401bc45ec1b8f299dada'
         '1649161cadeae0c072a04063c7cca898'
         'd11ca2d4b675bacfde5878967808f974'
         '434d1816e758faf146de4e480619e003'
         '782196422e605f2c79943c09a55a5bb8'
         '1b252113effec633f68d0ab6418ba30f'
         'f0309449ff190021ebf005e65ace1106'
         '90f737837494c508d8ff42134d49b030'
         '83ed00b554ccbef24a9e0e1809007367'
         '11e860b0691c65f21bd1a410827a5c6f'
         '552199cd55f95a37974b1ca718abf5d1'
         'b93a6a78980575806e4f4c92b2bb6bf2'
         '134e67c9da89025258cf7c6c27ea8dc7'
         '2085fe8c0e6bcefad6d7ac8e011bc3dc'
         '3b28e7d775475e5bce756473cfd507cc'
         '67fa2f6e5ac3d9be0fbeeb92d6cfa405'
         '4a99054237f4ccac19896ba0acfaff45'
         'df32cf45a6d027f4968549f4360f2812'
         '9ad92584206b3f6c7472561bc5814582'
         'a50c97408551f60b066fdf044b89ed06'
         'e72b0c7a9cc637523b579f9f0afcf5af'
         'cfb3c3c675f649175e7245b23713ea10'
         'e7263fc54bd60893b3062ad98afc2d17'
         'bcf93f5a41ec353a737cc615359a8cb5'
         '691cf5196c7ae76a31e0eee64c12e1a1'
         'fc6080e4019a28f317b8cf6487db6de2'
         '675c1c49f695a22b30fe446df6bbacf9'
         'da3d04112e687922b394dadd385cc98d'
         '6702fe3cce9c5962605e9418f2416df6'
         '6eddb540ba390b2084b2937b427efa82'
         '9ad09e3632c4f46a4ddf8ac0c1c9b69a'
         '94f5248dc4c093cef107550117ba93b2'
         'de032e2c7670dd83d291548fd0fa1726'
         '1856d4776f62bafdf87e0b38eee47db1'
         '1c71ec09b9f631b5312e058171dc8b6d'
         '724baf3f2ef2b081ca901591ac4c5cdd'
         '9c349055d7fc94d95666e0ca77d294bf'
         '30a75bc28a63e4c0162f159912cf623d'
         'b3228ec4abd172abf9524cb76f10e42d'
         '6056535172449a157b4b5453fb74c8f0'
         'a1460de5e97310923da1dddc753b918d'
         '2e26b72ae28c925b7ea93ea58919b174'
         '085a124b8aa0aa002b1646ed0a28ec1d'
         'a109e443377bde0ad18ac2a965d0db5a'
         '0a8edf811acd7a1ec5c74306e3981b98'
         '88827b39ab4a33cccf801af2d4cfaaef'
         '94ab4736e8582f8dae0dea563511ffd6'
         'a0985a9fff706957360f5ff4e1c289b1'
         '3fd6f4882b0968fc3fb2e76221bbd65a'
         'ed1fe3e881bc2a336c322ea3c777d758'
         'aa73a82a62624fd92e7408bc425d70d2'
         '0b1199e4e51c2ba7a174f7fa8a5cb033'
         'b7e338f859b5eee7f8cfb83dd3e6ba02'
         '2080e8754a8ed633f1dfcf7b1df75f5b'
         '145d9b3aac6c10604f1c196050fa74c3'
         '4bdd49fd87b760ed967e69c875bdf639'
         '0c765550faa3973997e0586d45b412a4'
         'ec039954e977f9be6b0c18ce1a2e28b4'
         '1ec5e69db1dd3bc95c9d594dd68698be'
         'c62565e063f148e515ef64570fe8d673'
         '1756a29a864ebd414552dbfdd1969df7')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
