
pkgbase=firefox-i18n
pkgver=29.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('32b6d997439f3435c24e7b9b9ae8ff5f'
         '5051b357e7728c1c7a4c383e4d19f43c'
         '6659adc6478f1a59130566b46e92827c'
         '8b0a97dc0b9983ab7c484654650be5a8'
         '89103bf64a3b6142dc6a0f1d41c92b95'
         '484001da86474b16f6a6e01a70ebf7b0'
         'a82615be45bf3e6e34b6be55c86d5661'
         'ed39a300e69ef001494f0ee3c4b5cc22'
         '2e093a4407ac61447012ac389038d4dc'
         'fe897bc56364653d674adf07d434c997'
         'dd8a3e465280610aa2b6c80a9ad76b4a'
         '6eb1279b6e519f75168f68de5bde44aa'
         'd996d53cbaa2097afa500a22a5e5b233'
         '76b52f604507a0ab4fce492a86ebd1b7'
         'b2fec692256c0be51a76795f319aa8b9'
         '2c58ad7d667c0c470caf3a790425b50e'
         '3099262cb24ecad3b0d9db5a5697a5ff'
         '4cf09ad7dee735780eb1325f33984c7b'
         '968a3af4ff95a3298ccd8cc558158e8b'
         '6db497eefad0d53b0b6f02e0c339fb2f'
         '42f5d61273ccce46ee4d80a130a5bd74'
         '30f224380318b75bab703511d3929c1a'
         'c79ff99a9ea6669afb02caba7117a7a8'
         'a6945e60e932800f80ef1e81c7d07ab3'
         '37cfcdd6b7f4b5beb330d63eee38b816'
         'fdbca4766f3900cd13d36dd530b104ee'
         '9e1bb75046b27d0cc2d26d8b801024c6'
         '52e3f83ecff62f1fa02f78a64c52c9cf'
         '383098a237f031452136e3131ef448db'
         '2be3d0f8eecd372bbb7686af91fbd94b'
         '518c7bfae028a7e14077dbc92f0a8883'
         '6388327747d64dc149b269a8d47991a2'
         '967107a2342069da953bbcebd1dd5a4e'
         '7b39575cfa28339aaffadde84f4403a0'
         'b08cf53e4b7a36aad8c2867281d89ee6'
         '7d3245dca1c26e3414ebfd24dfd43f4e'
         '1173e165408b965715eaab09dc8f8063'
         '23b6a1325638ecf01107619c17139c17'
         'e71356fa1ddb01c2441188a5842d8e69'
         '757a5ac60638badcb22c866456748440'
         '0108d490ae6dcc89555d12be40f89d32'
         '245f641702a30a81f98563344b7f9304'
         '7ec3c8d4e9100c370cd003ad2c42df7c'
         'ab95c3faca845465f698d64d4c9262cb'
         'ca425fad9a7cfe1f3154bf6d51c3a7d6'
         '084fcb10929dabba4591b24b4a0dea24'
         '8ab78c68090b5aa6e70599ca4437b4c0'
         '3099cf9ca27ab02c98b80a67d3ff46ce'
         '6a3334dce35a097832905cdd7ffe7d4d'
         'a6edc005722f975da51ff1cdee3da18d'
         '1171ce2bad3052ecbf772ecfd81c1b0e'
         '4b14e35522203de23f83691eb2bd538e'
         '83f9fd001efcd47a242a471b9baceede'
         '7b2c0a94ad0151abdf77ec4588bd9bf2'
         'e6024aa5c40e7fe927602d53201341b7'
         '580a2b611289743e0365f5926283635c'
         'a9db0bd1214c1f6be5806514bf123c27'
         '60e187cdd25beb0db92d0369dd871ca2'
         '9f4a40916a8563998fb9f3767bd192f2'
         '919110c17abeaa68664344aa38d53e49'
         'abfce7337fe3693bbca679b0d2a98cea'
         '495ebf435ba086b4425213c1c8edbd13'
         '125c231936f53f094fcc434a02c9bc23'
         'e207a61a4ac9f3350f3e092faeba4106'
         '883d6ee9af3a1e8294cd8ca0dce9f0e5'
         'e8c592f4ac9998ee6fdb5b0834bc2890'
         '6421c4b3e5c0ae265c19c7ba31b707e3'
         'afc6e35e9ab985aeef5d39fc7460c896'
         '21d23326c85ff844c99d39aac2eca1fe'
         '418cf852ac0cac151de1b116f64cce9b'
         '0e2b953e33a1628f9cd49f404c5c8437'
         '2d923e2777eb1ebc9fed4b99715c5848'
         '724264a951371ef9d6a58cde7d7119c7'
         '52f6894bf5294ef579eceed85f4d5c95'
         'e03741729b6231dfaf2bad1e9b6897a9'
         '6a8f22ccb26b2821a2d4fc3070675b16'
         'afdc36aece0672b6efa2c787401b27b2'
         'f3218fe490ebd272141494e716616ef9'
         'b91b99e36e9c29a1f2c89cddc4605724'
         '0caa3909e95ea7b15d53544fcdf6d2b7'
         '37539a77909ec4e881da1a4f8f2e3a44'
         '1a3ad4775ba2db6b0944997d0f65e538'
         '40e42619307c2068daeac64331915ac8'
         'e33b1b3ef09eec596c5d7fd66eda1d78'
         '5ac6301e9e8ec6cf65e62f2ea528d8d9')
_url=ftp://ftp.mozilla.org/pub/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/opt/firefox-${pkgver}/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
