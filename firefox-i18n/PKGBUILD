
pkgbase=firefox-i18n
pkgver=111.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('1a14bcf4eaf90f3956676807e7add271'
         'd03d8ab901830fd9acae528f1726d7e3'
         '7d51e3a869d71ad19b4e2adfa2c95b4f'
         'dc63ea1f83c7287c714898728f12ac73'
         '658931b54b91cbc5af900e841d91c35c'
         '4bdb36940233311b8f62f1193242b721'
         'b33cd0a91e37993c09ec09f4a35b4e27'
         '898a036f4ca49b4ec02d7e22d4dc3903'
         'ca47b52274b6724c5be4ff2454468b69'
         'd8210f8c58145ae5f5f3dae613ffb07b'
         '72c8e84dd94df84b98d25e51a77da736'
         'c91cafce7c4e325d55ce105b12afcd64'
         'e365d56600a2ae59d66fed5d792b70ef'
         'a0e22ca160be790ad8c31255cb86dae7'
         '06e0143d4249745a4ffb90074a6fd5da'
         '4a8523b3d737ff73999ee82cbbb0fa3b'
         'c3180187c99cdd578971d366ee625fb5'
         'bc7c9a4c49c3dbbc654f9221c9441793'
         'f582ac06ed0dcd938562cae68f7a972a'
         '7f3cedad0f6b16d6a1c916f7ad20ea7a'
         'b0cc0b7d5329a920b8b9b261e35efd77'
         '46b6e4b7cab0b16b3023f88f6b263adc'
         '9939b6710ae2a1227e58571802e90890'
         '90c3acdbe4a41c7249948dca50e891ca'
         '852e983038087b6eefbf1de7aeb4cee3'
         '73db41f21aebdcaa9eea5f37d80d7c08'
         '1f8f82b7465636c1ece507abcb9d3e65'
         'd64ed28d44ae1dc888d49b0a42bfcfe3'
         '9c581ab7e253dccbec85ab5b014ae875'
         '852cc9b42dc585329cb75f4171f2532e'
         '87fbfae1b0ff81be38c6d2a155caddf2'
         '342c00d88e07e1f64648ed971e838081'
         '7ed42853cfc67353ba543b8540720f9b'
         '5336cf37e1ce4d823ad36f82eb842cf9'
         '3ffdfb2005cfc7a53476cd16f5c5343b'
         '482bed9db54017c923344177580f7108'
         'b2c39795af831eec662cfd7a454ede70'
         'f1a2ebcb1f1d2c20533dc746b7ffb2a5'
         '89967d48648bd3dc4733191e7098ccec'
         '60223a4e8472244c3295bf128c9e05a9'
         '1c15ffd4c718de2c3096deb8bbc5b42d'
         'aed6764c1a91c6d649b1df261d817cc6'
         'a158805b0a46677fd10f3d6cf46d0711'
         '2c4f0f317acd3e6b694d00c2810b6831'
         '4d607cf14dc60f34079531237bc6ee41'
         '0d61c593aed1e66a4d67efade5cf7899'
         '631d9f289f2d6078c235747891b8aa8a'
         '4758ce7c9fea3225aee65d8cfd392b83'
         'cf4c83e9ad6ffa507570ea69bb523bff'
         '5f05b6fa01c517fd40309af05bed2e63'
         '99ea0d5fbfffe7cd837e023769d76e3b'
         '7839e96c1a8c0ce1efd7af579c6f78df'
         '32b25d694271b4839ffe0328f4132db4'
         'a07f9f0738a87f301b4dbfcfeb5869f3'
         '0599ac247200b8e68df77b9c86f8e7cd'
         '92246baed2032c066c4ea91c426f4c7a'
         '727ac80305fc59db4339faf11138ea6b'
         'e9c21d95388a4fadfb5115fa9d15f6ca'
         'f335bf58473d95afa80788a36bc3d1d3'
         '145531255cd48ce0eaafe6ede3cf9ffe'
         'd3563fe11e893a9693604259b4e797a8'
         'bc0a0bcca13c0e86b5033f5efb4c1783'
         'bcf7f37dbf39a71b01e5ffda85a1551c'
         '365909cd3f33f61b2bf98b8d01782f0f'
         '98bd43b201859f1760d0b9972d3e0636'
         '2acf95ee673dad45d60d043b48452a3e'
         '774721d6eef9dd86b7f28bf77191f95e'
         '0d52919688947e211f3da74b4a9d45fc'
         '3e72dee0099e854185e49e0c5798575d'
         '1df44dc9b3eb76f609b3dcf7bddae3a1'
         '40e074e7dc15bb5ad0a49730a465a5d7'
         '8b6411b56a8a6491e02a6a1bfcbd178e'
         '081371ee6c60800fcb0463e4df165cb2'
         '02079af9b7f9a02c89b9e8d15073c56e'
         '23f05f0557b237d110a4c532aaa22e2a'
         '3b7f687bb6473a99e8cb997f2acb6bad')
_url=https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
