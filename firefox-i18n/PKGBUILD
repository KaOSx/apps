
pkgbase=firefox-i18n
pkgver=106.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('fd092546376ce1d33686903b5832927f'
         '24db7139a422303007de021d28f44fa9'
         'dc986978059bf797950478da5d187953'
         'fc957078f785a3d0d8667c090e33a6df'
         'a6240baffe5f743b9a2e8ef2336f6064'
         '5deb0dc81b0e441856e4d0725e211918'
         'a5f987710a54730ac962f04ec5ccf041'
         '36f8c9f8b3e9041cf2ad078b9b0aaed7'
         'ab967c9244d476ea97ea3dbac4520de8'
         'af750aa987e9a64be62a68161ac4ad3a'
         '8a51b5e7b0ecdca38136ff85e444ba24'
         '7bcd48b389fe8c4ffc5af444b545c4ff'
         'e9f46e6adb014cabe0445c9224096136'
         '0de3c2c63666fbda6d9c8865c1a8fd0e'
         'e2601e3442a8e42813e926ddacedef75'
         '2ca35c0d671416cfa2eb1c8b21ea9b12'
         '5ccb56587a4f7790305659e0e550da4f'
         'd963dfc449374837ca07f847f2458415'
         '06a86ed0371c84fa7d221d8c00a402ba'
         'c22208d3ae5b848d87ce09981192c7c9'
         '80ce98cff9f57fc3a9429b09e605f23a'
         '15413870792ff993ad328a37e0e2ee61'
         'bfd4a1f4bd5d6cef6f5f13d718bab9b8'
         '3615069ff17928aa2d3b12aece2c4929'
         '5c61b8adfb91a638a578a2783b341d9a'
         '3759c2f1980dfd91c30883bd5fcda2ca'
         'd70ce297d7023aa90050e9cfd046d239'
         '2c12ed85a5eb7ebdc16057015dc62d6c'
         '05f93de37b5e21b90a480ef5b9cb662c'
         '1da04820d57a4be42e1efa3ed5b3f52e'
         '10773216ed611de54c69bc344003362e'
         '5e41ee79174f1ea696e05b9d33a6adfe'
         '2407723d48cf2a61fd42cc14fb358ad3'
         '4c13f8229e9d7f4b5af975aa7b351347'
         'f20bf6187095d205ac4fa0104c9a35b7'
         'c8e4fad68f1ee0c9d4281080ab0fa983'
         '6535a4b736b483ba611f58bc53fa8052'
         'c257295938080ff9328fa510969ddbaa'
         '55f58c450b6961fada5f0fd6f127526c'
         '657d94797b5d089f4f0c0b26ab7563c4'
         'b0d0a6c84512f43fe639a26d904ee9f8'
         'c3b6494b4d4a393bb1ee67303b1193a6'
         'faf95efa8059d59ebaf3dd7b8af12293'
         '017af4f01e1d17bf0b14dde9bf7f2db7'
         '4abc4c3c993df6f48bb40f8bc5a53859'
         '1bc579b11e6ebd422473c3211e98ba47'
         '191271428cc65d4c91fb663dd4eab46d'
         '0e8aca11e042e6da28978ccc8428335d'
         '3e6f913c922d0b8f483d395aa5a97878'
         '017e090a94d0a10b58e56c4dd038aa6a'
         '5b64232057791dbe3daeeecc82205c87'
         'ed7db8761fc3a8a48fdbfa7e054606c1'
         '432e787216792ca9505d08b37fc276a1'
         '66752562443867deeba47475833cd40a'
         '03f0e50e7cfa050d696d9ff65abbc221'
         'ada5169f458c86024346b3588e0b0ffb'
         '0a64d0a66bebae09debb31855349d4be'
         'a730beb82ea087299b15d35666114f81'
         '726ef8db1f78d76562a84f59a08a2360'
         'd7b81c7b7863dfcfe5f39fac59bdfac9'
         'd0b86503ad5b1f5f9216fd56c9e8a87f'
         'f52765e63c4f339195ff9fee3beddbcf'
         'f05f9d423555012a4929716c2d1e2bb0'
         'df8320f2f9d9513c77c471a96aa04111'
         '50c50e3afb8a846d0d04141c7a4b4956'
         'f3586ad4cc151c54db0780dc74f268c7'
         'a85baaa87b094255d88d4fcd2dd2fff6'
         '689fdb766b9914d4e9bcbdbb35d83a81'
         '69efd5f6ba3954dfc617ef8d378d45f4'
         'a04d5a64c5a52d8173fd1061af7cb7a6'
         '2e2e383b42b9412c5ffb614cca442fe4'
         '4ded58693d1cb955674f0ed65a9f0bbb'
         'eab42d66b616a2a7530fdeea2e5b9140'
         '04298af2e17f8687ceeec4a7e544ee10'
         'e758cdfab659f3228e2c9a7e5a5cb8a7'
         '47014ff9e00841bde0b530a36d2ccd90')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
