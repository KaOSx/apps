
pkgbase=firefox-i18n
pkgver=97.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('80ca467290f1dc657c55437d88006838'
         '2e0ab06748756371488f10db52ff4994'
         'a13ee39744e6f4b47ea5a66cd8dc2e02'
         '6ecd765aee1b835a1532b31b9d7c1081'
         'b0253d0c782d1b412b0790bf5754ff84'
         '7d0f6ea7f31b80d9f2df472a5d892e56'
         'cb588577bbc15b72ddcd4b3282b3d339'
         'ffb5451c239509f2f82e72ddfd2bafaa'
         '2bea0110e4f8da73cc087fe7be8408fd'
         '98846f46762d4a88fc7a404247a33ba6'
         '9f217e046a931728fbd3ceb3acd3efa1'
         '17ceffe7f471130c9fccb1730714690f'
         '236b016d27f54309ba7526c8e16ddbfa'
         '744de013faebea950afff5bea31bbd15'
         '95cde82ad644f8faccb08ed12e58b210'
         '6146f94cec7eb884a261c5d9deb05ba4'
         '73043b4691b7eff4166920f59e074ee1'
         '61e4d0541ac152092ecc426ed85b478b'
         '517031de1477e55d19654a38017800c1'
         'd8c378d2d752864df93f8f01cae2f0b4'
         '6b2adfac67d177f128492fca9d6381c8'
         '9f6de3a691c52a3c402386e5a51167fa'
         '5a4fd40be493f9c69ec489ff3bed28a0'
         '499013fe4f9ac4a5cf7b00733292c2ab'
         '96da989b9e9467ed739089977b2c6287'
         'c0a85e53a798f087c8413b0be3b3e486'
         '8fabbd3732b2e5c270769cec865b2742'
         '9b77fe5a4bca9da326b9df8af436e74a'
         '01c79b8461bb7a53c733083b695b9052'
         '1e82363afbe51f42e9d08f21bb57990f'
         '427abd534dfa48ee4ddccba9c7378708'
         '2a582751e3a8a5a16ed2c5e612c1b94b'
         'aaf0c1074a0d2e11d8dc824285443a48'
         'd641195aaff25bff4dc0bf392c313b8f'
         '4d0922045db6474c7f9a7e79a602904d'
         '1abe46b7ccc8217f89197c8d652d67ec'
         '06f97aef7ece444ffa238f17e059ac6e'
         'a980b91a47e9087993ba0f1f5155b15d'
         'f382137cbe1adfd23caa6119a77c6ad6'
         '9abd564ea7160920042ed01c61775222'
         '9ccf9085dd2ccb35e3354aa964da299b'
         'e5d9bc4627c3baf014dc1edafd5846c3'
         '24217bb449e9a288eebb5afccb9cdd84'
         '4a2fb4ac5174991b7a79fea227bf2da1'
         '65f15e041676432a38cb0c379bb4a293'
         '10ecfb4ffd8c594a89edce41cdd2fc9e'
         '18cc2e8ec51b58c5f17cc4c8f12f23ab'
         '8397e16853096de38da259807a8292f0'
         '4ed4d1cbf2ad87f5404873556fb90d63'
         '0d883e436331bed333f157b429cf1c72'
         '16aad5fc7841fd496862728a0bb1a539'
         '31339190648c16cb23685f59343df181'
         '0327c981650354328ddfc6c8edc2f7bf'
         'dcf2d2f0eaac248b2b5e413b3d6e3a0f'
         'c0fc4210b54e645b70c976949c95933b'
         '343f082eebe317d7350690de790aa28f'
         '96834ea11de80dc25741dd447f2ef21d'
         '3eaaf6f848dbbafee047c47b90ad920a'
         'a008cc1cd490f04315ee6237cae1ad75'
         'a2f961efe0316a160ce2821ec445c640'
         '5e12c8ecbb76ee3326f416e8c4f43842'
         '67f378c30b2ac0120e0f39e21e3c8d29'
         'decdd69b761a5d69e02b6dd03a7d3a90'
         '949cb32238888092a365a0604c45e29a'
         'acb2e57877b51ee2a1a9a4c52cff2a7d'
         '7d507bc7d328d218889d707e347d899b'
         '4241ada927c4020656e81fdcf7738972'
         'e463c5e9cb6f09290001855a976b33fd'
         'bbc9139586bf0132a65031f6953a2842'
         'dcf1dbc9bc03c2efc20c3b2ea7cef439'
         'eff3b892a56f2744a5a6bd25eb255e86'
         '72f4a39d72dd76cf03d08cd4f538aef2'
         '747b792b5eec19dc889c647239f3033e'
         '893f6fa28c2edfd536c898b99239e740'
         '75a72e0e63364cea06e5e0bda28671a0'
         '9072e254918a4d568abf131f32efea70')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
