
pkgbase=firefox-i18n
pkgver=99.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('df17430f29469da106e8f98469dfa688'
         '914e4e824fe2bbaf840966723e9a8ea8'
         '8849821c5659d91453efe1f91b6cc17c'
         'cb5bf47eb855050aa1ffc3d01a250d25'
         'c63e2facf1b404137cfa655aea40f601'
         '5b3def626b62ec43eca019cb186ff17e'
         '9d95aef584855cff964929e75900bd9b'
         '52a35edf594ebaec06b91860cde6b5df'
         '2acc61744b5d5b4cb35af8a0cf1748f0'
         'b4bbb65692b0d1c514c1ab03fc113668'
         'b5f59dcda2a9be9999ca81a80044a48f'
         '9e572dd954e7fcbda544eff57ca22533'
         'efe0dfe07163fc7ca55b0c9aa2a43e67'
         '6c39155072814e7373e3fe408641e879'
         '103ca2eac582f8a1a46a462b2ac00ccb'
         'f148f3921f176de819855fc441717f3a'
         'cb5e66e679e0a84bf622b843d4d70cc1'
         'f8df86b8c344e186f78d2e2b514cb339'
         '61b8e53eaa80d379ed4cab38c690818d'
         '65201cc4b1b6d9c9653db4736f51f296'
         '7b3200f7504a26e5485b27cfc97b9714'
         '581295ecedffc1e6e8b50fc7f6039ee6'
         '7e845bd3796dd650b54a76faee3ea583'
         '46668ba62ff51f8e83b29fcbd9175492'
         '44eb6d3ab23f8869a7974f75f4130690'
         'ec19778f19d04fab1e63b617db382312'
         '2bd826380fa1f33763004fd4be81f807'
         '647c3e5c3f4f8dd9a3662afe6f91c957'
         'c42c07ae4e23dbb7a3e584a08e599446'
         '60914cd8fd25f67f6e8ad48e4ff33770'
         '1687770767023e3d61a550c61f6b3868'
         'c7d2d1a66624663f8f14679d240abbd9'
         '98348ee041e9d7474aa13fd66e4b3a1b'
         '5ec33d9811a5aaf68e1cb00ca7043b14'
         '9e93f85f01d77b6b4849d5ce0a56cc07'
         'da7b2da40d82df6e3079237255295306'
         '94161ebaa1e76dedc9bec08d9945e3b7'
         'a77aa487daf1e2c9b4dc0214b3d5162f'
         '6e265c85803a0f6b797d4e5cffd3cc89'
         'd0ccdf616908a6e73436556dc82a1580'
         '949809bba6c82c99b4e80b575c9331d9'
         '74e6c6e7bdbed4d11b1a4177438f75be'
         '2d1e35e615efa181d5eb9ba27475fe81'
         '58cb10ce4397f08c11d8dc19200a21e0'
         '8a02ee9e9553628dec3286dfd823818a'
         '2ee9161aac37edbcf6c0acf6a1d251e6'
         '021c2c839466659d51bba6fc6f4cfd58'
         '60964b6133e32a4c26dc986bf376c1dc'
         '085ad728c2483a899ba5bee96ff2130c'
         '159c0ca99f57ffe86f53c75b562b61f2'
         'da14b30aaad263e36d6d7b6e72aa7a77'
         '380edf1742343b8a44fa972cfae81b20'
         '9c8003b8bb809b84cdbbb1d1516e3d5b'
         '7713c3043c80d4b193c5255a8c8c71aa'
         '86761b9665820b680399d037720f6fd1'
         'b0bb4f88ac8fbc573b69d61a5586b873'
         'ed938ec88d5e4410ff0a3341a1959de6'
         '9a104a5ac6e0502a67e3714d36888610'
         'e973797d357306e505e1fc4fbe6f788b'
         '8ad649c0891d289e6e3fae9d9eded215'
         '377df3e084acc0cdef9b164c8314f2ef'
         '7f17e5ff0ef4f6c29848bf9301cbae23'
         '85813e3e37a8e5316ea813059f64d672'
         'd1714661b90641162a7c9223de5c2625'
         '2cb91eac21c54f31c128a56a7c015371'
         '78dd59fa4f38356bcbe74775fcdea12d'
         'a6fae3fdf3499aa7a8df77013a247e6b'
         '36d3ae29786e50a7df1da03598575e9d'
         '3b602ec01aea64a615e47a170ea35cbf'
         'd71c8b52f53752b6318b42e5a60ac157'
         '97b75aee4595b11f86b776017e1e50ec'
         'b2107d927806a96b8b266a7a355dc956'
         'cbfb6bc5676990aff6774c276f5b6e6e'
         'fa53dd1a1fa1e33543c30175f8de85e2'
         '7bb2e0cc5127262c87b1fb5014c8f12c'
         'edfaef2ce67717664788ddb64cbd0dba')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
