
pkgbase=firefox-i18n
pkgver=97.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('1fc0149f96442f7f911cb081ba55cf2d'
         'b2f30c2ee78857380646aff732d1e7af'
         '06f3cfa7f05918fb553f38dbff7dcb0c'
         '981d370fb827acc364d9bd7af7ac6c3d'
         'baac36a5138a1be4a4c5173979f8d035'
         'd4ab128aa1cf0e937f520ac41688d59f'
         '451ca25d4ba87cda76c7bec6bd88a193'
         '0d97823a4734324a7642cf09ae261964'
         'da8ce0ba23d8bd3d2c717c5f02716e3e'
         '2b0e322a24b469bda999a3dbfbb7d32a'
         'e0385495d6da6c55a5406a73339fbdcf'
         '660cdc9faa59beb3403ec7c1af9c2eee'
         'f9b7ce612a9380b7ddac3d77d4d81bad'
         'be0a5eac75b388a0381f388da80ed811'
         'd879ab314638e7ca8a79bcd6ef3174c6'
         '67909da9463d1292a1837d4c38fe2681'
         'a6b5c960721ae80402397d84b686008d'
         '3a803aa2725d8c3212488623aa029542'
         '198fedface0080dfd700d344057a8cdf'
         '046db9b16bd92a665cfeb0dce8bbe52f'
         '2992006153efe13cd5914738944826ca'
         '088f2f16822cd5c73fca72dc41c95365'
         'dac6c37ff18219f1b7d962e6571a1e0e'
         'a71051373f0b1b778999e1b013f8a869'
         'ccaf775a06af0e712cedb22a3e3e0227'
         'd29012c01120db2e75000b209b173ba8'
         'f8d46a41e612778047a3b01140e41dac'
         '5b32f899ef3349a5f98e1656c422ada8'
         '1b668cb9572c1ec566e54571972444fc'
         'c23b6dc4e57c88d2e627a2397b48c8fe'
         '8f83f69f0938a994cda62a357c4f5556'
         'acf0c8a0ed049910b8be0481cdb34459'
         'd6b95197fe93a3f30232a0e0998e5ce3'
         '8ace6d3f958108f8741de72dc93e108c'
         '3e14893ce3063a842caaf99260e88cef'
         'd9a0ae4c8c766af25652e99651d3d241'
         '5a63edab29eea1ed42aa2ad42cdf0a75'
         '8b4d4c761283de3338eacb6b409f953e'
         '74d399fab46bcad60f5914d39d176dbb'
         '2fec33c527cbb8d568508e0487d22803'
         '0509313eadd589dae7e1f3d8a4eaa4a6'
         '04ea66d76bca51d40c6e036a9b85208c'
         '489b9fac567257a47cdd2d789194aac8'
         'f2680f6739d3725eef6f323e56c2b7bf'
         '5e88e1cc5f8f7b6b1850cb2dc26ee3df'
         '7387db708bcf9e2876a9f680e031d745'
         '6d236fb61232f71074221f9af1d01cf2'
         '566090c5779652932e1bd857ad3e1c91'
         'eb79085a536dcbc1676d3ecd95b64d9c'
         'a887bc828414d21ebd29e7a9b452e41d'
         '3485fe66413300ceaad1770d36c1f365'
         'ec76a9d234f82dce47d59da0c0c61e88'
         '479c960d01cad5dac897e8fad671c260'
         'd75439ca09770960cda36b1804ed4c0c'
         'ba6f0a2c915f045fe5b590b6d6f86e29'
         'c5ab4e7b5ba4eadefa6b6b5903238241'
         '2caf575d2c9ca6f753b7c43f9a7f9bd3'
         'e51a0f14311183987a5991b05a744e29'
         '2064864c740e28f01ecd4f9d7cb38128'
         '0dcf4a6180bff70a5bb2f99da703b77e'
         '9b0db35b5cdd7791c08cc5a176ea0b33'
         '8be05b4bf78eb83fd38e5399fbc5c403'
         '088dc66f123d124b6353914c7b685945'
         '5b196f57d44204e854e32a47fec2db35'
         'b80711e406348259b46b34343bd36eb9'
         'd5deb6c38defe0031b17818ed981a0bd'
         '6d6fba3627bbd901e8fea82a1d6248b9'
         '33b4198caa2dc607b73d27557e32fca1'
         '43176b914263da573a4e83bdc858810b'
         '2665539ba9e60196b23b48a3bc26c954'
         '2fcdd021c58e0fe57d999d8316948a49'
         'b8c6735956e79cd381e439084c28aa2f'
         '854f8fd24f9c464a850a1267b0883f8f'
         '4eb483a7d7c373bbc5e55c08357237e1'
         '08603ffe59819b71a566397c7b40bb44'
         'f3e667e5afc46ddfbf566d38801f4f8a')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
