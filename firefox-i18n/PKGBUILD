
pkgbase=firefox-i18n
pkgver=94.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('9b2fcc8eafff657921297137d1f9d394'
         'fadd586cc5c4c0d386a679234e1a848e'
         'b7832d431d9c2f2ddf8be6ec6236489e'
         '90c77dc73dadfb0dfbbc69bbe63c7841'
         'ff01fc8a5cccfaa40de538e96e0fe64c'
         '8de4a3bf5d390fdaa41b34067143a869'
         'cf6a03edeb6b3531fb1c6dd641e1d56a'
         'c8a68eee007e62ffb60af5ecf1bc4195'
         'dc9c1f2d3aa1956a52dcb530701a81d1'
         '6e98683897ae21c1843dd59c85d9da86'
         'e0d64ed466af37d11b5ab20bee2ecc3f'
         '86f6a9eb09474238f5bced707e9ce9c7'
         'ec3a91b84476ba07fb20f7cf0585dcbb'
         '9884bbda2d052ad7b1169fdbb2e73659'
         'afa28324006379ba437d9cb141efadff'
         'ef01b2ded846771c9add07df28ae688d'
         '876f4e03ebd70869274294dd0f75e41d'
         'cfc9fa3e6716594afa3587b4e7759d17'
         '896235c2e16f570bd909a8df4c35557d'
         'bfd46a94975189ab2b471fda65084f68'
         '08d13564f18b14967b896b55caf39b0b'
         'f90cc09a8c86a87942dc02d7561f496c'
         'ecec93b4a0b626a5d6321bebd75f127f'
         'b75b20e1c624abfd26857f97660d1ddc'
         '49941ec8fa960c4cebec0e07a730e1ea'
         '23905b2aa3d81d5564d53096f72e6587'
         '016af369a353f10ec9a891f974a6c652'
         'c994ecfa73288d6c25264ca44dd9902c'
         '3f9db24e35b8bfa47106fb8e38bc23b4'
         '174cf81f561e5c44c0fdbebd4dd77a7b'
         '55058a9ec15bc8727f6e4a1e8230e427'
         '3698cf25a96aa90f3c2e6181f2f68165'
         'd1c96297b85b5e3f9ad4ef4a3fd31298'
         '60f627f486c65cff7c913ba377e79a44'
         '34fefdb7ebcdc2b516e205dd34d1d22d'
         '54b814bdb544802f3cded8407c59f2cb'
         '74c86298de55525168b26b028ab76524'
         'cb5f267d0d1f282bb04e6a94f7db0b26'
         '4cabd29c32d1da1ef069db737b5dd6e3'
         '0244c5c3f213588f21c687d1d758db5f'
         '66420cd74030367da54a6d43e3c9c71e'
         '1669f14fe603404e3756645207125886'
         '0f1c176384c76a4e0dae80c00866fc12'
         '6637d016c4a523f564ef8896213313ce'
         'c09b1e88116ae5d1e5be038a0165408e'
         'e724dbfb17e85a08bd676a8b70b07893'
         '4740239673fb587619ab2e57c491c2fa'
         '003166316a8ee2bb8f4c39a49952bd81'
         'ff05d9b176458970d1f1782d732854b7'
         '11bee8280dcba89c4939ef51035d209b'
         '900e9d74893040d43daa71e6207dab30'
         '7f5fe7d59fdfd2af41f1051f329cceee'
         '02208421cf12822874a6cdf6bb8226d3'
         '47a7555a9f0fde4e0ba909fca16d21dd'
         '58577144a0dcd97f6f88914942036404'
         '1b2edce88b0470f8d2336d1aac9c8f2b'
         'a563fe01668776aac7e5518884751c35'
         '4f0cac6dd57c19d74f1d7018cc723fff'
         '3109dff8f81ee16ce338704efa1a66f0'
         'c11a0e2ec7a3723b2eeb85f0d45121af'
         'ab6b56d5de8cb54eac18a0a0a0b726c2'
         'ef727c62a46fe169c409be41bc1ffbf2'
         'bf5d474e7aaf8d4fce4eda132326bca2'
         '61a75974e60d10607bf2e3f76748a030'
         '01944c202dbd70ed58f0c069ce1eb9c4'
         '316dd49b83207d4b581a1d594896be90'
         '4b933ff090b454cf81c8b5d0ccb77824'
         'bb819ac624b2aaab4c55902e8d0194e3'
         '102ee7b202cfdbc37e297be7094f427b'
         'b8b50be239e413319be65a20d904f19a'
         '1f0fd1e4fe32a38c0b607ab1839b926d'
         '733960fd0f91a7402917d691b1979458'
         '37c8b3523a43351703a49c50dc5bd8bf'
         'ef87b16317a94640907eadd760fd0eca'
         'b43d86650137dd79ee41f2d2e22b8c24'
         '6299961b66c40b5c6f9f2b8f00e67e44')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
