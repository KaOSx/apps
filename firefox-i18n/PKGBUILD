
pkgbase=firefox-i18n
pkgver=88.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('7b67f5f8d106bdc5190af66515b7256c'
         'd48c78a561c007f47109c192ebf57bc2'
         '4030449bd6fa678032afd10d1a9f2f97'
         '9f7707f654a3c4e6edaea97c6d9a3897'
         '2e436ac18d6c5a1ffab80f6e22b96db9'
         '5b3c1837b41b559d5a3575e86337183a'
         'cf51c819615974e36c247be64a4c539f'
         '8547d4c6545ff68c4ef5b7789c2884e3'
         '2b6efa0f8ecec132966d2a473cd470f5'
         '787cf8d520e152039d70ef6567937543'
         'a70b9aa91fb8293ba773537581e6dff9'
         '3c5d8db0aab03fff2f40ef85c0896907'
         '4ca67e6f95dfd9ca58d75664c01190d3'
         '9c36c54550dc7d7c9474899b7c8b0bea'
         'bd255f5ae9918868f088361eb3f46f63'
         'cb01a3b592618095e034f083d70b5c09'
         '4af3aa1e3418a0954bfed16412991819'
         'e45901961d06c67296ad245cd4918837'
         'bc134373351eecc2c9ecefb5ce526d8b'
         'b51cd6db3982d0f7b7bfa579578ecb9c'
         '5217eaec8963964ea7f9bda7cddc6a81'
         'a448aa97a90175e0d16979ad2a6c8e3e'
         'dfc89e5cfe27282b0f754f407a71c34a'
         '942a280e46809e41e47749a4c321ce34'
         '99ecd9cc8633d5fc4046dce73f9ac339'
         '36db6e045d9126473bcbb2c898791d09'
         'f82981e579068963022cc7e2cebd0c84'
         'e18e97a1a55952dd2ea5fa25f419d8a3'
         '64266fcde7add999fd6197d3d8763d3d'
         'eaf06c4624c678403e06611f21649a17'
         '2008046b3662518fe6ac6ce2c85cfc26'
         '21fba59b34bf8e381952d4b49b8a05c1'
         'aaa178226b872aaaf78135e405698a05'
         '995739caade7fd6f127a32c27ec16ce7'
         'eeb91ece223070629f5380265b6f0acf'
         '154c165f5388c64b0fe6bb6e074e60e7'
         '4d778c0ce6f4318ab35bd63909f322e9'
         'e4a8fbf2fdba4ccc62f80da05fc74e3b'
         'c878ccbf2c3662ed989b879c9ff4ef54'
         '808be10c707b5dc818a2ef06d7e1795f'
         '61ce00415437385477c77fea88dcfeab'
         'b2af7c10328172505e7acf2fdc3f578c'
         '40340b4ccc8506a3d50ab4af9fdab03c'
         '7e68c562e6df43350325f5a3a14aec84'
         '190d987559ccdafe41ee565be993bcbc'
         'b71a2dddb15891bfd199686576a5cd2d'
         'e98edc41c59d8315fe49531d98861617'
         'd14e1c015566b222c0e6f13c40b0443e'
         'b60c0e557999ff9a11f154d4a8a684bd'
         'cc3031cea3253a3f28f629297b5b348c'
         '024f347d265169a79c633525fef0ce08'
         '35298d71c348440ec3604631f388877a'
         '10ee24ff0f8c926ff3b6c8c36a1a0e37'
         '368e1e5f4e99cd032491af6efe33f399'
         '92c09a515c1c9c788ef1524871a9b7f8'
         '9b193e7a5e765a3012b62a2e3e7eb806'
         'a5e45a2d26f94a6cd989613fca622ac6'
         '9b181ca51e49569aaa6920a500fdf73f'
         'a07607945d038727171e647543ff7e6b'
         '8968b59a6c7e91fadfa043c6f139007b'
         '49efc62d58d4a84c58e6c0a9b94bf874'
         '2b81808888f6e7874a41b779faad34b2'
         '04ec3acd63c7b4e86e7fc09840df35fd'
         '8c810775cb609f4b95847ed3b0978124'
         'f4a15eee5b624661cbd98948cd55db9a'
         'e01ea627170ce79e842e2180cb7bf85f'
         '71dfb422d385c5dc52874722672c320e'
         '341461d1c13594c9d443cff61e0f7f25'
         '7f0a96a5c91f18a488ca37e9141ca143'
         '49338762227824fbeec3f5f326437f3a'
         '3e1ab98cb4f726940fecf234618d676e'
         '28880ca78d45014db1edfd0259ba215c'
         'f9bc2ee66136f852e9f7974e870f9fce'
         'c83d75302a4956212f9e32b5c6c9ecd0'
         'bf332a73cf1fd1f76676640692111219'
         'f4b5afccd2cc6a68033b066bffdc4167')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
