
pkgbase=firefox-i18n
pkgver=95.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('f769637b8708e6527bd7bcaf882ed0a3'
         '84844c5665b26d7eed1ea5bd5609c7c2'
         '81ab6a489160a04fad95c395be827450'
         '42af7f03e6a59bcccca1a4703e399a52'
         'e5f59c8cc89911663f36fa5d092a7e4d'
         '67722acbe316c75755056cf5ac3064af'
         '58840b890755e6c6e7033cc12c6dc01e'
         '614a91aa74154e02397ccdea8b324799'
         'f407077c02b466a3d9fcb73cbb1fcc8f'
         'c4018e85ed9c7d316bb69b6579917d2a'
         '2dfb285ee27f2ee741642f948de5033d'
         'dd51c282660a1e8a268b36507223de3e'
         'd673e84e49b1155acf2cc1d8eb6086df'
         '9509258b607f16be461bf57e4c924104'
         '1ae03b5cec0b1068f1e35d81625f73e2'
         '27d02b5c09a20cf157a631cfaf3e3971'
         '57f2316b792e5e146ab49bfc3d750e24'
         '885054bc65014e72f701812485402e2b'
         '4bf950a1429031679f050f86e78d1b0d'
         'f3b7d6db419d85e812f18afdbd1f13dd'
         '2e763d0510573175e433bf56382ce434'
         '4bc6d9a7214e36570a9162f946a38796'
         '2d8b9638071e4346c1f34c601ca2fe69'
         '3fe9c9a70c07b600d1ea408f68e57ec7'
         '800f79531868af7bc70eb3c30ebc08a1'
         '073b81d18e6e2843a117da5478739232'
         '29f40ac6b2dea22b10dba0f38d79610e'
         'dfab94bfd8fe149d43aa3d0b5293b615'
         'c79b1366f0cb112e749e200ed6cbd7bd'
         'beb065d48b3cc05b5a6262f35015791a'
         'b8e6c7098c7f8d6bace2783731492fb6'
         '49f42bf47279fd48509d4d394181fb2d'
         '860f247c99d2f7bede1dcaccc66cff8b'
         '7b04e5a520a8663c1622649857972ac1'
         'b2c289e64972e48173d0df4ab494f23c'
         '36efb6dc3ba7007183d4351b0828dbab'
         'f2a48b13a45bf13fb4e272d66122adc7'
         '6239bb86a8e94ec4fb9b6f7897ee2ca4'
         'd7d07f1e81fa903a04219fa941667efa'
         '9c0313d3f319ea13d4e26a1f17c467de'
         'b5d1fdb6e60b70107c4badabf9f8929b'
         '64fcd04403e7fcf6f75b625e22375b80'
         'f2d487266bf643c324c36aa4f3eb9c27'
         '4cb6b947a8d714dd501035828528f1c7'
         '709582304aafa210d832fe0a351c87f3'
         '2945560f09c320ca13396bfaf5138646'
         '94078ea0ca28162ee0dbe7f0343b5312'
         '42f9c695228a5a281b4dbf93f0bf9fb1'
         '29968ddb5f058b7be18f220a06fbb968'
         'c2de8b8ceff41a076aa6bdefbc8daf3d'
         'a8d46987ab6e1e0900292e6e6d393f11'
         '381b887f7e9bc151c2e498515dbb4cbb'
         '98398f23e6da7a4317bbd9750def7592'
         '889fbdb86ef976a8cc70e53b7565855a'
         'd87c6fab94b0cb584a2210a281f7159a'
         '849043d2110a2fb215178bd93c51718a'
         '38388a8a1911c680c9a4ba6a027ec1d3'
         '94cc9bfe683d3e7a68c7831f1ae03d22'
         'fe3f4d7490242f6d55f1942c7793142b'
         '28317a1f479be579718f0dd95e61ed26'
         '30f879545d5c079a4c3c2d08a6833f82'
         '7393ac76fe424d2027453cd57094abef'
         '997652f3894532a574e7cdb866506393'
         'b3dde89d2b427d4abde1757d1c880478'
         'bcac2b533983d524349b855057bffe24'
         '5fa213f31a0bed37ee52d3e482f24fec'
         '65e24dcf7c194e2631da2e503120a031'
         '6d65265c834f1058333c397df665894d'
         '29e12fe7333de5616436de3013c05f05'
         '362ea57e9370e06193b8a3795d5e172a'
         '3e59ea6b8896e00d53f7cc8b3017e232'
         '79313d630514b1166743ee9e76384507'
         'b2ba5f6e9ef83826300f504628e6b77c'
         '12b9e438627f9ac25bacf73ded9472e6'
         '091bc6871c75c6c5d49e5315bd3b6088'
         'a26ae99bb2692f6590ff0beb1a4b7081')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
