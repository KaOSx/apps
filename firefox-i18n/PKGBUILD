
pkgbase=firefox-i18n
pkgver=110.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('f9852404448da97087fca5245e7d647b'
         'f334915978db5a50930961f8a06c8cf1'
         '10b5015fcbdeb30acc40b6a2a10f1647'
         'c285dcbd0defce4afea05f4dcbb18604'
         '4fb7478c8007034ff96930442eb1d9bf'
         '2c45605d51b99b417570f2bf68d1af7c'
         '60c73c9e639b454faa715cf3a8039498'
         '2b957ed9a2e42cbaa35076feb3c5e434'
         '6fb0192190fa508af3f985ecf9d86c3f'
         '176b842c9cb4980900d540f46824ef14'
         'bae475c1a4fbb11bd5adae3e8acfce0c'
         'ebe43880ba3b79328f97d68c5f76048a'
         '054dda8e3c034fc4bd07663169e9f6b5'
         'c17d0e3826bc5c240927ae00d7b92928'
         '9ce5fb5e901fa26ef219c8b6f86fc5bd'
         '6049592d3837e881ec46adf97a77868a'
         '4ca7467645bded7a935873276f59a4ba'
         '1e61e58b636d6c92f9b8f481fb081df8'
         'c0a86b8908c3ef7c92526e64ae593864'
         '7f56dd4a4262fdcd75824b73c4c0c4f8'
         'd6949e9d1f5a98cad2b23a223efb2024'
         '30b5ca73e7e4fc9c7ba55657a9e20ca2'
         '7418383038940e7a2d1afd9b8addf36a'
         'dc08fca91d5684da77081f9335861402'
         '778bc879b5ebe64ec340565a0659058d'
         'b337f4c6bd59f18260f2cc9581a63a62'
         'c83ae590fd1c554876546d14970901b5'
         '89679da7b4b7ba251fccc6db4e1acdce'
         '2e08dc1f6cbfa888950a26e79add4981'
         '6d629dba1415d7e7a98288520cd11800'
         '06c14781a9829707af3889e0df00392e'
         '49d53e10a73ad58ca908b911f61f448b'
         '53e10720a6bdb47c64c304b11c6c2314'
         '7f30ab1684dc8f0c16c5382df03fd932'
         'd483d1ce1e27135f3f78a7c45fbd52b3'
         'b34605190920d19a9aa7c720d281332a'
         '671ed352630554ae36037c3f580d10cf'
         'ada9880287f373916d51093b1654621e'
         '04fbfe90f775d7fecf89f2a13fd195b3'
         '4b55646154b9b8c27d5b287454a03e4f'
         'a54df5fc867d2d85971097b557a2f9b6'
         '5bcda82530c9da9276b54d891d72cd63'
         'e3aebcd7771b46b51c146e209c74266a'
         'cd842a0e164446d11e3c2a8737b93fd2'
         'ab914a3c29a1e0d7011c7d2aa8c5886c'
         '68ebae19a3316d4af33a3ae3d6f800e9'
         'e8f03bb2747ade7829d5caa24e4521e9'
         'ecd059d6620f9b285f81cbe9c9e8a25d'
         'd2d2307c13d5fea599bf768c80849dfc'
         '421071211b18683850802b5a7f91a726'
         '77a504568939e82514acb4f28ca289b2'
         'ada5f8f4f0d096a7de3f4d0af2b7afbc'
         'bdf848074e021ef64289ff8dcfd83519'
         'cbe6f0c037508b6b6a169ce3c87d1f92'
         'c1708a9b7848846b4e0ca8b637bc706b'
         'c73157d4e258d77b1dcf7c3181d0d7a5'
         'fb27f66d79e2369ff39b22eb8cfa7701'
         'ff27582c58d370b9fe6b9cc397f83352'
         '3b7a8c93e25878b79960a37fbc5af051'
         '6dec94b19526dce1ed56d8672f5abfa5'
         '079ffabf7225b82adca11ec733a6fc58'
         'a77358c5dea00ec0650c69981741ebf1'
         'b40a84f92f2c311e8f6f94c12ffe6e7f'
         '8ff977196f7d761a16d096983568c81a'
         'b720114dbc7fac694163617272050a3d'
         '4c02043eb44df68cd90a03da06c25196'
         '46646018039bc643577dd80eb098bb7c'
         '68f11fdbc7f112de68e2293fe8aaeb36'
         'b9cc84737091c79c42e16e5addb70cbd'
         'c4369839949c415adc44503a0869327d'
         '08ef9fb3bee6467d184a21572231e761'
         'ad7badfc0c8a8ca93937f9f677fe3434'
         '6401f4d40d6205dff94870cc131da569'
         '40a6e50f1e5e8010f451c21dd6dbaae8'
         '81dba049943381113cf9205a41009d80'
         '789644143aa135c95ca2e3e205db702e')
_url=https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
