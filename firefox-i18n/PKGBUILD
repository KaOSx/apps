
pkgbase=firefox-i18n
pkgver=121.0.1
_pkgver=121.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('eb0df586de19615257b1c487498e71c7'
         '224e2e5e50272378a7e8626aa1f9ce57'
         'eef68c29a0f589757b8b10532d107e5d'
         '7c10bbc9818dec63d4db4988497d1023'
         '30df70ad44a72695af9bf65e4d69863d'
         '7fdb1ffafcede0829f64a950b716344e'
         'e77530bfb923ae341b7202adbead48cd'
         'f151331a98188c3a728fd7929e878549'
         'c1255b72b0da0999b433213692e35789'
         '1a181e576b31cfe0cba3203c8d061183'
         'f9f4c8008a4d3dfc83baab1552f0b177'
         'c0dd8df9700bdb49999815e9df45eca3'
         '92b09754d5b9b445ed595a16aa546999'
         '277693e5e81e1634e9e47e15a1b4526c'
         '766e61cb9f179bfe558764f83002e5be'
         '5521278ea44d3c2fc7d420a5c94c814f'
         '07272ebbc94d3b28f65babab694a3edc'
         '947dfea11d402498279a47041ab23664'
         '64eec1103d501bac174b41a22d4d0228'
         '3d38970ec0b0026aee0db10806e5540a'
         '285eaaf881e3235761bdfa8838dcc9c6'
         '38ccf31f3a181621a07cfeacf078c5ee'
         '5d0cf5d6460c7773b0b84c2c2b408a13'
         '918cb3046a718744bdb049257d2ae4ea'
         '3939dbd3f9aef278d6a09c10b0b9c9c2'
         '30a4d4f6f5833d7381d0ba1a744cffb2'
         '5fe010c9c0ed29e526cdcbfe5c960f51'
         'df4e1bf93f996aec9f04a85023324f41'
         '80121062d67647c9c32015fb60f1fd06'
         '97a4d791c858ef5a50016dd418133371'
         '39ff35183e243f7347c39412581d86cb'
         '0505d51e9851634802a02fe755cc7cd3'
         '021da40f21e93eb3499b827fca249c16'
         'db5984db077fc064d0ca45ab6064424a'
         'cbaebf76a13aef59ca0ff68bd561ae23'
         'addb0973614caa2e1684cb93c033307e'
         '5a525965e7e64db40cd06971581c94ff'
         'be7d5c0a3f1999db555b777db2649ae7'
         '65a2b557065c3373be480883df5ff7f0'
         '8514d632c1a5b347d07b41a2ba7bfdd8'
         '0e0b5118df1a2fe7cc17a6540bfec137'
         '37af81e86bf8dc63113380db8c9a620a'
         '9596d8fe0c06ad6d4abadb6c35178f8a'
         'ea759efa790d081c4a8c54e68683c216'
         '891fb32e52a204d175cdcc5b2cbef2b7'
         '76463ba9bfa39e19dd7e441dfb50df64'
         '28cb64f1a460cb2cd10a27a52db589af'
         'bba59fec5afc2d0902e372b94e5f7977'
         'ccca23e645b1c22c2d5e092c75446b90'
         '6e80e55fd2fc01a4d5b95e9ae3614f83'
         '8445dd4d5ecbf02dc70f36b4547066ee'
         '9f0a555aef11a13066d7d79d28b2bb0e'
         'db96e973c351337aebca4abbba07065b'
         'f23feeff4f5b5c574a74b6440b41c8fa'
         'd58627e4469a1015dfa1e6ba565bd738'
         '9d98d2e47fc4b3c16f401eda38f2330a'
         '2c2b1975b32ab3f2e64f02262467a9e1'
         '708459d430736edeb621457e49f86e6c'
         '8e10d8cd3b0e6ba5df799de82cb1f403'
         '51c12eb7eaa14625c454759e09c3a0ca'
         '289a7178dc20e1b94f1d4fc51486ed83'
         'd60e11071866edfeb6119e9def6b96c3'
         'b3b945a2144607f361011a40687b382a'
         '24040ad72c78c86fa039589daea4916c'
         'b4c761cecb7dfdb861e2bf408e508188'
         '1d9bc8513a46dbed37ae955d54a57a71'
         'e6b393f8b6ac9237abca1afde6550d2b'
         'aca702eb55c506d229574226753e598d'
         '49d92248ba59922f5aa89e40d1a848da'
         '1af319180dda226156cf381b85af24ef'
         'b66b6b3b922f825e62f1e7a2b87bbdee'
         '2ac57fa931697884bfef0d455e0f2256'
         'b12069efde1f9bac38648b890c834cac'
         'ac1d3960f1b6f3ced28ab92095fb7546'
         '282815531bd73df06760ecfd51b1cdfa'
         'f74978c69a961141855824a7cf498142')
_url=https://ftp.mozilla.org/pub/firefox/releases/${_pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
