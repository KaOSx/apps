
pkgbase=firefox-i18n
pkgver=85.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('cc80ff7e44a6ae7f3b34ceaf2d3615fd'
         '6c5a4179ad65f1e4b64b41238f01c436'
         '0c7619682254d3d4d1fd3d144ab2b6c8'
         '86f68eb911d4352d1291acb2819fc857'
         'd271c9881c8e87dcab93ca7e888137e4'
         '85ab990c2e0be6c4c4816c84a4e6de9e'
         '5e0e32aea4c0e8068e6da9c3bd65cc38'
         'd51b058413f873da4143fc1481ce1b8d'
         'fa7877a689ab1dafe7ac3b40a244c971'
         '56662dbbb53a6ee5bfb88957582c2b9a'
         '343d1c069ed93cef087b6c976a7f2086'
         '9fd69467c98f5f4004e1bca137c2eae6'
         '7012210a694c52518711a45ef43771dc'
         '2d926555bcb7ee51eeb753028fcb8e5a'
         'ebe1e1f86903b60875c33fb1cf71d650'
         'd17dfda613141a88d1c9434a9901d0a2'
         'c3fee2a4fb3f6b70e110871b70d1b3cc'
         'dfa28ed23084e2ee350a0c616b199ce3'
         'f0d3656aa9c77242da0de27f72b8fb3e'
         '7d835566955991b98bac17234c92af48'
         '61c85630321c96b9ac41ba5349982357'
         'b8acf3bb821c780ac0adcc2269c3a766'
         'a4cb1e4e3d6afc0ffc51d21468caa581'
         'd466b90db1938b3bfffc4c2e5edc7ef9'
         'd8f65adfe2c21a380c86bc00b665875c'
         '91d92f7951d0eb541efca1609bd539bf'
         'fe4b8cc8b213207921544d3da03c620b'
         '3e03e3597aad9cb4a4d339fafae2595d'
         'cbfceebf59d364f20a3a10b9ee2696a6'
         'ae581a0792e89497082bb5a15e8c88cc'
         'b173d9eb20a5d96b211729144213aa15'
         '12cf98f9f906931dec1bffde228f6f6f'
         '7cd9f5e213c87d75e1ad8c7c523afa39'
         '1789cbf4b806e0a96a8ad59d102b8bf6'
         '471d42185e6480e9d0e2c7030c4fb596'
         'f94aa532bf8a51894eeed2b0e0e1e2b7'
         '15e3ee7466e2dd087bff0b0dbb081a7b'
         '63fd37bca01270f161905cde69eefa02'
         'c12941b9a22bd29195c66f88d4f56fd3'
         'c95f6fb5a9aa01f7084e62b82d477471'
         'a5ead7c9ce678b64a1b705300c5147d5'
         'ee53d0b380a2ca05cb27afc547cd1f82'
         '1df0840c9cf6151121979dcca3e03d6c'
         'a55460b09ffa8c6c783838ade06c1f0f'
         '0aea79fb1d68fb874b7a4a49321d08b5'
         '4e667b50c031bf29fd7d17651600b42d'
         'dba4818b36168d105d41f18a70bee56f'
         '5c22f8053c34c2efbd6d0e3550d0ca52'
         '2c028609a56b5f60c7f2b52f444f66de'
         '37c3316eef04b5c215285c1469e218a8'
         '4614283357ecdf09db20379bdd98f164'
         'f5d003955f1dbd73bba866d7a4220bad'
         'd57b536c09b51b9be09ed9a70932b95b'
         '12194efb46fba38f7c90de70a64ff4c6'
         'cc06263f5b16ced3fa8412b77edc6ee9'
         '5cbf60b6496681b1bc9ce558cac2d50a'
         '90963010435de73f48a2d6723d49ae51'
         'd76994fc6d8357b460db43ec0dd0f834'
         'aa1476eef86afdce02fe8b97970a8aac'
         '3a995b02428d8137cbf00fcfe252f70e'
         '883b47c39cfb5103957475a24ca3edbb'
         '23c88318ce2ab275abe5ca27938e1920'
         'd73b707938b97cd9dd44a33854c5e9ca'
         '54ed4c0ea59dc453f1e30cf3769eb1f6'
         'e77f342a6e34e6ff629dad898f471a13'
         'd8141e4ebdd5537716c896f8ac36373d'
         '431fb1e53908fdc0ff4990decffe47b6'
         '3dc6a8afd8adc759978f9c86e9b9dc07'
         'edc90d44be3f47fd9eaa46a2fe3526c8'
         'e67b7b6bb5323f0aab3580695fad719d'
         '37fd1d20e5f2be360cd3531fa9bcf75b'
         'b1bfc1d5099f6049423481c01aae60e6'
         'bfe3d4e1afb6dfe8eb05df17e2fedc10'
         '4ede7679afac94a2a6abef5d471b3abc'
         'deedba21273b0c050a4bc071111e579f'
         '8608050b0b33e565c4e7a4a46dcd76fe')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
