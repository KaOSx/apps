
pkgbase=firefox-i18n
pkgver=130.0.1
_pkgver=130.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('240cf808d93da9537844cd0d54102059'
         '0591a0af81b0cd2fcb7c6f5aaf82d611'
         '24c27723aa6aa532f55549ee2b2ab4ac'
         'c04c97a31aa52aaa3b7eb2026f5e9cbe'
         '1f574c6ca133d494bd8407dbc1951bdd'
         '98ef57011f34567f4afeeb26f018a8fb'
         'eb3da8125fb78a72d98b2500002711de'
         '6e32f36e7cd56195547be05d462407a9'
         '7150692859b4c84fa79acee5a0bf7fe8'
         '0b37d74db133cd2781b1d1e376785f43'
         'ac84859342a6df414cd4f6430ae8a8ad'
         '981b867e6df9a19bef04dfba14e10efe'
         '1737ecc10ff00e96ee45b24b701de27b'
         '404c912f14ebfbe25ce37320e012687f'
         'b1711772756348aaa492a68c739b8848'
         '2546ebe83d1af5f7288595df16f1407a'
         '72647137fc806971769bc1abc01a815b'
         '34a6346adb76fd7afb3c5c77fcce78c9'
         '7d79c1d312724004259a8d5d8c7e6798'
         '8b164c0a1204defa50f428dd6072bdbd'
         'af6e0b9f7ec4dab53cefd80f2caa510e'
         '18446ba65cff1f3b744996fb6efed2e2'
         'dede4392ec2c65a98272422b3f9b92fc'
         '72b4b974098cf7997437c886edd0589d'
         '10a39f0e547a56fc06f942e2d6a55bc4'
         'cc70eeac45b8adfa44ab30be86e46010'
         '1698a23d2eafaecab44b769604869ae8'
         'f459ef8f79b3ac1e8b4b33d4ac24249a'
         '3595d57a458fd56f7411fffc5277183a'
         'f96e4913d747949e8eca74aac9a362b5'
         'b5442c6420855ae286bd441b53f31728'
         'faed7210020c2744bb8f0f773ad01135'
         'b20b5adfbd1ca55bfaea48ce300132ca'
         'f4b0d5ebd2a82a804a8d2e425d683edc'
         '7d039a02ba587501dbefe45caf9f36e4'
         '8e675e38a804b28b15919a11387665a4'
         '6a9e511a66f83639b6dc069531a53a50'
         '9beb4fa0f904e0e922c41b0b02145ddc'
         '8852c8f4e6943ecd67e91bcb45de7d46'
         '86de97b2833dc3848976623041cba2fb'
         '5af15295166859c16bf118a3f6b2d269'
         '474e12d9d9ffd6dd908be303b7d251d3'
         '7e65cd753e01f587fcac0c06345ed13a'
         '56c84b054d7b16ac4d676ea520dd272f'
         '1cee62c23a4c45c81350f7b36ddc4c22'
         '1eb11a32957ef99d8772b5a1eb15dd98'
         '668cb65352b78b706914dc89aceae2e4'
         '0baed78e08a104e5d1ef67c3610441c6'
         '2d5532adad70bae4e26a10c8557a10c6'
         '0240f8a41730346bef512d553d73c293'
         '71ca3938a82fd6ecdb1baaddfa5ec670'
         'ea404aa4e7deff105f6fb52407b4224b'
         '5b90c9d11081e0b5f954f8f9c6087a6c'
         '8c9ed4343f6d106d4231039d13ee077b'
         '684dd1599a3b63db4e7e407540baa191'
         '3ffa81766e943e3d8167fa40405b9807'
         '1e2574fa46b9b387d1ee08262bf96808'
         'fb025c499419e54a08961ae81263d70e'
         '605e6f71addd241fd0a9705b31a88f60'
         '5a1a7cf9c9ed0c317adba15be32ae19f'
         '2356187e3c371485e10f3d6f7bdc2dba'
         'eeb515310caa44560b800abc113904b9'
         'cc7ff14824feb7cb0e329ec38d6c5bf6'
         '7721cacaac11698431965b60a635451e'
         'b99d6315729f2fd464a1887cdaaabed0'
         'dc5c95d66886efb1e65111bbda30a21d'
         '43e10cb0116e69c456221bab59fc96e3'
         'b55d0e60b1981afc83af7731869bbbcd'
         '89f85ec72c1c22230c030727e7360116'
         'aa708b6d4a097789d5ef97fc254a9bcd'
         'ff5ca6d7e3a42b3ed9660ef62958923b'
         'b9a1b863ef77dbaa54bbc117e39d3ea3'
         'd61c4bf14b9e48f5f8708303dacfb008'
         '4c126bbb42d9c425aec4f0f379d6b529'
         'b9dd5e2a61a2815d4070a3874d51474c'
         '16b52c7a19faefcb48da49d717c51c4b')
_url=https://ftp.mozilla.org/pub/firefox/releases/${_pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
