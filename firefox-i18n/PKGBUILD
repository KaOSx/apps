
pkgbase=firefox-i18n
pkgver=104.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('7d61dd701249f068cfad8304de1e7c57'
         '5675f02f645f1fa997c6e2f3d61554ee'
         '0cfbbdf8287fdaf895af1b2d00031153'
         '43eee4c82cb8b0d3bf6ce811e1239d7b'
         '4740cb2e28e076e92f62466d4392f15d'
         'd59ce372855e4f9768481584816d4d2d'
         '2a8cb61c444a81e8f2eba1d50b3ca2d4'
         '361406ca559577f5aa0171425e5a5eda'
         'e07a19122b1d90ba5964aa6852ee204c'
         '825d6353fd61b196d5fce1a515688b7b'
         'd783ef10169361b3c26ee00c13214a5a'
         '1d9926cc72d9ab65ccad088f27a5c994'
         'c983d925721c0ffada68af0bc7596f07'
         '19fc6ad0b4a17bf1c69304a523e5bc0a'
         'dc2b915a45a0d004d9b3eff261e3b85f'
         'af37d61b8d0a31f6b65f631b3c495fee'
         'c48f525c8709ea15ac46d0f1a0b1b190'
         'afa88b54dc880c56acf0c59c92f9a6ff'
         '4fb4dea6deb5771564c05e50578d51a6'
         'd028be3731a0a97b75c7f2afe3165ff8'
         '5bb52fa0c5460dee19281dbbcc1c0059'
         'a2fded55792b0e3eddca5d27a0cfb0ec'
         '4738519e63361adc6489821495aadb31'
         '19260022e5f28c509fc7989cb5f9c2c5'
         '7b054c5f8e6d0fbb40dc1201bef1a076'
         '1ee9b71951fe4e1dc444b1d40f168dc2'
         '6b6c6851217087697a5c5ae58b3aac32'
         '4bdbd6ac5c2c68591cd74b49e1cb19bb'
         'cdb3bf02705588ac6d2982f7a5d1b583'
         '51870de402d84355e43aa41d7f8e3fb3'
         '9160ee14529d3c9537ca4b2c77647e26'
         '5722f6b6cb84f013ff175f855852ab7c'
         '283b48d00546eb6772319769f96dea7d'
         '0f794dc0d4b0cb2ffbad1da6d71531db'
         'd19caf447207b2919c28260b4188fdfd'
         '5a4d053d677b8b927c62b14c18a93064'
         'a75750c978b5590f41c10da591b53ea8'
         '0e063e4bd8d5760dbf98a017436cb9ad'
         '1f6b595a98ec134d4a86a7b69516673f'
         'ed32c734c89b364a42835f5d12019d48'
         'c1692acb3c2b0791b92f440046c374c7'
         '5a7d96e0004bad5baf3497e65cdffce0'
         '435d69e62f03a6c62d6150dbc3db272f'
         'b9e8bf9f993239dbdd6e8dc2a739298e'
         '62bb13c87ffe63c99510b749165827f4'
         'f9c4e80166987e358beb7763086fe3fa'
         '74641d33ac4390b7304ca5bf168ea656'
         'f7a3091c6e59d344f45b9b7b1dcd273d'
         'fe5d7e65d83e2c007e19fc0ff153f233'
         'c751c1df735abde464ee8ad77b870337'
         'e3d6713ed2abe7d5e4430b4faab4f3db'
         '0d06c05f9c47a656cfcf431fb722016d'
         '2c26388d673828255d6d2ef02c9450c8'
         '573134e040aaa348da360b13616f4593'
         '6c062a9a5d72be168ca64b6f6ec1faae'
         '1def9426f886a1aa1bb46d96bd999d4f'
         '11c341616091ac06c37efbacd8b944a4'
         '133e007602d2efe04af7854f1a2e2224'
         'c99e74c13463dbf028e51555429c24e8'
         'cecfabb3988ee0914047857eeed16e30'
         '67af43e2a236eace941151ec2446cd05'
         'b758f5e2825dfffdefe1be3a4e4b92cc'
         'a94ef8963907ae87d0a1530c85a0aa5c'
         '9ebd73a07dc6a2986aeb1dc9eeff807c'
         '5a21ef132190ee7a768d3fb0624d417c'
         '90683321fcaf2bf24a2749a731074b19'
         '6e4faa6ea05d298c1fee8892ba02b630'
         '3edf5dee52f16202c1f7967083bf0c4f'
         '0e036cdc9f6ffcad33eaaf903bed903a'
         '745cb71ffa9d0ca317c72cbc07c5421e'
         'd1c8a9f227c01fb8fcd76d72158b131a'
         '168aa43cdf6dedb1051ad0d72db23436'
         '2bad87879bb663768ff67992a460a676'
         '15702865f70dde230b568f07a002773d'
         'ba04fd096ac32bace6a98bb90d5c640b'
         'a8a1d18b8fca5e622936a3e6ceceb566')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
