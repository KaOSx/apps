
pkgbase=firefox-i18n
pkgver=77.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('aa7610f3f20828d34d91331f9ec0a314'
         '2dac335080fba57a90bdaaf19b6b9605'
         '6c5ff5bc0a230c0e57e29d76b5a61004'
         '54387f341ec2812d4c9e37a28c29c9a1'
         '1a78882ae490e68dfe05333fefcd2bea'
         '879fe8dd1c63301094d67b8dec300e02'
         '00b9e66c6d5e4eea6880fe04af3f4622'
         'a56cb1ccc5216d3b530abb799a933f11'
         'f113debfed6a6356dccb5be1bd863184'
         'b2a4d7c359b6ed66a0b2979ce6cfaca2'
         '67b269d5b5cbb3c52c6d2d077e87c03d'
         '1b04cbaef11341c84d43600e74c3d917'
         'a828746098d05d7d392d7073dfba78bb'
         '9aa6e4e366f11be2a9ce5e48f7b87600'
         'ecc717a831893b936b4a2b5e5e5e6c8f'
         'a4a4a936c60e12fc715363a13f5b6979'
         '02632f95f9f02c81209e42f509eac8ff'
         'aab2db66f736e42e4d838e47409b69f8'
         '9adc203a51388c8120deb1f53db07f31'
         '81b29f49766ba7a8acc0ca1601bfdc06'
         '6e2a52fe06717960e0b89daf3e009072'
         'ea305069d96219c1ae8ae8febbebde96'
         'ec7ee817b40a2d3e4f01dc72bbd65aed'
         '674408f3172adeee2f91c007d08a2f37'
         '89ad9f3eb3b494321bd49c05e310bf5a'
         '9f93d8b56e9439dccdb0123f387cd555'
         '405a88ea3de429f241ac34c66c3e64c9'
         'c3377666075d9dc7ad178f2c78378cd9'
         '06e805f9d52ded92d7ad21e79b995a5c'
         'de5fcbac42960b2f9bdd2ac136a43ae0'
         '9757e7417d18c6a138174d8a957e5acc'
         'dccd45b47f79f21c3a3ed4056cd10a93'
         '94566962aa08b2c8d63cda4fe702a381'
         'e5328335a4c2771563cc3a56bc78e081'
         '0d053a56aab1b65ddac845451c25aaf6'
         '3e00354267218fc344f40cb341ed3bab'
         'd799392ab1a981117c0b5c82f5ffc8f1'
         '6b198f2849697b87c3225d3218f5e635'
         '52e0dfb01ea7b9c0b85ed2c5d514e8ea'
         '6d4a3bbb337a3fa4b9d7c6dbdb1a8b8e'
         '461d7ded96b5a51cd01ceea4b831f59f'
         'bafcee8d1ed16f92391916216a646e40'
         'f6210563e5891fc791a46b3a6f8c19e6'
         'f505008dbd9907b4fe85c006336296c3'
         '764eaa71d68a606b304702d4aa8f742d'
         'c99befb5c9b48507002076524e8b3fd3'
         'dae913980631a8914e1c635e7326ddb8'
         '898c7fd5b1545213670278e3cf0d029e'
         '513a174a41503e394e4052d913469355'
         'ef13f6676307ca3ce2303703cdc18789'
         '3eaa8e409c403e6c01de513f971a1c02'
         'a9f157cc33a044d8abe31fca02395bf2'
         'aa7cc6a21edc5f3598c6067ba8ed683d'
         'b1031208a8287134893f2a0e2f4f4ea0'
         '66f3400cce5babb4f9b9c19cd7ed36da'
         '13f165eb5ac5dcfac30d16b78393e505'
         'e0a4fb472d5928f494d1f5452b661255'
         '6d30a967cdd569afef6d45bdb2d9ce2d'
         'c565e208f4c6271023d9d31ffd8e96c7'
         'ec5c58bb847adb8f1992d1ffda21b093'
         '188a4778ac7995088912c8ca5ee14ac2'
         '8c01f7e9a54cfe81d3fdb88ab42cbc70'
         'f876099f5bfcd1aebfcbc0bfa3756541'
         '94f0847eeb70072187c514ec9f200805'
         'b559b095d7459c9973b508767b597831'
         '24e777ca109c63446094b16037513db4'
         'a84d16a8e763a271485443aef5d4a6f3'
         'def5ab469c0408509309beb852d804b8'
         'e170aea94839e1fbc5b016a366cb7da6'
         '9b894c22d33c6fcede3f25d7b44d979d'
         '80c44d0424f64e8af12666f614bb4373'
         'b2905de83f4e1530842ad1712e007de3'
         '45e745fa22eaf2ec2a43d8924f8e2ec3'
         '72736463b73a3827b62a5de76b9fd7c4'
         'bb49674d428da809288559fda3e7fba0'
         '668cd7e6f1007f9c0bc507aa33a64e08')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
