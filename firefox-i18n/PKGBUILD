
pkgbase=firefox-i18n
pkgver=89.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('291ec9d5ad22b94e4e7c2f1985860289'
         '136dc4d6b2cf2c0f89e9c935d357e229'
         'a3693de5e5812c5f5a6a268eb2359db6'
         'ec2bfdc01895179d6f0d08166012c251'
         'dcc1a38f7ead00e09a061aa4fd0f9014'
         'a7ced98cf42c87aebcfc71b1c26b5a48'
         '666778d659d7841d5f42139c20a4b131'
         '44fbbb13a65ecd579accc8aae1c7f019'
         'e381b7043815606155ab6a21850593f6'
         'd1882a079b204e241a8c260841f65684'
         '8563c54f0b67d853589d733240677ab2'
         'b21dc2a5db9b1aed00e537e9dc373608'
         '2094ac6fd6a00cc420d1e0d56963df0f'
         '14ba34af3c6cca8b570641e42f21d70b'
         'a47c5cd77cc538dd14b9ca3b8c2a5d08'
         'ab35a50632ddaa0c69e83b2dde63a16d'
         'c6909e7f9bdf2d4733c7d4df1b3613a6'
         '107df96ab67e8f146adddfeeb3aaa7ea'
         'f7cc960484ed99fefd6ea6370440132b'
         '196ec65e7536ef0f18841d5d2e230bba'
         '837e8dd63a299868bb99353d7d366c36'
         'c087405e5fbdaa6e483bb1b47365c456'
         '95f0cc4a9df182fdc31f8a46963adb4d'
         'd7ca936d6c27af3fde4b8c5c8ce0dfe3'
         'eb8c59ed6542b176835205ca9f22cbb8'
         '0ac6d8fd123bc071cce46ffadf3ebb15'
         'f0a9136ff4b65ae72512463b20e9dbf3'
         '52c47a549a91534e19d4b724c38ff213'
         '3bad08d4813cf62a04537c9d19952a23'
         '5133bcc1a894c3e5cfa3276554f492f2'
         '0a9a2bff657adc8975003471e6f018e4'
         '3c7d4aa816094fcff0c96c0889152262'
         '6c81f68af02adddb4bb682d32072e443'
         'd2eccffe07ee52e176e66d1223829ada'
         '7178a7c6521523042794a492b3509af1'
         'a2585cb471ec46ad18acbf1290f9b273'
         'c062e1447e37c7a496a52aeff0cb74c0'
         '7ed409430fb15deed1f9fc29d1612e90'
         'f3b6775d317196230f3b80aa087fd9f5'
         'ea6fee385bf15f1cd9cdca9de4189a1c'
         '901992746fd903e8cd9bf584374edd39'
         '37543b300ae710d0efc651665557f9e3'
         'c6a3ee499c6cd2b650d573b2c3c2610d'
         '2b39b722cd688b339b9b8b4e8464aebb'
         '8f89337f978f47f2f417461dc27f5eb8'
         'b7a79e8ee03415e20dcfa33804a0403c'
         '01aeba1dea8c6019cfca3464330ea7f0'
         '8657e4a133b01e55149c88efeeeb36b1'
         '31ce800f7947de16541230be43b11a4e'
         '6db61ee7c79d25b0364b3432c248e84c'
         '8386413263b3cdf27a7ff4bbce69b380'
         '6aeba99e8ef8816da4cc7d3f466381e8'
         'bc5e9ba3debb6c0ae69ad41decaeaa60'
         '854ffbc33a4b98b72426937e3364a268'
         'c18ecf6583b631de0b330bcd85bdf5de'
         'c2e0815a8678e7c212629dd6d2936491'
         '7ffc948cf318af6072a8dcb62fecf954'
         'e9f3b327577894febfa70f7e15d1ee07'
         '590430eb6915f8fa612561a88ff36521'
         'bd5f109cff71b340e288b42ce0467278'
         '82dde0a5c497c64a565055770353e584'
         'f528a9da6af228e67e25a0703b282f62'
         '3420a808496f6054bd83228207d1f8c1'
         '840fbc5ee76a76d8e0eea491ea64339b'
         '442e1bdb38dccf9c9adaf889aa0a3db3'
         '9bc1722e3d5c989ab41f39476780db38'
         '850685e3a2c719eeecbccf1b6c0936d8'
         '4374d760b4466d6272ea858306bf80d1'
         '957ef7c449f72c2376e07184e5fedaaa'
         '85385464da8830ce0cdd33ad9141daae'
         'ee3eec7d5638f9a336930407548dc235'
         '4cd79731a9aea3247cffbc4d28bb91e5'
         '82a63f0144cef3e7261197cd9f6dabf9'
         'b40ed02a5403d1a7c1b1279c12183e35'
         '8ee1752e0764a4e92a373616e6e368a3'
         '9fc3179591c54e73a243fbe9bdf0ee55')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
