
pkgbase=firefox-i18n
pkgver=85.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('f969a86166816b35180bab01b7875ef4'
         '6e2764d36b187dfceaadd343ecb07d84'
         '3da2590e1d027994afba4d2d948bb3c8'
         'adf9a6d92b555cd74599fa18e815f87e'
         '910ad1fb358a6ce26c1ffe97ef379362'
         '570b2ce1bb3a327fa988688a29d3e114'
         'fa2a009917949ad425c72d45b22a1f8a'
         '382f8de165d4ece81a74d5e4985c150b'
         '0c77e0637949b890d5d013381ea4113b'
         'bd9753f409eee9c59663ef8b4df3a247'
         'bc3d911a08c88b0a01218c26d5c5b8d2'
         '08308dbee3626e9d61f4e2b0112381ae'
         '9d7318b2261f3bdf55b5eee444db5962'
         '05b4d157a5ff167d55f18637bb6db95c'
         '895b3e4b6d693d96431fcb2fd5269588'
         '508dde2ae73074a77f036ca2256b7f50'
         'd8ca4935eb0ff3faaef2d39086063355'
         'a5e476a3d9ae160d0e07023b01f868f2'
         'd21dca5f3fb944c32250a7b08e98739c'
         'cebf06ee18b6ce50aeac77a83215bbcd'
         '5ca5424b1cbbb3d786171858c72569f4'
         '5d15afd7e5d682de437d799392ddabca'
         'fd2722df7fe4e804062cfd10c8528ca2'
         '47e49b3e6d716a6f7a6888f47328aad5'
         'a8ff7b43bd36c66ef764817e3cc328d8'
         '02e4b381ae4a4b09cac068649f906752'
         '3e7eb28c34d13695f37b8e6c40f112ca'
         '6a18ac516b3847ccc18d33cd6cfdf413'
         '1cf6404638d1839477f4a51ded730ae2'
         '69c76c6366f24a9ab94e47e62409fc9e'
         'bca4f3c43fcb0ccf97c3daf333ed15d3'
         '7e90777f9b394c1875bb1e0961e7c0e2'
         '707040c43ec0fd14743b188d8874b672'
         '9bce162952bc0f1264a8d150359d0a46'
         '2382e61ef8c5fab69d83856c16e18790'
         '82831279c8762bc64e0d579cba939374'
         'c6921ebc24ffd248ffa64167829497a0'
         '34eed2c058fd3ec5011df9ef1933a653'
         '808773ec08f6cd6ee8b1397168bdc4a7'
         'cdd1df65c546265057633cea82f2569c'
         '9f7480267fda65b80fe6e47154883bfc'
         'e006400cebc98bb6667b453fb904e977'
         '305d96bbc08e2bf36467c7412ed88482'
         '94074e509e9ee9befbf7d30d1d8f887c'
         'a02d0caae34fdfb24c2d50bbb7ad6231'
         'c3f390c893a7b64c3edda62c64e0a8c3'
         'b7857551bf4897e7c6da0a99cc0500f0'
         '3e8425de6bc0e69cca52498a30949272'
         'da6a575bb0d3affd11216eff888e289f'
         '4b6ec9b897873c1f3a9f635bd03ec2b3'
         '191fd7ad15d7216dda1d06473d781787'
         'e4d79b2c7ede250dfd1d38fb5cd1f992'
         'fb71788040ead2561957d82fe72ab02b'
         '19a8f5d396f85dc1c09d0bf4986aa472'
         'e300d35c0c686ba72cba4cc62df16074'
         'dcf0544ebbf13bcecda2357073d0ea26'
         'ed4b106f7bc80c881ea70588b9b2ac76'
         '7ec31b6a3467205b07e1139c14d16202'
         '15add2f2aa17c4b0da871344a84a38e9'
         '98e5a9f3c2aab280f732691802e24e7d'
         '4851eb019e55d6cb5cda996ef4585943'
         'd2c45f7791000610026c19d5eb4e58c3'
         'b6ee2649876cfdb72c5991704646d62e'
         '78812edad04fa4c4ebed26419974a670'
         '1415bc749310c40635dd34e006fddb50'
         'f86d7bc34a8736b508e790621257a272'
         '9757e4303bd8d23c71b7f8a0befccb1c'
         '271891440ca8ea0ebf4a7f39dc59f3af'
         '07de33374c8dac28001a5e42175e8a75'
         '0a189c95c6063ec20235dd4e87814626'
         '00cb132023b95d7f76ea58ae1bbe118e'
         '87b6a51522a8ffe44c2458b11e47104b'
         '3c0bfb1c9d4677c3c60f0ffd09fe9339'
         '645059b0419725bc2850635ce1844dfc'
         'e9c64c646bdb72b0c236b766d8bdd7f1'
         '114c1bdbfa499804dd499c67bb4ac39f')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
