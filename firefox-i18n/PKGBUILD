
pkgbase=firefox-i18n
pkgver=74.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('91a2e1eeeab7f0fdd5d1e1db9313d9b1'
         'cca227b25f2007823e3ceac5461d1196'
         'ecb009fe44b9de87a03e7b4d7d53fc4c'
         '5ed976fc5ada51126848a50662b5006a'
         'cca906c58cf52ffac269b8586c766e06'
         '9fba5088d74cdb694af1cbaa1bd084cd'
         'e5c6292792ccdffdb0df1318b701ab84'
         '0ff4fef608c2eba3eb4e1444644e0396'
         'cf609a5bee1295288d5a663b9d1873e5'
         '67334517a02edc81c29a2179f2901ed6'
         'b6eb2853f38cfc4d5dacd1b2d8bca200'
         '04f668b5392ccbbd0c01e92842a8046a'
         '4975a007c1f977fc9d3d1f339408344d'
         '3293c37352a5983f305b5b1da975a55c'
         '8ebd829f326c6c5761e5738075569566'
         'c68fb6be3ef36ba07fdbbfaa46937ecd'
         '8c6202fd9cbfc34c6bef8ece03bbb762'
         '4143803e9c94fba76c93ab727e7fbfb8'
         '5d34814a9343336ba9d26cee838d8d6b'
         '2c113967879f152a80809ab063ec4a60'
         '86b0be5e8e52cce0673bf651f3a42338'
         '10eb8edbee5270791fa2dcc02a941b81'
         '73155ea30e0f52c5c2e2485a68edf75f'
         '83278d711a70d1cbceb6fbe81212a80e'
         '0e429d0bf95d97fdd6bb10649b3c92d0'
         'faec4df0c7cfa1ba2fb834b29e78bc76'
         'bca1f217077815b30add4b4d80309b52'
         '4d60ae2a758e39097f0da17ca4ed10a5'
         '57a810960b477bb79a8165143cbf6db0'
         '02b5a5f1d9abe53a918235dc96d2c517'
         'f9b247f116de4a5e35d86e99e90fa2f6'
         'd3a9b8988b777440bee1890c09f987e1'
         'c640f754c7fc0dbf09544f20d6de7335'
         '95a2f0d14d8631f4758c1991562d1bd4'
         'a30bbcdd1a17fba151dfa5eb2cf9701c'
         'f3df5ad02ceef76fbf3309cea302ab60'
         '5d7d6b4ac133127c24335354d9740db0'
         'ae96390c5ec86140d7a34651296ac523'
         '675b73cbc98c009415d37c84269a765e'
         '965669a2870b368a0f1637a405a720b7'
         'f4e1fe1b8ed715563b5a3104d7397604'
         'adfd40e736013960faf1abdc33401031'
         '743f2897196d1c4cbeee59b69577eea9'
         '09fd9e0453b5677e2dc61b0fae0c37df'
         '5741ec661d39918421f5daf158c8fb9c'
         '5cd7fefe862a855b5f5390cdeaca189e'
         'ecc3c99ba83f73a2602dbb76a99d2735'
         'b778948b577bd5ddfcbcccfd9eb906f3'
         '74d6be461fc4af98fa78b3123e7c7491'
         '5b4112dbf5fd81af98c8273a6a9d2df7'
         'faf8e7e8a7352276a8da319041df9b0b'
         'b55777b8a49d1096a3f8b841eb891b15'
         '070f78c74bf111661384c147e1f3d90d'
         '0e8486d62f865072a4db7db19b9f09c5'
         'd922004ff8debd7ba33449712e726b4a'
         '3156e199085077fa0e32864287f04e16'
         'f4731fcba603d416945d8befea79db81'
         'c31f64f8ff9d55a253a5c565c4282e7e'
         'd56fd0cc3e931c6aad716278f4491bb4'
         '793ac191cc008ec54c1dc81b8d452225'
         'd6fcd3e6d45e6e1a478c880a2fee0560'
         '11725d81e7b1f5ba8e8e4c0386d4c6f1'
         '32084e7926adf94d4c060e6738eca86b'
         '8ee5d788aa3cb2f39d6748b172a86c22'
         'e9b12de4e66628b356a15fc51c1db8d6'
         '338a52a8886ce0486379367daa2bd2e5'
         '0cfbea7d4409bcb633f6beac10991276'
         '2200c6ff7dd94ae387022c7661fd3bf8'
         '4da82a87acc203c791c03f4c981c3503'
         '6d3cf90632935949f17a8d16eb6ae3fd'
         '9870c28d488656b02546ebf2d892df2c'
         '4976895b969e0a6d70f3a93f05903df1'
         'b53a5aa0c91fdaf90348c41d492c298c'
         'a54cf24aa7f615783289c136cf026bb9'
         '749335bac564be3f488d061453e515e3'
         '577e38c22d60a30a861a6481eac7c4b4')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
