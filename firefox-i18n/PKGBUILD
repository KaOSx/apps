
pkgbase=firefox-i18n
pkgver=82.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('45a7e0cb09eb005b0d0673c3424ce8a1'
         '982a8a710fb61bfb91d9c071418b584c'
         '50e3eab78c220a497bf901e66170cdee'
         '161446b6b16b255b811ce09633560ec5'
         'd432f83ba4c50f73b2a0883575830864'
         'ac3481d0c9319ebb9a36d1dc4bad0160'
         '92a9649f62e8ec72d0cb86635d57fd18'
         'a2b2a2b4c49124757eb546a26505b6ab'
         '33c27eea99986700b271faab3daab72a'
         'b1fc2e063ed16b7ffdccce376aed7ebb'
         '94ff24eb47c544f3addd572c24b7813a'
         'ef81b0efd77accdb1fb3a15baf8883dd'
         'cfe45a89492f90d2bdd1f8ae6956ab5c'
         '6ce7247026651454f37190a8509320fa'
         'e5425b2cfc24528dbe617fb4a6ded6de'
         '5744f35da18ea33203977f09e6dd7c42'
         'e636efb90e7e331a5d957c0457cf760b'
         '92051155b7362f587caf3c939b10b043'
         'f724d0145d2248a9c38f8eb33a776d60'
         '6ea70b87f43065bc82cfedd8953c3a9a'
         '92f0578237dfab35cd02630fdbf0c6fb'
         '70eb49c294d708adacf471919a1b7af5'
         'c6cfc17ff4781277f512394fff95808a'
         '3769e527c1f88bc6830450e712ebe9f3'
         '5d0881d8d2635c65885175663102cabc'
         '1df1e2a872332c0ad0b925ec47589bae'
         '4d95ca7c99719b1c6b0fff97bee821da'
         '0383dc8bbb961868f2a53111555c76ee'
         'a095e00e6bfad66ee89ada08fdabc62b'
         '484cba5cb764823bba8e6151e3cefbe6'
         '9ac7d1d128e15af9e25554f4b5908442'
         '701905ca5e66293c7eafdd23914c14ee'
         'b69c8ce68ceda078f89f2b45e0a22052'
         'bd1faa6bac915d7187d8a69e4aff3985'
         '7aefffa94f38a31a888699bdf6a79daa'
         '91129bcce606d1fef30b863f2fa1a1e1'
         '81a335b9c3a8fa6e0177ed19fb9cecab'
         'fc44fc432d58f2ad9723a83f3332ccf6'
         '30aab5f3f3be2c508abe17d5b3386261'
         '761d2e5f2e67df1b7290b5da8363cbbc'
         'd4f60b6c70e2e2aa4989f52f852a6558'
         '658be849b88297f25d4bd86dacff98a5'
         '9076b109e5df493eea2c251ef5f6e2c7'
         'cb7c1b375b0cef87590e68297d73214d'
         '8d392211b877dab576b52e63e1348b47'
         'a1d5300bdb155a6e8cca1497801dab48'
         'f90210662a214952f73274251b7afa75'
         '385581cb4cf6077d7326ff2cad7d6a92'
         '6c7ebc6d8d5ebf43ee8aff2e5ca6ebc3'
         'c97934546d33dc4d94850e36c9e03285'
         '2f257a9385e1166a5ed243a6079464f9'
         '81cf8a6857661b7fe7f9de483d0f2c50'
         'e074123164ab884570ea56c085478e7b'
         'f99deead2e17fd1badcd9dc10a3744d2'
         'ea9fcde64e9db1adf489b2abaeb1c273'
         '9ff8cd2cc72e0723efc70b41e019804f'
         'c6b286e85af7d32440c616e0a9a03d64'
         '9cf94fc8db6fd456cde1e2e30ccb66dd'
         '8bad06cba498b331157bd95e6bce41c2'
         'd7e73798514a2b5463cf5d0e2c6b5426'
         'd8c9e28038ea02bdf7563aa332a66e5f'
         '608afd2cd4e037c6fc43d8cd35697340'
         'c65ef4e1f54944ed6dbb09eff2b470e1'
         '6b3e44cf4d3d41df31b1bc537e988034'
         'ba4f4d31a84da5498d898a5198dc193d'
         'c3a4968b7289ea5222a915363ce68603'
         '6bdd8f9e1dbf80dc011ffb7db5be93b3'
         'c2b94077b99f887e592dcf78145f4a0a'
         '1874eb971d68e916f023d5ab9aa129fc'
         '4bd19bd2f8614cbd34953d33cd4c4a64'
         '7be3c97b9b38aeec4e90a1e81be5c896'
         'fdb96b9ac8f41250a4fac47e4a946174'
         '88622e943832cf3a0a848991473f9a11'
         'ea937a4107ba80935ff5a2a9f5c0cb27'
         'bba6e43d0128540b043678f886bea8d9'
         '0274ddedf8c975ad27e96ba795e53731')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
