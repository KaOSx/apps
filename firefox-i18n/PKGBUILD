
pkgbase=firefox-i18n
pkgver=112.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('e11acec459dcb0394d4c65e644d1f2d1'
         '1655ba7a292191d7ca3677fc6e398878'
         'fe82e8de0ea83ffa20bb74ab1cc8eb34'
         'cda16f0560aef07990c3a5d556e64eb3'
         '0000de7983c262de8ec0d86be3a46861'
         'ce8090f8b1a66c517e01f41e2e5c0ea6'
         '40667123adb6e4da56f66d4d51b85b4e'
         '6412549286b2b895be11a03eb48d3fae'
         '0d5d0e41a638da24359cf764e301788e'
         'a01aedf9af0738f82be4b351a020e3f8'
         'f05dfc8d7eefc5448d395cb43cb6db3e'
         '2d02db89f572ce3b457b1a2a7c1e517f'
         '7a9771f7393ce7edeab363af8ddc46e7'
         'fc12b570fbd78f387feb6f5b192e9db9'
         '9c8c5255448fcc200b307efb7991944d'
         'a7093acf8751a15b6f0b4375c145da6c'
         '6828a8ff59bcffb40f1ba28ad55cb264'
         'b76e6d38a6bc5c694574593419506fd9'
         '03b59f88976c9fb7f58895edd52ee118'
         '2ac02aba2f65e51e82575ec03a0a4bee'
         'cf947ced8cb533832d5495a2b1630f4f'
         'f1d0a95e5df960a169b9b36c119af534'
         '46f51a4f388692c6e58c049a9cdd2314'
         '50e58d6dfed2143694d6b0112c2267e1'
         '5cd29a76efb15532a535955411182782'
         'ac7ff71859ba376bf849225d8f0921fc'
         'd86f120b15c4230e69e18278cfbff86f'
         '01ac402eb218312f83c3118e4b2c22c1'
         'f8ced1f365fe10c0fabb85505166a233'
         'c958561223ab414c50ef5ba54f1ef8ca'
         '67ae082fa69d19f0fd2f52e9ce0612b6'
         '8a981b3d64550679d90de92f73ec6b8b'
         '2fc221d9966c45254050092eed60ff61'
         '06522cd68d51ea97e21834d24fd6be69'
         'adb3a7ac9b3dc864cfda782896057bfe'
         '056ac9f75613baaddc72f0ef55128973'
         '05492e447094c6fa6be5a2a8d790d398'
         '4e9d6a1011fd527b76afceecd53587fb'
         '46f603fb407e602d7145e077810e3c3a'
         'e2a141f367b6d485573e8bb8d3b4ccac'
         'd37922b206ea33fd93af031ead884d05'
         '3649ad93f64eb028f254eb67a511f0ae'
         '6325a3d8dd21fe499cae732b480928ab'
         '0d27ed2d12c9eecc5e71630733bca3a5'
         'f8e38eef7a4ec2b7c3ee555c06eb6796'
         '68e8783b0235b1b9f116a8de0f5cf413'
         '3f5393d4ac407772a457170cbd54d85f'
         '3339df8b9d95436c4a2fd39a14fd7c41'
         'f2e9afb42ebff42cdf2ca24657b576b6'
         '179583da518153341feb1746ad6e7f1b'
         '4da88b403e80705970e9c5038171812b'
         'f72872f93b726256ba5290c9b0e6b5b3'
         '0946d6e2b1fcd49616fb3c4ef153b450'
         '0db030bcf3bfaf150b523f9bfec9d59a'
         '10b0c74ae913e4d14ff0b8adcc5e0fe4'
         'f392f7fbc3b033362e0bb19868f79cad'
         'b92b0625c11ad7fc9f20c68dee699693'
         'c103cb31d4dd4871f199129391a316f4'
         '0a8386120f9b7966195db26b798cc55a'
         'b3becd2c793d94ad8933f47cb0a3598c'
         '369af2925fb41125664560a784e60a9b'
         '4ceb9d19f849a8311d4140ce161dcbe2'
         '52331932e3960afd5e02a0894930835c'
         '471012e70789f21e198af057ba44fde1'
         '79421feeda53bd61a1c68295b5e46bcd'
         'ec04127c13555a907b4ef34d11ed6a5b'
         '0d011755f21e5a2014534fc487c6975f'
         '76a851263333ee00ff2d9d6f6380c2ab'
         'd3e272d2936bdde72013c9700c434be3'
         '404a6c6bcac9ea91b1f6b15a582fba98'
         'ab4949afe6118482de1327720fffaefa'
         '5cf381263bee5568d6d6b62dc0e22654'
         '5a3aa490634556ebcad2d02ec85d80cf'
         '37ee7e7bdbf91cf5dddc8b4db22ebd9c'
         '7bbc162baf78eb53864380683d293c2a'
         '090eb48f7a6045f8f6e6cc800cc7982f')
_url=https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
