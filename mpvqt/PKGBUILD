
pkgname=mpvqt
pkgver=1.0.0
_commit=1109575eab5c6dfd73b7bed6244f85f9da84b39d
pkgrel=1
pkgdesc="Libmpv wrapper for QtQuick2 and QML."
arch=('x86_64')
url="https://invent.kde.org/libraries/mpvqt"
license=('LGPL-3.0')
depends=('qt6-declarative' 'mpv')
makedepends=('extra-cmake-modules')
source=("https://invent.kde.org/libraries/mpvqt/-/archive/${_commit}/mpvqt-${_commit}.tar.bz2")
md5sums=('db27bd151f751a985c468cdb7daa5cc6')

build() {
  cmake -B build -S ${pkgname}-${_commit} \
    -DCMAKE_INSTALL_PREFIX=/usr \
    -DCMAKE_BUILD_TYPE=Release \
    -DKDE_INSTALL_LIBDIR=lib \
    -DQT_MAJOR_VERSION=6
  cmake --build build
}

package() {

  DESTDIR=${pkgdir} cmake --install build
}
